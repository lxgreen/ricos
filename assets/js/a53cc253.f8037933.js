/*! For license information please see a53cc253.f8037933.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{142:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return f})),n.d(t,"metadata",(function(){return h})),n.d(t,"toc",(function(){return m})),n.d(t,"default",(function(){return g}));var r=n(3),o=n(7),a=n(0),i=n.n(a),l=n(156),c=n(177),s=(n(56),n(60),n(310)),d=n(385),u=function(){var e=document.createElement("div");return Object(a.useEffect)((function(){var t=document.getElementById("editor-static-toolbar-wrapper");t&&t.appendChild(e)}),[]),i.a.createElement("div",{className:"card",id:"editor-static-toolbar-wrapper"},i.a.createElement(c.a,{toolbarSettings:{textToolbarContainer:e},content:s}))},p=n(8);var b=function(e){var t=e.children,n=e.fallback;return p.a.canUseDOM&&null!=t?i.a.createElement(i.a.Fragment,null,t()):n||null},f={id:"ricos-api",title:"Ricos API",sidebar_label:"Ricos API"},h={unversionedId:"ricos/ricos-api",id:"ricos/ricos-api",isDocsHomePage:!1,title:"Ricos API",description:"Ricos Common API",source:"@site/docs/ricos/ricos-api.mdx",slug:"/ricos/ricos-api",permalink:"/docs/ricos/ricos-api",editUrl:"https://github.com/wix/ricos/edit/master/website/docs/ricos/ricos-api.mdx",version:"current",sidebar_label:"Ricos API",sidebar:"api",next:{title:"EditorEventsContext",permalink:"/docs/ricos/editor-events-context"}};Object(l.b)(b,{fallback:Object(l.b)("div",null)},u);var m=[{value:"Ricos Common API",id:"ricos-common-api",children:[{value:"<code>children</code>",id:"children",children:[]},{value:"<code>content</code>",id:"content",children:[]},{value:"<code>cssOverride</code>",id:"cssoverride",children:[]},{value:"<code>isMobile</code>",id:"ismobile",children:[]},{value:"<code>linkSettings</code>",id:"linksettings",children:[]},{value:"<code>locale</code>",id:"locale",children:[]},{value:"<code>mediaSettings</code>",id:"mediasettings",children:[]},{value:"<code>onError</code>",id:"onerror",children:[]},{value:"<code>plugins</code>",id:"plugins",children:[]},{value:"<code>theme</code>",id:"theme",children:[]}]},{value:"Ricos Editor API",id:"ricos-editor-api",children:[{value:"<code>draftEditorSettings</code>",id:"drafteditorsettings",children:[]},{value:"<code>injectedContent</code>",id:"injectedcontent",children:[]},{value:"<code>linkPanelSettings</code>",id:"linkpanelsettings",children:[]},{value:"<code>maxTextLength</code>",id:"maxtextlength",children:[]},{value:"<code>modalSettings</code>",id:"modalsettings",children:[]},{value:"<code>onBusyChange</code>",id:"onbusychange",children:[]},{value:"<code>onChange</code>",id:"onchange",children:[]},{value:"<code>placeholder</code>",id:"placeholder-1",children:[]},{value:"<code>ref</code>",id:"ref",children:[]},{value:"<code>toolbarSettings</code>",id:"toolbarsettings",children:[]}]},{value:"Ricos Viewer API",id:"ricos-viewer-api",children:[{value:"<code>preview</code>",id:"preview",children:[]},{value:"<code>seoSettings</code>",id:"seosettings",children:[]}]}],v={toc:m};function g(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},v,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"ricos-common-api"},"Ricos Common API"),Object(l.b)("h3",{id:"children"},Object(l.b)("inlineCode",{parentName:"h3"},"children")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"children?: RichContentEditor | RichContentViewer\n")),Object(l.b)("p",null,"For backward compatibility. Any prop given to the child component will deeply override the matching prop created in Ricos' internal logic.\nRead more about backward compatibility in ",Object(l.b)("a",{parentName:"p",href:"./migrations/migrating-from-rich-content"},"Migrating from rich-content")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx",metastring:"{2}","{2}":!0},"<RicosEditor>\n  <RichContentEditor placeholder={'Type here!'} />\n</RicosEditor>\n")),Object(l.b)("h3",{id:"content"},Object(l.b)("inlineCode",{parentName:"h3"},"content")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"content?: DraftContent\n")),Object(l.b)("p",null,"A ",Object(l.b)("inlineCode",{parentName:"p"},"DraftContent")," is an immutable object that saves the entire content created by a ",Object(l.b)("inlineCode",{parentName:"p"},"RicosEditor"),". For ",Object(l.b)("inlineCode",{parentName:"p"},"RicosViewer")," this is a requirement, it will set the content to display. For the ",Object(l.b)("inlineCode",{parentName:"p"},"RicosEditor")," this will set its initial state."),Object(l.b)("h3",{id:"cssoverride"},Object(l.b)("inlineCode",{parentName:"h3"},"cssOverride")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"cssOverride?: RicosCssOverride\n")),Object(l.b)("p",null,"CSS class overriding that will be passed to ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentEditor")," or ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentViewer"),"."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"<RicosEditor\n  cssOverride={{\n    modalTheme: {\n      content: { zIndex: 1 },\n      overlay: { width: '100%' },\n    },\n  }}\n/>\n")),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Works similarly to the ",Object(l.b)("inlineCode",{parentName:"p"},"theme")," property of ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentEditor")," and ",Object(l.b)("inlineCode",{parentName:"p"},"RichContentViewer"),"."))),Object(l.b)("h3",{id:"ismobile"},Object(l.b)("inlineCode",{parentName:"h3"},"isMobile")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"isMobile?: boolean\n")),Object(l.b)("p",null,"Will render in mobile optimized mode"),Object(l.b)("h3",{id:"linksettings"},Object(l.b)("inlineCode",{parentName:"h3"},"linkSettings")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"\nCustomAnchorScroll: (event: Event, anchor: string) => void;\n\nlinkSettings?: {\n  anchorTarget?: string;\n  relValue?: string;\n  customAnchorScroll?: CustomAnchorScroll;\n}\n")),Object(l.b)("p",null,"Defines the behavior of links.\nanchorTarget - as defined in ",Object(l.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-target"},"HTMLAnchorElement.target"),"\nrelValue - as defined in ",Object(l.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement/rel"},"HTMLAnchorElement.rel"),"\ncustomAnchorScroll - enables overriding the default anchor scroll behaviour"),Object(l.b)("h3",{id:"locale"},Object(l.b)("inlineCode",{parentName:"h3"},"locale")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"locale?: string\n")),Object(l.b)("p",null,"Any two letter string represing a ",Object(l.b)("a",{parentName:"p",href:"https://github.com/wix/ricos/tree/master/packages/common/web/statics/locale"},"supported")," locale. Determines the language and text direction."),Object(l.b)("h3",{id:"mediasettings"},Object(l.b)("inlineCode",{parentName:"h3"},"mediaSettings")),Object(l.b)("p",null,"When changing fullscreen's background and foreground colors, make sure to choose colors that aren't too similar. ",Object(l.b)("br",null),"\ndefault colors are: ",Object(l.b)("br",null),"\nbackgroundColor: 'white';\nforegroundColor: 'black'; ",Object(l.b)("br",null),"\nThe string values should be css color strings (e.g ",Object(l.b)("inlineCode",{parentName:"p"},"'black'"),", ",Object(l.b)("inlineCode",{parentName:"p"},"'#2F2E2E'"),", etc) ",Object(l.b)("br",null)),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"\nmediaSettings?: {\n  pauseMedia?: boolean;\n  disableDownload?: boolean;\n  fullscreenProps?: {\n  backgroundColor?: string;\n  foregroundColor?: string;\n}\n}\n")),Object(l.b)("h4",{id:"pausemedia"},Object(l.b)("inlineCode",{parentName:"h4"},"pauseMedia")),Object(l.b)("p",null,"When ",Object(l.b)("inlineCode",{parentName:"p"},"true"),", media like videos will be paused.\nA possible use case is for pausing videos on tab switch."),Object(l.b)("h4",{id:"disablerightclick-deprecated"},Object(l.b)("inlineCode",{parentName:"h4"},"disableRightClick")," (deprecated)"),Object(l.b)("p",null,"Disables the mouse right click functionality for the gallery, video and image plugins."),Object(l.b)("h4",{id:"disabledownload"},Object(l.b)("inlineCode",{parentName:"h4"},"disableDownload")),Object(l.b)("p",null,"Sets the initial value of disableDownload for image, gallery and video plugins.\nImages - disables right click.\nGallery - disables right click.\nVideo - removes the download option from context menu."),Object(l.b)("h3",{id:"onerror"},Object(l.b)("inlineCode",{parentName:"h3"},"onError")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"onError?: (error: string) => void\n")),Object(l.b)("p",null,"TODO"),Object(l.b)("h3",{id:"plugins"},Object(l.b)("inlineCode",{parentName:"h3"},"plugins")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"plugins?: PluginConfig[]\n")),Object(l.b)("p",null,"For every plugin you install, import it and add it to the plugins array."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"import { RicosEditor } from 'ricos-editor';\n\nimport { pluginVideo } from 'wix-rich-content-plugin-video';\nimport 'wix-rich-content-plugin-video/dist/styles.min.css';\n\n<RicosEditor plugins={[pluginVideo()]} />;\n")),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"For rendering a viewer, import the plugin from the viewer entry point ",Object(l.b)("br",null)," ",Object(l.b)("inlineCode",{parentName:"p"},"wix-rich-content-plugin-video/dist/module.viewer")))),Object(l.b)("h3",{id:"theme"},Object(l.b)("inlineCode",{parentName:"h3"},"theme")),Object(l.b)("p",null,"Adding theme to Ricos is possible with providing a ",Object(l.b)("inlineCode",{parentName:"p"},"RicosTheme")," object.\nFurther read in ",Object(l.b)("a",{parentName:"p",href:"./Theming"},"Theming")," page."),Object(l.b)("h2",{id:"ricos-editor-api"},"Ricos Editor API"),Object(l.b)("h3",{id:"drafteditorsettings"},Object(l.b)("inlineCode",{parentName:"h3"},"draftEditorSettings")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"draftEditorSettings?: {\n  autoCapitalize?: string;\n  autoComplete?: string;\n  autoCorrect?: string;\n  spellCheck?: boolean;\n  stripPastedStyles?: boolean;\n  handleBeforeInput?: ((chars: string, editorState: EditorState, eventTimeStamp: number) => 'handled' | 'not-handled');\n  handlePastedText?: ((text: string, html: string, editorState: EditorState) => 'handled' | 'not-handled');\n  handleReturn?: ((e: SyntheticKeyboardEvent, editorState: EditorState) => 'handled' | 'not-handled');\n  tabIndex?: string;\n}\n")),Object(l.b)("p",null,"draft-js props, as described in ",Object(l.b)("a",{parentName:"p",href:"https://draftjs.org/docs/api-reference-editor"},"https://draftjs.org/docs/api-reference-editor")),Object(l.b)("h3",{id:"injectedcontent"},Object(l.b)("inlineCode",{parentName:"h3"},"injectedContent")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"injectedContent?: DraftContent\n")),Object(l.b)("p",null,"Similar to ",Object(l.b)("a",{parentName:"p",href:"#content"},"content")," prop; allows content to be injected to mounted RicosEditor without need for remount."),Object(l.b)("h3",{id:"linkpanelsettings"},Object(l.b)("inlineCode",{parentName:"h3"},"linkPanelSettings")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"linkPanelSettings?: {\n  blankTargetToggleVisibilityFn?: (anchorTarget: string) => boolean;\n  nofollowRelToggleVisibilityFn?: (relValue: string) => boolean;\n  placeholder?: string;}\n")),Object(l.b)("p",null,"Settings for the link panel component."),Object(l.b)("h4",{id:"blanktargettogglevisibilityfn"},Object(l.b)("inlineCode",{parentName:"h4"},"blankTargetToggleVisibilityFn")),Object(l.b)("p",null,"Determines the 'Open link in a new tab' link panel checkbox visiblity.\nBy default, its predicate is ",Object(l.b)("inlineCode",{parentName:"p"},"anchorTarget !== '_blank'")),Object(l.b)("h4",{id:"nofollowreltogglevisibilityfn"},Object(l.b)("inlineCode",{parentName:"h4"},"nofollowRelToggleVisibilityFn")),Object(l.b)("p",null,"Determines the 'Add a nofollow tag' link panel checkbox visiblity.\nBy default, its predicate is ",Object(l.b)("inlineCode",{parentName:"p"},"relValue !== 'nofollow'")),Object(l.b)("h4",{id:"placeholder"},Object(l.b)("inlineCode",{parentName:"h4"},"placeholder")),Object(l.b)("p",null,"Determines the placeholder to use for the link panel.\nBy default, its value is ",Object(l.b)("inlineCode",{parentName:"p"},'"Enter a URL here"')," translated by localization"),Object(l.b)("h3",{id:"maxtextlength"},Object(l.b)("inlineCode",{parentName:"h3"},"maxTextLength")),Object(l.b)("p",null,"Limits the editor text length to a given value. When the max text length is reached, further text input is ignored. Also, text paste action is canceled if the resulting text would exceed the max length."),Object(l.b)("h3",{id:"modalsettings"},Object(l.b)("inlineCode",{parentName:"h3"},"modalSettings")),Object(l.b)("p",null,"Customise the ",Object(l.b)("inlineCode",{parentName:"p"},"ReactModal")," of ",Object(l.b)("inlineCode",{parentName:"p"},"RicosEditor"),", or alternatively provide callbacks to create your own Modal."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"modalSettings?: {\n  ariaHiddenId?: string;\n  openModal?: (modalProps: object) =>  void;\n  closeModal?: () =>  void;\n  container?: HTMLElement;\n}\n")),Object(l.b)("h4",{id:"container"},Object(l.b)("inlineCode",{parentName:"h4"},"container")),Object(l.b)("p",null,"When used, ",Object(l.b)("inlineCode",{parentName:"p"},"container")," will be the target of Ricos editor modal (using ReactDOM.createPortal)"),Object(l.b)("h4",{id:"ariahiddenid"},Object(l.b)("inlineCode",{parentName:"h4"},"ariaHiddenId")),Object(l.b)("p",null,"Accessibility prop.\nProvides ",Object(l.b)("inlineCode",{parentName:"p"},"aria-hidden")," attribute to a given DOM Element ID while the modal is open, making it hidden for screenreaders of users.\nPassed directly into the ",Object(l.b)("inlineCode",{parentName:"p"},"ReactModal"),"'s ",Object(l.b)("a",{parentName:"p",href:"https://reactcommunity.org/react-modal/accessibility/#app-element"},"AppElement"),"."),Object(l.b)("p",null,"Default Value: ",Object(l.b)("inlineCode",{parentName:"p"},"body")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"<RicosEditor modalSettings={{ ariaHiddenId: '#root' }} />\n")),Object(l.b)("h4",{id:"openmodal--closemodal"},Object(l.b)("inlineCode",{parentName:"h4"},"openModal")," & ",Object(l.b)("inlineCode",{parentName:"h4"},"closeModal")),Object(l.b)("p",null,"Legacy RCE's ",Object(l.b)("inlineCode",{parentName:"p"},"openModal"),", ",Object(l.b)("inlineCode",{parentName:"p"},"closeModal")," (helpers)","[rce_api/helpers]","."),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Leave these empty if you don't plan to use a Modal Component of your own. Otherwise, ",Object(l.b)("inlineCode",{parentName:"p"},"RicosEditor")," will assume you do, and won't handle the ",Object(l.b)("inlineCode",{parentName:"p"},"ReactModal")," it's supplied with."))),Object(l.b)("h3",{id:"onbusychange"},Object(l.b)("inlineCode",{parentName:"h3"},"onBusyChange")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"onBusyChange?: (isBusy: boolean) => void\n")),Object(l.b)("p",null,"A function that will be called with ",Object(l.b)("inlineCode",{parentName:"p"},"true")," when the editor is busy, e.g. when a media plugin begins uploading, and will be called with ",Object(l.b)("inlineCode",{parentName:"p"},"false")," when the editor becomes idle again."),Object(l.b)("h3",{id:"onchange"},Object(l.b)("inlineCode",{parentName:"h3"},"onChange")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"onChange?: (content: DraftContent) => void\n")),Object(l.b)("p",null,"A callback that runs whenever the editor's content is edited."),Object(l.b)("h3",{id:"placeholder-1"},Object(l.b)("inlineCode",{parentName:"h3"},"placeholder")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"placeholder?: string\n")),Object(l.b)("p",null,"This text will appear in the editor until content is created"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"<RicosEditor placeholder={'The placeholder appears until you start typing'} />\n")),Object(l.b)("div",{className:"card"},Object(l.b)(c.a,{placeholder:"The placeholder appears until you start typing",mdxType:"RicosEditor"})),Object(l.b)("h3",{id:"ref"},Object(l.b)("inlineCode",{parentName:"h3"},"ref")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"ref?: React.Ref\n")),Object(l.b)("p",null,"A react ",Object(l.b)("a",{parentName:"p",href:"https://reactjs.org/docs/refs-and-the-dom.html"},"Ref"),". Use this to access editor functions."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Function"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"focus(): void")),Object(l.b)("td",{parentName:"tr",align:null},"Focuses the editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"blur(): void")),Object(l.b)("td",{parentName:"tr",align:null},"Blurs the editor")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"getContent(): DraftContent")),Object(l.b)("td",{parentName:"tr",align:null},"Retrieves current content")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"getContentPromise(options: { flush?: boolean; publishId?: string}): Promise<DraftContent>")),Object(l.b)("td",{parentName:"tr",align:null},"Retrieves current content promise")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"getContentTraits(): { isEmpty: boolean; isContentChanged: boolean; isLastChangeEdit: boolean}")),Object(l.b)("td",{parentName:"tr",align:null},"Retrieves current content traits")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"getToolbarProps(options: { type: ToolbarType }): { buttons: ToolbarButtonProps[] }")),Object(l.b)("td",{parentName:"tr",align:null},"button props for external toolbar")))),Object(l.b)("h4",{id:"usage-example"},"Usage example:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"class MyComponent extends React.Component {\n  componentDidMount() {\n    this.editor.focus();\n  }\n  render() {\n    <RicosEditor ref={editor => (this.editor = editor)} />;\n  }\n}\n")),Object(l.b)("h4",{id:"refgetcontentpromise"},Object(l.b)("inlineCode",{parentName:"h4"},"ref.getContentPromise")),Object(l.b)("p",null,"Returns (promise) of the Content Data (DraftContent type).\npublishId - used for BI (",Object(l.b)("inlineCode",{parentName:"p"},"onPublish")," event), set it when called before publishing a an editor's content in your app.\nflush - trigger blur of the editor to force changes (such as composition mode in android) before getting the content"),Object(l.b)("h3",{id:"toolbarsettings"},Object(l.b)("inlineCode",{parentName:"h3"},"toolbarSettings")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"toolbarSettings?: {\n  getToolbarSettings?: GetToolbarSettings;\n  textToolbarContainer?: HTMLElement;\n  useStaticTextToolbar?: boolean;\n}\n")),Object(l.b)("h4",{id:"gettoolbarsettings"},Object(l.b)("inlineCode",{parentName:"h4"},"getToolbarSettings")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"getToolbarSettings")," API allows to config toolbar appearance and behavior."),Object(l.b)("h5",{id:"built-in-editor-and-plugin-toolbars-customization"},"Built-in editor and plugin toolbars customization"),Object(l.b)("p",null,Object(l.b)("a",{parentName:"p",href:"/docs/rce_api/ToolbarCustomization"},"Toolbar Customization")),Object(l.b)("h5",{id:"external-toolbar-customization"},"External toolbar customization"),Object(l.b)("p",null,"Sometimes, the built-in toolbar customization is insufficient. The toolbar externaliztion API comes to solve these cases. It allows users to implement custom toolbars and buttons, providing all the required button props, e.g. onClick callback, button icon, label, tooltip, etc."),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"getToolbarSettings")," API allows to configure external toolbars as well. Since external toolbar could be used both for plugin insertion and text formatting, these roles are configured separately. Once the external toolbars are configured, the button props could be retrieved by the editor ref method ",Object(l.b)("inlineCode",{parentName:"p"},"getToolbarProps"),"."),Object(l.b)("h6",{id:"insert-plugin-toolbar"},"Insert plugin toolbar"),Object(l.b)("p",null,"The plugin insertion toolbar configuration object should contain the ",Object(l.b)("inlineCode",{parentName:"p"},"name: TOOLBARS.INSERT_PLUGIN")," field. By default, the ",Object(l.b)("inlineCode",{parentName:"p"},"shouldCreate")," returns false for all the platforms, so it is crucial to override it for button props activation. The ",Object(l.b)("inlineCode",{parentName:"p"},"getButtons")," is expected to return an array of INSERT_PLUGIN_BUTTONS enum values. The default list of the insert plugin button names is passed to the ",Object(l.b)("inlineCode",{parentName:"p"},"getToolbarSettings")," via the ",Object(l.b)("inlineCode",{parentName:"p"},"pluginButtonNames")," argument field."),Object(l.b)("h6",{id:"formatting-toolbar"},"Formatting toolbar"),Object(l.b)("p",null,"The formatting toolbar configuration object should contain the ",Object(l.b)("inlineCode",{parentName:"p"},"name: TOOLBARS.FORMATTING")," field. By default, the ",Object(l.b)("inlineCode",{parentName:"p"},"shouldCreate")," returns false for all the platforms, so it is crucial to override it for button props activation. The ",Object(l.b)("inlineCode",{parentName:"p"},"getButtons")," is expected to return an array of FORMATTING_BUTTONS enum values. The default list of the button names is passed to the ",Object(l.b)("inlineCode",{parentName:"p"},"getToolbarSettings")," via the ",Object(l.b)("inlineCode",{parentName:"p"},"textButtons")," argument field."),Object(l.b)("h4",{id:"texttoolbarcontainer"},Object(l.b)("inlineCode",{parentName:"h4"},"textToolbarContainer")),Object(l.b)("p",null,"Given some container HTML element, the text toolbar will be rendered inside it.\nOverrides ",Object(l.b)("inlineCode",{parentName:"p"},"useStaticTextToolbar"),"."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"const RicosWithToolbarContainer = () => {\n  const bottomToolbar = document.createElement('div');\n\n  useEffect(() => {\n    const wrappingDiv = document.getElementById('editor-static-toolbar-wrapper');\n    wrappingDiv.appendChild(bottomToolbar);\n  }, []);\n\n  return (\n    <div id=\"editor-static-toolbar-wrapper\">\n      <RicosEditor toolbarSettings={{ textToolbarContainer: bottomToolbar }} />\n    </div>\n  );\n};\n")),Object(l.b)("p",null,"In this example we render the static text toolbar below the editor."),Object(l.b)("h4",{id:"usestatictexttoolbar"},Object(l.b)("inlineCode",{parentName:"h4"},"useStaticTextToolbar")),Object(l.b)("p",null,"The text toolbar appears inline when selecting some text and allows styling text.\nSet to true in order to render the text toolbar in a fixed position ",Object(l.b)("strong",{parentName:"p"},"above")," the editor."),Object(l.b)("div",{className:"card"},Object(l.b)(c.a,{toolbarSettings:{useStaticTextToolbar:!0},content:s,mdxType:"RicosEditor"})),Object(l.b)("h2",{id:"ricos-viewer-api"},"Ricos Viewer API"),Object(l.b)("h3",{id:"preview"},Object(l.b)("inlineCode",{parentName:"h3"},"preview")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"preview?: {\n  transformation?: ContentStateTransformation;\n  contentInteractionMappers?: Funtion;\n  onPreviewExpand?: () => void;\n}\n")),Object(l.b)("p",null,"A preview decoration for RicosViewer.\nRead more in ",Object(l.b)("a",{parentName:"p",href:"preview"},"Preview")),Object(l.b)("h3",{id:"seosettings"},Object(l.b)("inlineCode",{parentName:"h3"},"seoSettings")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"seoSettings?: boolean | {\n  paywall: {\n    className: string;\n    index: number;\n  };\n}\n")),Object(l.b)("p",null,"When given a truthy value, renders RicosViewer in a SEO optimized mode.\nAn object allows extended configuration."),Object(l.b)("h4",{id:"paywall"},Object(l.b)("inlineCode",{parentName:"h4"},"paywall")),Object(l.b)("p",null,"className - Content blocked by a payall will be marked up using this string (This class will be used by Googlebot to discern between paid and free content on a page level)\nindex - number of free content blocks"),Object(l.b)("h4",{id:"addanchors"},Object(l.b)("inlineCode",{parentName:"h4"},"addAnchors")),Object(l.b)("p",null,"TODO"),Object(l.b)("h4",{id:"textselectiontoolbar"},Object(l.b)("inlineCode",{parentName:"h4"},"textSelectionToolbar")),Object(l.b)("p",null,"When given a truthy value, text-selection-toolbar appears inline when selecting some text and allows tweet text."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"import { RicosViewer } from 'ricos-viewer';\nimport 'ricos-viewer/dist/styles.min.css';\n\n<RicosViewer textSelectionToolbar />;\n")),Object(l.b)("p",null,"Select some text below to see text-selection-toolbar"),Object(l.b)("div",{className:"card",style:{position:"relative"}},Object(l.b)(d.a,{content:s,textSelectionToolbar:!0,mdxType:"RicosViewer"})))}g.isMDXComponent=!0},172:function(e,t,n){var r={"./messages_ar.json":[182,80],"./messages_bg.json":[183,81],"./messages_ca.json":[184,82],"./messages_cs.json":[185,83],"./messages_da.json":[186,84],"./messages_de.json":[187,85],"./messages_el.json":[188,86],"./messages_en.json":[176,2],"./messages_es.json":[189,87],"./messages_fi.json":[190,88],"./messages_fr.json":[191,89],"./messages_he.json":[192,90],"./messages_hi.json":[193,91],"./messages_hu.json":[194,92],"./messages_id.json":[195,93],"./messages_it.json":[196,94],"./messages_ja.json":[197,95],"./messages_ko.json":[198,96],"./messages_lt.json":[199,97],"./messages_ms.json":[200,98],"./messages_nl.json":[201,99],"./messages_no.json":[202,100],"./messages_pl.json":[203,101],"./messages_pt.json":[204,102],"./messages_ro.json":[205,103],"./messages_ru.json":[206,104],"./messages_sk.json":[207,105],"./messages_sl.json":[208,106],"./messages_sv.json":[209,107],"./messages_th.json":[210,108],"./messages_tl.json":[211,109],"./messages_tr.json":[212,110],"./messages_uk.json":[213,111],"./messages_vi.json":[214,112],"./messages_zh.json":[215,113]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(r)},o.id=172,e.exports=o},310:function(e){e.exports=JSON.parse('{"blocks":[{"key":"d79aa","text":"Hi there! I\'m Ricos, your rich content framework. \ud83d\udc7e","type":"header-two","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{},"VERSION":"7.5.0"}')},341:function(e){e.exports=JSON.parse('{"Poll_Viewer_VoteCount_Modal_Voters_Header":"{{count}} person voted for this answer","Poll_Viewer_VoteCount_Modal_Voters_Header_plural":"{{count}} people voted for this answer","Poll_Viewer_VoteCount_Modal_Voters_Anonymous":"+{{anonNumber}} anonymous","Poll_Viewer_VoteCount_Modal_Voters_CTA_Follow":"Follow","Poll_Viewer_ShowAllOptions_CTA":"See All Options","Poll_Viewer_ShowAllResults_CTA":"See All Results","Poll_Viewer_ShowLess_CTA":"Show Less","Poll_Viewer_Visibility_Owner_Footer":"Only you can see the results.","Poll_Viewer_Multiselect_Footer":"You can vote for more than one answer.","Poll_Viewer_Toast_Error_Connection":"No internet. Check your connection.","Poll_Viewer_Toast_Error_ServerDown":"Couldn\'t connect to server. Try again later.","Poll_Viewer_VoteCount":"{{number}} votes","UploadFile_Viewer_Download":"Download {{fileType}}","UploadFile_Viewer_Loader":"Loading {{fileType}}","Viewer_Toolbar_Twitter_Tooltip":"Tweet this","Preview_ReadMore_Label":"Read more","Preview_SeeFullPost_Label":"See Full Post","Spoiler_Insert_Tooltip":"Spoiler","Spoiler_Reveal_Tooltip":"Click to reveal","Spoiler_Reveal_Image_Placeholder":"This image contains a spoiler","Spoiler_Reveal_Image_CTA":"Reveal Image","Spoiler_Reveal_Gallery_Placeholder":"This gallery contains a spoiler","Spoiler_Reveal_Gallery_CTA":"Reveal Gallery","Spoiler_Reveal_Video_Placeholder":"This video contains a spoiler","Spoiler_Reveal_Video_CTA":"Reveal Video","AccordionPlugin_ExpandButton_AriaLabel":"Item is expanded","AccordionPlugin_CollapseButton_AriaLabel":"Item is collapsed","Embed_Vertical_Units_Hour":"{{hours}}h","Embed_Vertical_Units_Minute":"{{minutes}}min"}')},342:function(e,t,n){(function(e,r){var o;!function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var l,c=2147483647,s=36,d=/^xn--/,u=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(b[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(p,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function O(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function j(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=s)e=f(e/35);return f(r+36*e/(e+38))}function x(e){var t,n,r,o,a,i,l,d,u,p,b,h=[],v=e.length,g=0,y=128,j=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(a=g,i=1,l=s;o>=v&&m("invalid-input"),((d=(b=e.charCodeAt(o++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:s)>=s||d>f((c-g)/i))&&m("overflow"),g+=d*i,!(d<(u=l<=j?1:l>=j+26?26:l-j));l+=s)i>f(c/(p=s-u))&&m("overflow"),i*=p;j=w(g-a,t=h.length+1,0==a),f(g/t)>c-y&&m("overflow"),y+=f(g/t),g%=t,h.splice(g++,0,y)}return O(h)}function C(e){var t,n,r,o,a,i,l,d,u,p,b,v,g,O,x,C=[];for(v=(e=y(e)).length,t=128,n=0,a=72,i=0;i<v;++i)(b=e[i])<128&&C.push(h(b));for(r=o=C.length,o&&C.push("-");r<v;){for(l=c,i=0;i<v;++i)(b=e[i])>=t&&b<l&&(l=b);for(l-t>f((c-n)/(g=r+1))&&m("overflow"),n+=(l-t)*g,t=l,i=0;i<v;++i)if((b=e[i])<t&&++n>c&&m("overflow"),b==t){for(d=n,u=s;!(d<(p=u<=a?1:u>=a+26?26:u-a));u+=s)x=d-p,O=s-p,C.push(h(j(p+x%O,0))),d=f(x/O);C.push(h(j(d,0))),a=w(n,g,r==o),n=0,++r}++n,++t}return C.join("")}l={version:"1.4.1",ucs2:{decode:y,encode:O},decode:x,encode:C,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return g(e,(function(e){return d.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(271)(e),n(24))},385:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ze}));var r=n(0),o=n.n(r),a=n(157),i=n(341),l=n(155),c=n(158),s=n.n(c),d=n(342),u=n.n(d),p=n(322),b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e,t){return e(t={exports:{}},t.exports),t.exports}var g=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}));m(g);var y=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=g)&&n.__esModule?n:{default:n};function o(e){return function(e){if(Array.isArray(e))return e}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=t.content||[],this.start=void 0!==t.start?t.start:null,this.end=void 0!==t.end?t.end:null,this.entity=void 0!==t.entity?t.entity:null,this.decorator=void 0!==t.decorator?t.decorator:null,this.decoratorProps=t.decoratorProps||null,this.decoratedText=void 0!==t.decoratedText?t.decoratedText:null,this.contentState=t.contentState,this.style=t.style||null,this.styles=t.styles||null,this.block=t.block||{}}var t,n;return t=e,(n=[{key:"getCurrentContent",value:function(){return this.content[this.content.length-1]}},{key:"addToCurrentContent",value:function(e){this.content[this.content.length-1]=this.content[this.content.length-1]+e}},{key:"handleFlatPush",value:function(t,n){var o,c=this.getCurrentContent();if(c instanceof e&&(0,r.default)(n,c.styles))c.addToCurrentContent(t);else{var s=new e({styles:(o=n,function(e){if(Array.isArray(e))return l(e)}(o)||i(o)||a(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),content:[t]});this.content.push(s)}}},{key:"pushContent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n||n.length<1)return"string"==typeof t&&"string"==typeof this.getCurrentContent()?this.addToCurrentContent(t):this.content.push(t),this;if(r)return this.handleFlatPush(t,n),this;var a=o(n),i=a[0],l=a.slice(1),c=this.getCurrentContent();if(c instanceof e&&c.style===i)c.pushContent(t,l,r);else{var s=new e({style:i});s.pushContent(t,l,r),this.content.push(s)}return this}}])&&c(t.prototype,n),e}();t.default=s}));m(y);var O=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(u.a),r=o(y);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t,r){return n.default.ucs2.encode(e.slice(t,r))};function s(e,t){return t.forEach((function(t){e.push(t.offset),e.push(t.offset+t.length)})),e}var d=function(){function e(t){var n=t.flat,r=void 0!==n&&n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flat=r}var t,o;return t=e,(o=[{key:"relevantStyles",value:function(e){return this.ranges.filter((function(t){return e>=t.offset&&e<t.offset+t.length})).map((function(e){return e.style}))}},{key:"nodeIterator",value:function(e,t,n){var r=this,o=this.relevantIndexes.slice(this.relevantIndexes.indexOf(t),this.relevantIndexes.indexOf(n));return o.forEach((function(t,a){var i=r.relevantStyles(t),l=o[a+1]?o[a+1]-t:1,s=c(r.textArray,t,t+l);e.pushContent(s,i,r.flat),!o[a+1]&&t<n&&e.pushContent(c(r.textArray,t+1,n),r.relevantStyles(n-1),r.flat)})),e}},{key:"parse",value:function(e){var t=this,o=e.text,a=e.inlineStyleRanges,l=e.entityRanges,d=e.decoratorRanges,u=void 0===d?[]:d;this.textArray=n.default.ucs2.decode(o),this.ranges=a,this.iterator=0,this.relevantIndexes=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[];o=s(o,t),o=s(o,n),(o=s(o,r)).push(0),o.push(e.length);var a=o.filter((function(e,t,n){return n.indexOf(e)===t}));return a.sort((function(e,t){return e-t}))}(o,a,l,u);var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=0,l=[].concat(i(e),i(t)).sort((function(e,t){return e.offset-t.offset})),s=[];return l.length<1?(s.push(new r.default({block:o,start:0,end:n.length})),s):(l.forEach((function(e){e.offset>a&&s.push(new r.default({block:o,start:a,end:e.offset})),s.push(new r.default({block:o,entity:e.key,decorator:e.component,decoratorProps:e.decoratorProps,decoratedText:e.component?c(n,e.offset,e.offset+e.length):void 0,start:e.offset,end:e.offset+e.length,contentState:e.contentState})),a=e.offset+e.length})),a<n.length&&s.push(new r.default({block:o,start:a,end:n.length})),s)}(l,u,this.textArray,e).map((function(e){return t.nodeIterator(e,e.start,e.end)}));return new r.default({block:e,content:p})}}])&&a(t.prototype,o),e}();t.default=d}));m(O);var j=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){return function(n,r,o){var a=function(e,t){return e.map((function(e){return t[e]})).reduce((function(e,t){var n={};if(void 0!==t){var r="text-decoration"in t?"text-decoration":"textDecoration";t[r]!==e[r]&&(n[r]=[e[r],t[r]].join(" ").trim())}return Object.assign(e,t,n)}),{})}(r,t);return e(Object.assign({},{children:n},o,{style:a}))}}}));m(j);var w=v((function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){var n=e.keys;return t||(n?n.join(","):void 0)},o=function(e,t,o){return function(a,i,l){var c,s=Object.assign({},i);return o||delete s.depth,t.apply(void 0,[e,Object.assign({},s,{key:r(s,l)})].concat(function(e){if(Array.isArray(e))return n(e)}(c=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}};t.default=function(e,t){var n={};return Object.keys(t).forEach((function(r){var a=t[r];a.wrapper?n[r]=function(t,n,r){return function(e,t,n){var r=n.children,a=n.props,i=n.key,l=o(t.wrapper,e),c=o(t.element,e,!0);return l(r.map((function(e,t){return c(e,{},a.keys&&a.keys[t])})),a,i)}(e,a,{children:t,props:n,key:r})}:n[r]=o(a.element,e)})),n}}));m(w);var x=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){}}));m(x);var C=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=n.cleanup;return!(!r||function(e,t){return n=e.text,!!(t.trim?n.trim():n)||!(!e.data||!Object.keys(e.data).length)||!(!e.entityRanges||!e.entityRanges.length);var n}(e,r)||r.after&&"all"!==r.after&&!r.after.includes(t)||(!r.except||r.except.includes(e.type))&&(!r.types||"all"!==r.types&&!r.types.includes(e.type)))}}));m(C);var _=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){var e=0;return function(){var t=e;return e+=1,t}}}));m(_);var N=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){return Array.isArray(e)&&t.joinOutput?e.join(""):e}}));m(N);var S=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=t;return t[n]?r[n]+=e:r[n]=e,r}}));m(S);var E=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={joinOutput:!1,cleanup:{after:["atomic"],types:["unstyled"],trim:!1,split:!0}}}));m(E);var k=v((function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="decorators")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.decorators=t.slice()}var t,r;return t=e,(r=[{key:"getDecorations",value:function(e,t){var n=Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,o){var a=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}(n,e,t,o+"."+a),a++)}),t)})),n}},{key:"getComponentForKey",value:function(e){var t=parseInt(e.split(".")[0],10);return this.decorators[t].component}},{key:"getPropsForKey",value:function(e){var t=parseInt(e.split(".")[0],10);return this.decorators[t].props}}])&&n(t.prototype,r),e}();t.default=r}));m(k);var M=v((function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorators=t}var t,r,o;return t=e,o=[{key:"getInnerKey",value:function(e){return e.split("-").slice(1).join("-")}}],(r=[{key:"getDecorations",value:function(e,t){var n=new Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,o){r.getDecorations(e,t).forEach((function(e,t){e&&(n[t]=o+"-"+e)}))})),n}},{key:"getComponentForKey",value:function(t){return this.getDecoratorForKey(t).getComponentForKey(e.getInnerKey(t))}},{key:"getPropsForKey",value:function(t){return this.getDecoratorForKey(t).getPropsForKey(e.getInnerKey(t))}},{key:"getDecoratorForKey",value:function(e){var t=e.split("-"),n=Number(t[0]);return this.decorators[n]}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=r}));m(M);var T=v((function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t)}var t,r;return t=e,(r=[{key:"get",value:function(e){return this[e]}},{key:"getText",value:function(){return this.text}},{key:"getType",value:function(){return this.type}},{key:"getKey",value:function(){return this.key}},{key:"getLength",value:function(){return this.text.length}},{key:"getDepth",value:function(){return this.depth}},{key:"getData",value:function(){return this.data}}])&&n(t.prototype,r),e}();t.default=function(e){return new r(e)}}));m(T);var P=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(u.a),r=i(k),o=i(M),a=i(T);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t){return e.forEach((function(e){var r=t.text.substring(0,e.offset),o=t.text.substring(e.offset,e.offset+e.length);e.offset=n.default.ucs2.decode(r).length,e.length=n.default.ucs2.decode(o).length})),e},s=function(e){return"function"==typeof e.getDecorations&&"function"==typeof e.getComponentForKey&&"function"==typeof e.getPropsForKey},d=function(e,t,n,i){var d=i.createContentBlock,u=[],p=function(e){var t,n=new r.default(e.filter((function(e){return!s(e)}))),a=e.filter((function(e){return s(e)})),i=[].concat(function(e){if(Array.isArray(e))return l(e)}(t=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]);return new o.default(i)}(t),b=d?d(e):(0,a.default)(e),f=p.getDecorations(b,n),h=0;return f.forEach((function(e,t){if(e){var r=t+1,o=f[r];o&&o===e||(u.push({offset:h,length:r-h,component:p.getComponentForKey(e),decoratorProps:p.getPropsForKey(e)||{},contentState:n}),h=r)}else h+=1})),Object.assign({},e,{decoratorRanges:c(u,e)})};t.default=function(e,t,n){var r=n.convertFromRaw&&n.convertFromRaw(e);return e.blocks.map((function(e){return d(e,t,r,n||{})}))}}));m(P);var A=v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.renderNode=void 0;var n=d(O),r=d(x),o=d(C),a=d(_),i=d(N),l=d(S),c=d(E),s=d(P);function d(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,n,r,o,a,c,s){if(t.styles&&o)return o((0,i.default)(t.content,c),t.styles,{key:s()});var d=[],u=0;if(t.content.forEach((function(t){"string"==typeof t?d=(0,l.default)(t,d,u):(d[u+=1]=e(t,n,r,o,a,c,s),u+=1)})),t.style&&n[t.style])return n[t.style]((0,i.default)(d,c),{key:s()});if(null!==t.entity){var p=a[t.entity],b=p&&(r[p.type]||"atomic"===t.block.type&&r.atomicFallbackRenderer);if(b)return b((0,i.default)(d,c),p.data,{key:t.entity,block:t.block},p.type)}if(null!==t.decorator){var f=[t.block.key,t.start,0].join(".");return t.decorator(Object.assign({children:(0,i.default)(d,c),decoratedText:t.decoratedText,contentState:t.contentState,entityKey:t.entity,offsetKey:f,key:f},t.decoratorProps))}return d};t.renderNode=u;var p=function(e){var t=[],n=[],r=0,o=function(e){var o=r-e;for(n.length<o&&(o=n.length);o>0;o-=1){var a=t;(t=n.pop())[t.length-1].children=a}};return e.forEach((function(e){r<e.depth?(n.push(t),t=[]):r>e.depth&&o(e.depth),r=e.depth,t.push(e)})),0!==r&&o(0),t},b=function(e,t,n,r){var o=r.prevType,a=r.prevDepth,i=r.prevKeys,l=r.prevData;if(0!==e.length){if(t[o]){var c={depth:a,keys:i};return l&&l.some((function(e){return!!e}))&&(c.data=l),void n.push(t[o](e,c))}n.push(e)}},f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4?arguments[4]:void 0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},h=Object.assign({},c.default,f),m=[],v=[],g=null,y=0,O=[],j=[],w=!1,x=new n.default({flat:!!d});return t.forEach((function(t){if((0,o.default)(t,g,h))!0===h.cleanup.split&&(w=!0);else{var n=x.parse(t),i=u(n,r,s,d,p,h,(0,a.default)());if((g&&g!==t.type||w)&&(b(v,l,m,{prevType:g,prevDepth:y,prevKeys:O,prevData:j}),j=[],O=[],v=[],w=!1),t.children){var c=e(t.children,r,l,s,d,p,h);i.push(c)}v.push(i),g=t.type,y=t.depth,O.push(t.key),j.push(t.data)}})),b(v,l,m,{prevType:g,prevDepth:y,prevKeys:O,prevData:j}),(0,i.default)(m,h)};t.render=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!Array.isArray(e.blocks))return(0,r.default)("invalid raw object"),null;if(!e.blocks.length)return null;var o=t.inline,a=t.blocks,i=t.entities,l=t.styles,c=t.decorators,d=c?(0,s.default)(e,c,n):e.blocks,u=p(d);return f(u,o,a,i,l,e.entityMap,n)}}));m(A),A.render,A.renderNode;var R=m(v((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RawParser",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"createStylesRenderer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"createBlockRenderer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"renderNode",{enumerable:!0,get:function(){return A.renderNode}}),Object.defineProperty(t,"CompositeDecorator",{enumerable:!0,get:function(){return a.default}}),t.default=void 0;var n=i(O),r=i(j),o=i(w),a=i(k);function i(e){return e&&e.__esModule?e:{default:e}}var l=A.render;t.default=l}))),I=function e(t){return!!t&&("string"==typeof t?t.trim().length>0:Array.isArray(t)?e(t[0])||e(t[1]):"object"==typeof t&&e(t.props.children))},D=function(e,t){var n=e.className,r=void 0===n?"paywall":n,o=e.index;return t<(void 0===o?3:o)&&r},F=function(e){return"object"==typeof e&&"object"==typeof e.paywall},V={fontElementMap:"_2536P",wrapper:"kcuBq",pluginContainerMobile:"_13mNb",desktop:"uatYj",editor:"kaqlz",android:"_18id9",atomic:"q2uC4",toolbar:"_3HztD",underline:"sDZYg",block:"Rhs1S",elementSpacing:"_208Ie",blockStyleSpacing:"_1J-OE",text:"XzvDs _208Ie",child:"vkIF2",orderedList:"_3_0WU",unorderedList:"_1BJwx",center:"ujPQ6",contentCenterAlignment:"_1QQKl",justify:"_1iXso",hasJustifyText:"PDkkw",quote:"_3jY04 _1J-OE",headerOne:"_1EKGD _208Ie",headerTwo:"_3f-vr _208Ie",headerThree:"_3tkn1 _208Ie",headerFour:"_2-DWs _208Ie",headerFive:"_3xAn0 _208Ie",headerSix:"_1BKXP _208Ie",code:"sEtbn _1J-OE",codeBlock:"_3I8mR _1J-OE",renderedInTable:"_2T1Sk",normalText:"_1b-JN",anchor:"i8Flr",embed:"l3WUS",horizontalScrollbar:"_3GgdB"},L=m(v((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}))),B=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e&&e.length&&!e.some((function(e){return"function"!=typeof e}))?e.reduce((function(e,n){return Object.assign(e,n.apply(void 0,t))}),{}):(console.warn(e+" is expected to be a function array"),{})},z=function(e){return e.children},H=function(e,t,n){var r,i,l=n.config;if(null===(r=l.PREVIEW)||void 0===r||null===(i=r.contentInteractionMappers)||void 0===i||!i.length||!l.PREVIEW.onPreviewExpand||!Object(a.isArray)(t))return e;var c=function(e){var t=e.interactions,n=e.context;return function(e){var r=e.children,a=n.config.PREVIEW||{},i=a.contentInteractionMappers,l=void 0===i?[]:i,c=a.onPreviewExpand,s=B(l,void 0===c?function(){}:c);return t.reduce((function(e,t){var r=t.type,a=t.settings,i=s[r]||z;return o.a.createElement(i,L({},a,n),e)}),r)}}({interactions:t,context:n});return o.a.createElement(c,null,e)},K="public-DraftStyleDefault",W=function(e){var t=e.ordered,n=e.items,r=e.mergedStyles,a=e.textDirection,i=e.blockProps,c=e.getBlockStyleClasses,d=e.blockDataToStyle,u=e.context,p=t?"ol":"ul",b=t?"ordered":"unordered",f=K+"-"+p,h=b+"List",m=0;return o.a.createElement(p,{className:f},n.map((function(e,t){var n=i.data.length>t?i.data[t]:{},p=i.data[t].interactions,f=[],v=[],g=(null==n?void 0:n.textAlignment)||u.textAlignment,y=c(r,a||n.textDirection,g),O="justify"===g&&I(e),j=function(e){var t;return{className:s()(r.elementSpacing,y,(t={},t[V.hasJustifyText]=O,t[V.contentCenterAlignment]="center"===g,t)),key:e}};o.a.Children.forEach(e,(function(e,t){e&&("string"==typeof e.type&&/h\d/.exec(e.type)?(f.length&&(v.push(o.a.createElement("p",j(t),f)),f=[]),v.push(o.a.cloneElement(e,j(t)))):f.push(e))})),f.length&&v.push(o.a.createElement("p",j("just_some_key"),f));var w=n.depth,x=0===t||w>m,C=Object(l.hb)(g,a||n.textDirection),_=function(e,t,n,r){var o=function(e,t,n){return K+"-"+e+"ListItem\n   "+K+"-depth"+t+"\n   "+K+"-list-"+n}(n,r,t);return e&&(o+=" "+K+"-reset"),o}(x,C,b,w);m=w;var N=n.index,S=H(0===v.length?" ":v,p,u);return o.a.createElement("li",{id:"viewer-"+i.keys[t],className:s()(u.theme[h],V[h],V[g],c(r,C,g,_,!0),F(u.seoMode)&&D(u.seoMode.paywall,N)),key:i.keys[t],style:d(i.data[t])},S)})))},U=v((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}));m(U);var G=m(v((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0}))),J=o.a.memo((function(e){var t=e.anchorKey,n=e.type;return o.a.createElement("div",{key:t,type:n,"data-hook":t})})),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).getContainerClassNames=function(){var e,n=t.props,r=n.pluginComponent,o=n.componentData,i=n.styles,c=n.context,d=c.theme,u=c.isMobile,p=r.classNameStrategies||{},b=p.size,f=p.alignment,h=p.textWrap,m=p.custom,v=t.componentHasLink(),g=o.html;return s()(i.pluginContainerReadOnly,((e={})[i.pluginContainerMobile]=u,e[i.anchor]=v,e[d.anchor]=v&&d.anchor,e[i.embed]=v&&g,e[i.horizontalScrollbar]=r.withHorizontalScroll,e),Object(a.isFunction)(f)?f(o,d,i,u):Object(l.bb)(o,d,i,u),Object(a.isFunction)(b)?b(o,d,i,u):Object(l.yb)(o,d,i,u),Object(a.isFunction)(h)?h(o,d,i,u):Object(l.Ab)(o,d,i,u),Object(a.isFunction)(m)?m(o,d,i,u):null)},t.componentHasLink=function(){var e,n,r,o;return null===(e=t.props)||void 0===e||null===(n=e.componentData)||void 0===n||null===(r=n.config)||void 0===r||null===(o=r.link)||void 0===o?void 0:o.url},t.componentHasAnchor=function(){var e,n,r,o;return null===(e=t.props)||void 0===e||null===(n=e.componentData)||void 0===n||null===(r=n.config)||void 0===r||null===(o=r.link)||void 0===o?void 0:o.anchor},t.innerRCV=function(e){var n=e.contentState,r=e.textAlignment,a=e.direction,i=e.renderedIn,c=t.props.innerRCEViewerProps,s=i===l.Q;return o.a.createElement(ae,L({initialState:n,textAlignment:r,direction:a},c,{isInnerRcv:!0,renderedInTable:s}))},t}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.type,r=e.pluginComponent,i=e.componentData,c=e.children,d=e.styles,u=e.entityIndex,p=e.context,b=e.blockIndex,f=e.SpoilerViewerWrapper,h=e.blockKey,m=r.component,v=r.elementType,g=(r.classNameStrategies||{}).container,y=p.anchorTarget,O=p.relValue,j=p.config,w=p.theme,x=p.isMobile,C=(null==j?void 0:j[n])||{},_=L({type:n,componentData:i,settings:C,children:c,entityIndex:u},p,{innerRCV:this.innerRCV,blockKey:h});if(m){if("inline"!==v){var N,S,E,k=i.config,M=void 0===k?{}:k,T=this.componentHasLink(),P=this.componentHasAnchor(),A=T||P?"a":"div",R={};if(T){var I=M.link,V=I.url,B=I.target,z=I.rel;R={href:Object(l.wb)(V),target:B||y||"_self",rel:z||O||"noopener noreferrer"}}if(P&&(R={href:"#viewer-"+M.link.anchor,target:"_self"}),"inline"!==M.size&&n!==l.t||(E={width:M.width}),n===l.u){var H=i.src,K=void 0===H?{}:H,W=M.size;K.width&&("original"===W||x&&"inline"===W&&M.width&&M.width>150)&&(E={width:K.width,maxWidth:"100%"})}n!==l.b&&n!==l.x||!Object(a.isNumber)(M.width)||(_.style={width:M.width}),E&&(R.style=E);var U=this.getContainerClassNames(),G=o.a.createElement(A,L({className:U},R),Object(a.isFunction)(g)?o.a.createElement("div",{className:g(w)},o.a.createElement(m,_)):o.a.createElement(m,_));return o.a.createElement("div",{id:t,className:s()(d.atomic,F(p.seoMode)&&D(p.seoMode.paywall,b))},f?o.a.createElement(f,L({},_,{className:U,width:null===(N=R)||void 0===N||null===(S=N.style)||void 0===S?void 0:S.width}),G):G)}return f?o.a.createElement(f,_,o.a.createElement(m,_)):o.a.createElement(m,_)}return null},t}(r.PureComponent);X.defaultProps={styles:{}};var q=function(e){return{BOLD:function(e,t){var n=t.key;return o.a.createElement("strong",{key:n},e)},ITALIC:function(e,t){var n=t.key;return o.a.createElement("em",{key:n},e)},UNDERLINE:function(t,n){var r=n.key;return o.a.createElement("u",{key:r,className:e.underline},t)},CODE:function(t,n){var r=n.key;return o.a.createElement("span",{key:r,className:e.code},t)}}},$=function(e){e[0];var t=e[1];return t&&0===t.length},Y=function(e,t,n,r,o){var a="rtl"===t,i=n||(a?"right":"left"),l=(o?a:"ltr"!==(t||"ltr"))?e.rtl:e.ltr;return s()(r,l,e[i])},Q=function(e){var t,n=e.dynamicStyles;return void 0===(t=n)&&(t={}),Object.keys(t).reduce((function(e,n){var r;return e[(r=n,r.replace(/-([a-z])/,(function(e,t){return t.toUpperCase()})))]=t[n],e}),{})},Z=function(e,t){return B(function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)r[o]=a[i];return r}(e,[q]),t)},ee=function(e,t,n,r){var a=function(r){return function(a,i){var l=a.map((function(e){return e.length?e:[" "]})),c={key:i.keys[0],items:l,ordered:r,mergedStyles:e,textDirection:t,blockProps:i,getBlockStyleClasses:Y,blockDataToStyle:Q,context:n};return o.a.createElement(W,h({},c))}},i=function(a,i){return function(c,d){return c.map((function(c,u){var p,b,f,h,m=(null===(p=d.data[u])||void 0===p?void 0:p.textAlignment)||n.textAlignment,v=d.data[u].depth,g=Object(l.hb)(m,t||(null===(b=d.data[u])||void 0===b?void 0:b.textDirection)),y="justify"===m&&I(c),O="public-DraftStyleDefault-text-"+g,j="public-DraftStyleDefault-"+(t||(null===(f=d.data[u])||void 0===f?void 0:f.textDirection)||"ltr"),w="string"==typeof a?a:a(c),x=d.data[u].index,C=d.data[u].interactions,_=$(c)?o.a.createElement("br",null):c,N=o.a.createElement(o.a.Fragment,{key:d.keys[u]},o.a.createElement(w,{id:"viewer-"+d.keys[u],className:s()(Y(e,t||(null===(h=d.data[u])||void 0===h?void 0:h.textDirection),m,e[i]),Object(l.eb)(v),O,F(n.seoMode)&&D(n.seoMode.paywall,x)),style:Q(d.data[u])},o.a.createElement("span",{className:s()(V.child,j,y&&V.hasJustifyText)},_))),S=H(N,C,n),E=d.keys[u]+"_wrap",k=o.a.createElement(o.a.Fragment,{key:E},S);if(r){var M=""+r+(x+1);k=o.a.createElement(o.a.Fragment,{key:E},S,o.a.createElement(J,{type:$(c)?"empty-line":"string"==typeof a?a:"paragraph",key:M,anchorKey:M}))}return k}))}};return{unstyled:i((function(e){return $(e)?"div":"p"}),"text"),blockquote:i("blockquote","quote"),"header-one":i("h1","headerOne"),"header-two":i("h2","headerTwo"),"header-three":i("h3","headerThree"),"header-four":i("h4","headerFour"),"header-five":i("h5","headerFive"),"header-six":i("h6","headerSix"),"code-block":i("pre","codeBlock"),"unordered-list-item":a(!1),"ordered-list-item":a(!0)}},te=function(e,t,n,r,a,i){return h({EMOJI_TYPE:function(e,t,n){var r=n.key;return o.a.createElement("span",{key:r,style:{fontFamily:"cursive"}},e)}},function(e,t,n,r,a,i){var l={};return Object.keys(t).forEach((function(c,s){l[c]=function(l,d,u){var p,b,f,h=u.key,m=u.block,v=t[c],g="inline"===v.elementType,y=d.interactions,O=o.a.createElement(X,{id:"viewer-"+m.key,type:c,pluginComponent:v,componentData:d,entityIndex:h,context:n,styles:r,blockIndex:(p=n.contentState,b=m.key,p.blocks.findIndex((function(e){return e.key===b}))),typeMap:t,innerRCEViewerProps:i,SpoilerViewerWrapper:e,withHorizontalScroll:!0,blockKey:m.key},g?l:null),j=H(O,y,n);if(a&&!g){var w=c.replace("wix-draft-plugin-","").toLowerCase(),x=""+a+(m.data.index+1);f=o.a.createElement(J,{type:w,anchorKey:x})}return o.a.createElement(o.a.Fragment,{key:s+"_"+h},j,f)}})),l}(i,e,t,n,r,a))},ne={cleanup:{after:l.g.filter((function(e){return-1===e.indexOf("header")})),split:!0,except:["unordered-list-item","ordered-list-item","unstyled","header-one","header-two","header-three","header-four","header-five","header-six"]},convertFromRaw:function(e){return e}},re={alignLeft:"_1wj_L",textWrapNowrap:"_3LSSz",alignRight:"_2G2B-",alignCenter:"c-Mgr",sizeFullWidth:"fs-0K",renderedInTable:"Xiiok",sizeContent:"_7gPc2",sizeSmall:"_2fU6C",sizeSmallCenter:"_14Cz1",flex:"_3wJ6p",left:"_25MYV",center:"_1XrpH",right:"_2x3mA"},oe={rtl:"_3CUkg",ltr:"_2QAo-"},ae=function(e){function t(t){var n=e.call(this,t)||this;n.getContextualData=function(e,t){var n,r=e.t,o=e.theme,a=e.isMobile,i=void 0!==a&&a,l=e.anchorTarget,c=e.relValue,s=e.customAnchorScroll,d=e.config,u=e.helpers,b=void 0===u?{}:u,f=e.locale,h=e.disabled,m=e.seoMode,v=e.iframeSandboxDomain,g=e.textAlignment;return Object(p.a)(b,d),{t:r,theme:o,isMobile:i,anchorTarget:l,relValue:c,customAnchorScroll:s,config:d,helpers:b,locale:f,disabled:h,seoMode:m,contentState:t,iframeSandboxDomain:v,disableRightClick:null===(n=null==d?void 0:d.uiSettings)||void 0===n?void 0:n.disableRightClick,textAlignment:g}};var r=h(h(h({},V),re),oe);n.styles=Object(l.ub)({styles:r,theme:t.theme}),n.typeMappers=B(t.typeMappers);var o=t.experiments,a=t.isMobile,i=void 0!==a&&a,c=t.t;return n.state={context:{experiments:o,isMobile:i,t:c}},n}return f(t,e),t.getDerivedStateFromProps=function(e){return{raw:t.getInitialState(e)}},t.getDerivedStateFromError=function(e){return{error:e}},t.prototype.componentDidMount=function(){this.reportDebuggingInfo()},t.prototype.reportDebuggingInfo=function(){var e=this;"undefined"!=typeof window&&/debug/i.test(window.location.search)&&!window.__RICOS_INFO__&&n.e(6).then(n.bind(null,958)).then((function(t){(0,t.reportDebuggingInfo)({version:l.X.currentVersion,reporter:"Rich Content Viewer",plugins:Object.keys(e.typeMappers),getContent:function(){return e.props.initialState},getConfig:function(){return e.props.config}})}))},t.prototype.render=function(){var e,t,n,r,i=this.props,c=i.onError,d=i.config,u=void 0===d?{}:d,p=i.onHover,b=i.isMobile,f=i.isInnerRcv,m=i.textDirection,v=i.direction,g=i.decorators,y=i.inlineStyleMappers,O=i.locale,j=i.addAnchors,w=i.renderedInTable,x=i.platform,C=i.t,_=i.typeMappers,N=i.setRef,S=void 0===N?function(){}:N,E=i.onMouseOver,k=void 0===E?function(){}:E;try{if(this.state.error)return c(this.state.error),null;var M=this.styles,T=s()(M.wrapper,((e={})[M.desktop]=!x||"desktop"===x,e)),P=s()(M.renderedInTable,V.renderedInTable,"UvcfS"),A=s()(M.editor,w&&P,((t={})[M.rtl]="rtl"===m,t)),I=null===(n=u[l.P])||void 0===n?void 0:n.initSpoilersContentState,D=null===(r=u[l.P])||void 0===r?void 0:r.SpoilerViewerWrapper,F=this.getContextualData(this.props,this.state.raw),L={typeMappers:_,inlineStyleMappers:y,decorators:g,config:u,t:C,renderedInTable:w,isMobile:b},B=function(e,t,n,r,i,c,s,d,u,p){if(void 0===u&&(u={}),!(b=r.contentState)||!b.blocks||1===b.blocks.length&&""===b.blocks[0].text&&"unstyled"===b.blocks[0].type)return null;var b,f,m=u.addAnchors,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(u,["addAnchors"]),g=r.contentState?(f=r.contentState,h(h({},f),{blocks:f.blocks.map((function(e,t){if("atomic"===e.type)return h(h({},e),{data:{index:t}});var n=Object(l.mb)(e.text),r=h(h(h({},e.data),{depth:e.depth,index:t}),"rtl"===n&&{textDirection:n}),o=e.text;return Object(a.endsWith)(o,"\n")&&(o+="\n"),h(h({},e),{depth:0,data:r,text:o})}))})):r.contentState,y=s?s(g):g,O=m&&(!0===m?"rcv-block":m),j=R(y,{inline:Z(c,e),blocks:ee(e,t,r,O),entities:te(n,r,e,O,p,d),decorators:i},h(h({},ne),v));if(m){var w=O+"-first",x=O+"-last";j=o.a.createElement(o.a.Fragment,null,o.a.createElement(J,{type:"first",anchorKey:w}),j,o.a.createElement(J,{type:"last",anchorKey:x}))}return j}(M,m,this.typeMappers,F,g,y,I,D,{addAnchors:j},L),z=f?{}:{"data-id":"rich-content-viewer"};return o.a.createElement(l.r.Provider,{value:this.state.context},o.a.createElement("div",h({className:T,dir:v||Object(l.lb)(O),onMouseEnter:function(e){return p&&p(e)},ref:S,onMouseOver:k},z),o.a.createElement("div",{className:A},B),o.a.createElement(l.e,{isMobile:b})))}catch(H){return c(H),null}},t.defaultProps={theme:{},decorators:[],typeMappers:[],inlineStyleMappers:[],locale:"en",onError:function(e){throw e},normalize:{},config:{}},t.getInitialState=function(e){var t,n,r,o=e.initialState,a=e.anchorTarget,i=e.relValue,c=e.normalize,s=c.disableInlineImages,d=void 0!==s&&s,u=c.removeInvalidInlinePlugins,p=void 0!==u&&u,b=e.config,f=b.uiSettings,h=null===(t=b[l.u])||void 0===t?void 0:t.disableExpand,m=null===(n=b[l.p])||void 0===n?void 0:n.disableExpand,v=(null===(r=b[l.W])||void 0===r?void 0:r.disableDownload)||(null==f?void 0:f.disableRightClick)||(null==f?void 0:f.disableDownload);return o?Object(l.vb)(o,{anchorTarget:a,relValue:i,disableInlineImages:d,removeInvalidInlinePlugins:p,disableDownload:v,disableImagesExpand:h,disableGalleryExpand:m}):void 0},t}(r.Component),ie=Object(l.Cb)(ae,i,{forceRemount:!1}),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return o.a.createElement(ie,h({},this.props))},t.displayName="RichContentViewer",t}(r.Component),ce=n(398),se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},de=function(){return(de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ue(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function pe(e,t){var n=e.map((function(e,t){if(e.indexOf("%")>-1){var n=parseFloat(e.substr(0,e.length-1))/100;return t<3?Math.round(255*n):n}return parseFloat(e)})),r=Number(n[0]).toString(16),o=Number(n[1]).toString(16),a=Number(n[2]).toString(16),i=Math.round(255*Number(n[3])).toString(16);return 1===r.length&&(r="0"+r),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i),"#"+r+o+a+(t?i:"")}function be(e){if("transparent"===e)return"#FFFFFF00";if((e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")){var t=e.replace(/^(rgba\()|^(rgb\()|(\s)|(\))$/g,"").split(",");if(4===t.length)return pe(t,!0);if(3===t.length)return pe(t);throw Error("[ricos-common] themeUtils.ts: Bad RGB / RGBA value: "+e)}if(!e.startsWith("#"))throw Error("[ricos-common] themeUtils.ts: Bad Hex ("+e+').\n      Ricos color can only accept "transparent" or a HEX formatted color as its value');return e}function fe(e){var t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3}function he(e,t){return fe(e)<150?e:t||"#000000"}function me(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e.toLowerCase());if(t)return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)};throw new Error("Bad Hex")}function ve(e){var t=me(e);return t.r+", "+t.g+", "+t.b}var ge=function(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))},ye=" ".repeat(4),Oe=function(e){return Object.entries(e).filter((function(e){return!!e[1]})).map((function(e){return n=e[0],"--ricos-"+ge(n)+": "+("string"==typeof(t=e[1])?t.split(";")[0]:t)+";\n";var t,n})).join(ye)},je=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"\n  "+(e?"."+e:"*")+" {\n    "+t.map(Oe).join(ye).replace(/[\s\t]+$/,"")+"\n  }\n"},we=Object.freeze({__proto__:null,toHexFormat:be,isBright:function(e){return fe(e)>150},adaptForeground:he,toRgbTuple:ve,toCssRgbA:function(e,t){if(/^#([A-Fa-f\d]{2}){1,4}$/.test(e)){var n=me(e);return"rgba("+n.r+", "+n.g+", "+n.b+", "+t*(n.a||1)+")"}throw new Error("[ricos-common] themeUtils.ts: Bad Hex")},toDashedKey:ge,toVarStrings:Oe,buildCssVars:je}),xe={darkTheme:{textColor:"#000000",bgColor:"#FFFFFF",actionColor:"#15E0FB"}},Ce={BG_COLOR:11,DISABLED_COLOR:13,TEXT_COLOR_LOW:14,TEXT_COLOR:15,ACTION_COLOR:18},_e=function(e,t){return function(e,t){return e[t<=5?t-1:t-6]}(e,t).value};var Ne,Se,Ee,ke={modalTheme:{content:{}}},Me=(Ee=(Ne={exports:{}}).exports,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.hasValueAtKey=Ee.hasPresentKey=Ee.isFilled=Ee.isDefined=Ee.isPresent=void 0,Ee.isPresent=function(e){return null!=e},Ee.isDefined=function(e){return void 0!==e},Ee.isFilled=function(e){return null!==e},Ee.hasPresentKey=function(e){return function(t){return void 0!==t[e]&&null!==t[e]}},Ee.hasValueAtKey=function(e,t){return function(n){return n[e]===t}},Ne.exports);(Se=Me)&&Se.__esModule&&Object.prototype.hasOwnProperty.call(Se,"default")&&Se.default,Me.hasValueAtKey,Me.hasPresentKey,Me.isFilled;var Te=Me.isDefined;function Pe(e){var t=je,n=e.ricosTheme,r=void 0===n?{}:n,i=e.plugins,l=void 0===i?[]:i,c=e.cssOverride,s=void 0===c?{}:c,d=r.parentClass,u=void 0===d?"":d,p=r.palette,b=r.paletteConfig,f=r.typography,h=r.customStyles,m=l.map((function(e){return e.theme})).filter(Te),v=function(e,t){if(!e)return{paletteVarsObject:{}};var n=function(e){if("string"==typeof e){if(e in xe)return xe[e];throw Error("Palette "+e+" is unknown. Supported themes: "+xe.toString())}if(Array.isArray(e))return function(e){if(0===e.length)throw Error("Received empty palette colors array");var t=e.map((function(e){return e.name})),n=Object(a.difference)(Object.values(Ce).map((function(e){return"color_"+e})),t);if(n.length>0){var r=[];throw r.push("Some palette colors were not supplied:","\n"+n+"\n","Palette array must include the following colors:",Object.entries(Ce).map((function(e){return e[1]+" - "+e[0]})).toString().split(",").join("\n"),""),Error(r.join("\n"))}}(e),{actionColor:_e(e,Ce.ACTION_COLOR),bgColor:_e(e,Ce.BG_COLOR),textColor:_e(e,Ce.TEXT_COLOR),disabledColor:_e(e,Ce.DISABLED_COLOR),textColorLow:_e(e,Ce.TEXT_COLOR_LOW)};if(e&&function(e){return e&&"string"!=typeof e&&!Array.isArray(e)&&e.actionColor&&e.textColor&&e.bgColor}(e))return e;throw Error("Unrecognized Palette object. Please refer to Ricos Theme Documentation")}(e);return Object.entries(n).forEach((function(e){var t=e[0],r=e[1];return n[t]=r&&"string"==typeof r?be(r):r})),{paletteVarsObject:function(e,t){var n=t||{},r=n.contentBgColor,o=void 0!==r&&r,a=n.focusActionColor,i=n.settingsActionColor,l=e.textColor,c=e.bgColor,s=e.actionColor,d=e.fallbackColor,u=void 0===d?"#000000":d,p=e.disabledColor,b=e.textColorLow;return{textColor:l,textColorTuple:ve(l),actionColor:s,actionColorTuple:ve(s),actionColorFallback:he(s,u),actionColorFallbackTuple:ve(he(s,u)),backgroundColor:c,backgroundColorTuple:ve(c),fallbackColor:u,fallbackColorTuple:ve(u),disabledColor:p,disabledColorTuple:p?ve(p):void 0,textColorLow:b,textColorLowTuple:b?ve(b):void 0,bgColorContainer:o?c:void 0,settingsActionColor:i,settingsActionColorTuple:i?ve(i):void 0,focusActionColor:a,focusActionColorTuple:a?ve(a):void 0}}(n,t),colors:n}}(p,b),g=v.paletteVarsObject,y=v.colors,O=function(e){if(!e)return{};var t=e.fontFamily,n=e.wixTypography,r=n?function(e){return function(e){return Object.entries(e)}(e).reduce((function(e,t){var n,r;return de(de({},e),((n={})["font-"+t[0].toLowerCase()]=(r=t[1]).value.substr(5,r.value.length-6),n))}),{})}(n):{};return Object.assign(r,t&&{fontFamily:t})}(f),j=function(e){return e&&e?function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return de(de({},e),Object.entries(function(e){var t=e.lineHeight,n=e.fontSize,r=ue(e,["lineHeight","fontSize"]);return de(de({},r),{fontSize:n,lineHeight:t||(void 0!==n?1.5:void 0)})}(r)).reduce((function(e,t){var r;return de(de({},e),((r={})["custom-"+n.toLowerCase()+"-"+t[0]]=t[1],r))}),{}))}),{})}(e):{}}(h);y&&m.forEach((function(e){return e(y,we,h)}));var w=o.a.createElement("style",{type:"text/css",key:"styleElement"},t(u,g,O,j));return{theme:de(de({},ke),s),html:w}}Me.isPresent;var Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.runStrategies=function(){var e=this.props,t=e.cssOverride,n=e.plugins,r=void 0===n?[]:n,o=e.isViewer,i=void 0!==o&&o,l=e.content,c=e.preview,s=e.theme,d=e.isPreviewExpanded,u=void 0!==d&&d,p=e.onPreviewExpand,b=e.children,f=e._rcProps,h=Pe({plugins:r,cssOverride:t,ricosTheme:s,experiments:null==f?void 0:f.experiments}),m=h.theme,v=h.html,g=[];v&&g.push(v);var y=Object(a.merge)({theme:m},function(e){var t,n=e.isViewer,r=e.plugins,o=void 0===r?[]:r,i=e.childProps,l=e.cssOverride,c=e.content;if(n){var s={config:{},typeMappers:[],decorators:[],inlineStyleMappers:[]};t=o.reduce((function(e,t){return function(e,t,n,r){var o,a=t.type,i=t.config,l=t.typeMapper,c=t.decorator,s=t.inlineStyleMapper,d=de(de({},e.config),((o={})[a]=i,o));return{config:d,typeMappers:l&&e.typeMappers.concat([l])||e.typeMappers,decorators:c&&e.decorators.concat([c(n,i)])||e.decorators,inlineStyleMappers:s&&r&&e.inlineStyleMappers.concat([null==s?void 0:s(d,r)])||e.inlineStyleMappers}}(e,t,l,c)}),s)}else s={config:{},plugins:[],ModalsMap:{},createPluginsDataMap:{}},t=o.reduce((function(e,t){return function(e,t){var n,r,o=t.type,a=t.config,i=t.createPlugin,l=t.ModalsMap,c=t.createPluginData;return{config:de(de({},e.config),(n={},n[o]=a,n)),plugins:i?e.plugins.concat(i):e.plugins,ModalsMap:de(de({},e.ModalsMap),l),createPluginsDataMap:de(de({},e.createPluginsDataMap),(r={},r[o]=c,r))}}(e,t)}),s);var d=function(e,t,n){var r=t.config,o=void 0===r?{}:r,a=t.plugins,i=void 0===a?[]:a,l=t.ModalsMap,c=void 0===l?{}:l,s=t.createPluginsDataMap,d=void 0===s?{}:s,u=t.typeMappers,p=void 0===u?[]:u,b=t.decorators,f=void 0===b?[]:b,h=t.inlineStyleMappers,m=void 0===h?[]:h,v=t.theme,g=void 0===v?{}:v;return e?{config:o,typeMappers:p,decorators:f.map((function(e){return e(g,o)})),inlineStyleMappers:n?m.map((function(e){return e(o,n)})):[]}:{config:o,plugins:i,ModalsMap:c,createPluginsDataMap:d}}(n,i,c);return Object(a.merge)(t,d)}({isViewer:i,plugins:r,childProps:b.props,cssOverride:m,content:l,experiments:null==f?void 0:f.experiments})),O=function(e){var t=e.isPreviewExpanded,n=e.onPreviewExpand,r=e.previewConfig,o=e.content;if(!e.isViewer||!r||!o)return{};var a=r.transformation,i=r.contentInteractionMappers,l=r.onPreviewExpand;return a&&i?{initialState:t||!a?o:a.apply(o),config:{PREVIEW:de(de({},r),{onPreviewExpand:function(){null==n||n(),null==l||l()}})}}:{}}({isViewer:i,isPreviewExpanded:u,onPreviewExpand:p,previewConfig:c,content:l,experiments:null==f?void 0:f.experiments}),j=O.initialState,w=ue(O,["initialState"]);return{strategyProps:Object(a.merge)(y,w),previewContent:j,htmls:g}},t.prototype.render=function(){var e=this.props,t=e._rcProps,n=e.children,i=e.isMobile,l=e.addAnchors,c=e.toolbarSettings,s=e.modalSettings,d=void 0===s?{}:s,u=e.isPreviewExpanded,p=e.placeholder,b=e.content,f=e.RicosModal,h=e.onError,m=e.mediaSettings,v=void 0===m?{}:m,g=e.linkSettings,y=void 0===g?{}:g,O=e.linkPanelSettings,j=void 0===O?{}:O,w=e.maxTextLength,x=e.textAlignment,C=e.onAtomicBlockFocus,_=this.runStrategies(),N=_.strategyProps,S=_.previewContent,E=_.htmls,k=c||{},M=k.useStaticTextToolbar,T=k.textToolbarContainer,P=k.getToolbarSettings,A=d.openModal,R=d.closeModal,I=d.ariaHiddenId,D=d.container,F=d.onModalOpen,V=d.onModalClose,L=v.pauseMedia,B=v.disableRightClick,z=v.fullscreenProps,H=y.anchorTarget,K=y.relValue,W=y.customAnchorScroll,U=(null==v?void 0:v.disableDownload)||B,G=function(){return!(!S||u)},J=Object(a.merge)(N,t,{addAnchors:l,isMobile:i,maxTextLength:w,textToolbarType:i||!T&&!M?"inline":"static",config:{getToolbarSettings:P,uiSettings:{disableDownload:U,linkPanel:j}},initialState:S||b,placeholder:p,onError:h,helpers:{openModal:A,closeModal:R,isPreview:G},disabled:L,anchorTarget:H,relValue:K,customAnchorScroll:W,textAlignment:x,onAtomicBlockFocus:C},n.props);return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)r[o]=a[i];return r}(E,[o.a.createElement(f,de({ariaHiddenId:I,isModalSuspended:G(),container:D,fullscreenProps:z},J,{key:"ricosElement",onModalOpen:F,onModalClose:V}),r.Children.only(o.a.cloneElement(n,de({},J))))])},t.defaultProps={locale:"en",isMobile:!1},t}(r.Component),Re={blocks:[],entityMap:{}};var Ie=function(e,t){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function De(e,t){function n(){this.constructor=e}Ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Fe,Ve,Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Be=(Fe=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}(t={exports:{}}),t.exports}())&&Fe.__esModule&&Object.prototype.hasOwnProperty.call(Fe,"default")?Fe.default:Fe,ze="wix-draft-plugin-image",He="wix-rich-content-plugin-table";function Ke(e,t){var n=e.src,r=n.file_name,o=e.metadata;return{metadata:{height:n.height,width:n.width,title:o&&o.caption||"",altText:o&&o.alt||""},itemId:n.id||r+t,url:r}}var We=((Ve={})[ze]=function(e,t){var n,r;if(null===(n=e.data)||void 0===n||!n.disableExpand)return(r={})[t]=1,r},Ve.IMAGE=function(e,t){var n,r;if(null===(n=e.data)||void 0===n||!n.disableExpand)return(r={})[t]=1,r},Ve[He]=function(e){var t={};return Je(e).forEach((function(e){var n=Ue(e),r=n.length?Object.assign.apply(Object,n):{};t=Be({},t,r)})),t},Ve["wix-rich-content-plugin-accordion"]=function(e){var t,n={};return null===(t=e.data)||void 0===t||t.pairs.forEach((function(e){var t=Ue(e.content),r=t.length?Object.assign.apply(Object,t):{};n=Be({},n,r)})),n},Ve["wix-draft-plugin-gallery"]=function(e,t){var n,r;if(null===(n=e.data)||void 0===n||!n.disableExpand)return(r={})[t]=e.data.items.length,r},Ve);function Ue(e){var t=e.blocks,n=e.entityMap;return t.map((function(e){var t,r,o=null===(t=e.entityRanges[0])||void 0===t?void 0:t.key,a=e.key,i=n[o],l=null==i?void 0:i.type;return null===(r=We[l])||void 0===r?void 0:r.call(We,i,a)})).filter((function(e){return e}))}function Ge(e,t){var n=[];return Object.entries(e).forEach((function(e){var r,o,a=e[1];a.type!==ze&&"IMAGE"!==a.type||(null===(r=a.data)||void 0===r?void 0:r.src)&&(null===(o=a.data)||void 0===o||!o.disableExpand)&&n.push(Ke(a.data,t))})),n}function Je(e){var t=[],n=e.data.config.rows;return Object.entries(n).forEach((function(e){var n=e[1];Object.entries(n.columns).forEach((function(e){var n=e[1];t.push(n.content)}))})),t}function Xe(e,t){var n;switch(e.type){case ze:case"IMAGE":return!e.data.src||null!==(n=e.data)&&void 0!==n&&n.disableExpand?[]:[Ke(e.data,t)];case"wix-draft-plugin-gallery":var r;return null!==(r=e.data)&&void 0!==r&&r.disableExpand?[]:e.data.items;case He:return function(e,t){return Je(e).map((function(e){return Ge(e.entityMap,t)})).flat()}(e,t);case"wix-rich-content-plugin-accordion":return function(e,t){var n=[];return e.data.pairs.forEach((function(e){n=[].concat(n,Ge(e.content.entityMap,t))})),n}(e,t);default:return[]}}function qe(e){var t=Ue(e),n=0;return t.reduce((function(e,t){return Object.entries(t).forEach((function(t){var r=t[0],o=t[1];e[r]=n,n+=o})),e}),{})}function $e(e){var t;return{images:(t=e.entityMap,Object.values(t).map(Xe).reduce((function(e,t){return e.concat(t)}),[])),imageMap:qe(e)}}var Ye=function(e){function t(t){var n=e.call(this,t)||this;return n.onClose=function(){return n.setState({isExpanded:!1})},n.addExpand=function(e){if(n.props.isModalSuspended)return e;var t=function(e,t){void 0===t&&(t=0);var r=n.state,o=r.expandModeData;if(!r.FullscreenModal)return!1;n.setState({isExpanded:!0,index:o?o.imageMap[e]+t:0})},r=e["wix-draft-plugin-image"],o=e["wix-draft-plugin-gallery"];return r&&!r.onExpand&&(e["wix-draft-plugin-image"]=Le(Le({},r),{onExpand:t})),o&&!o.onExpand&&(e["wix-draft-plugin-gallery"]=Le(Le({},o),{onExpand:t})),e},n.onChildHover=function(){!n.state.FullscreenModal&&n._FullscreenModal&&n.setState({FullscreenModal:n._FullscreenModal})},n.state={isExpanded:!1,index:0},n}return De(t,e),t.prototype.componentDidMount=function(){var e=$e(this.props.initialState||Re);e.images.length>0&&(this.setState({expandModeData:e}),this.lazyLoadFullscreen(),this.props.isMobile&&this.setState({FullscreenModal:this._FullscreenModal}))},t.prototype.componentWillReceiveProps=function(e){if(e.initialState!==this.props.initialState){var t=$e(e.initialState||Re);!this._FullscreenModal&&t.images.length>0&&this.lazyLoadFullscreen(),this.setState({expandModeData:t})}},t.prototype.lazyLoadFullscreen=function(){var e=o.a.lazy((function(){return n.e(68).then(n.bind(null,988))}));this._FullscreenModal=e},t.prototype.render=function(){var e=this.state,t=e.isExpanded,n=e.index,a=e.expandModeData,i=e.FullscreenModal,l=this.props,c=l.children,s=l.initialState,d=l.isModalSuspended,u=l.isMobile,p=l.fullscreenProps,b=this.addExpand(c.props.config);return o.a.createElement(r.Fragment,null,r.Children.only(o.a.cloneElement(c,{config:b,onHover:this.onChildHover})),i&&o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(i,Le({dataHook:"RicosFullScreen",initialState:s||Re,isOpen:t&&!d,images:(null==a?void 0:a.images)||[],onClose:this.onClose,index:n,isMobile:u},p))))},t}(r.Component),Qe=function(e){var t=r.Fragment,n={},a=e.children.props.config||{},i=a[l.u],c=a[l.p],s=!(null==i?void 0:i.onExpand)||!(null==c?void 0:c.onExpand);(i&&!i.disableExpand||c&&!(null==c?void 0:c.disableExpand))&&s&&(t=Ye,n=e);var d=r.Children.only(o.a.cloneElement(e.children,Le({},e)));return o.a.createElement(t,Le({},n),d)},Ze=function(e){function t(t){var r=e.call(this,t)||this;return r.getLocale=function(){var e=r.props,t=e.children,n=e.locale;return(null==t?void 0:t.props.locale)||n},r.onPreviewExpand=function(){return r.setState({isPreviewExpanded:!0})},r.getBiCallback=function(e){var t,n,o=r.props,a=o.children,i=o._rcProps;return(null===(t=null==a?void 0:a.props.helpers)||void 0===t?void 0:t[e])||(null===(n=null==i?void 0:i.helpers)||void 0===n?void 0:n[e])},r.setRef=function(e){return e&&(r.viewerRef=e)},r.loadTextSelection=function(){var e=r.props,t=e.textSelectionToolbar,a=e.isMobile;if(t&&!a&&!r.state.TextSelectionToolbar){var i=o.a.lazy((function(){return n.e(79).then(n.bind(null,989))}));r.setState({TextSelectionToolbar:i})}},r.state={isPreviewExpanded:!1,localeData:{locale:t.locale},remountKey:!1},r}return De(t,e),t.prototype.componentDidMount=function(){var e,t,n,r,o=this.props.children,a=this.getBiCallback("onViewerLoadedd"),i=(null===(e=null==o?void 0:o.props.helpers)||void 0===e?void 0:e.isPreview)||(null===(n=null===(t=this.props._rcProps)||void 0===t?void 0:t.helpers)||void 0===n?void 0:n.isPreview),c=this.props.content||(null==o?void 0:o.props.initialState)||(null===(r=this.props._rcProps)||void 0===r?void 0:r.initialState),s=(c&&Object(ce.a)(c)||{}).pluginsCount;null==a||a({isPreview:!!(null==i?void 0:i()),version:l.X.currentVersion,pluginsCount:s})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.seoSettings,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children","seoSettings"]),i=this.state,l=i.isPreviewExpanded,c=i.localeData,s=i.TextSelectionToolbar,d=t&&function(e,t){var n=r.Children.only(t),o=null==n?void 0:n.type.displayName;return!!t&&o===e}("RichContentViewer",t)?t:o.a.createElement(le,null);return[o.a.createElement(Ae,Le({key:"viewer",RicosModal:Qe,isPreviewExpanded:l,onPreviewExpand:this.onPreviewExpand,isViewer:!0},a),o.a.cloneElement(d,Le({seoMode:n,setRef:this.setRef,onMouseOver:this.loadTextSelection},c))),s?o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(s,{onButtonClick:this.getBiCallback("onViewerAction"),container:this.viewerRef})):null]},t.defaultProps={locale:"en"},t}(r.Component)}}]);