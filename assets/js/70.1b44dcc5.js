/*! For license information please see 70.1b44dcc5.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1e3:function(e,t,i){"use strict";i.r(t);var r=i(0),o=i.n(r),n=i(23),a=i.n(n),s=i(1),l=i.n(s),h=i(499),c=i.n(h),u=i(160);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,g,y=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:e.backgroundColor,d:"M0 0H60V60H0z"}),o.a.createElement("path",{fill:e.foregroundColor,d:"M42.188 17l.812.813L30.812 30 43 42.188l-.813.812L30 30.812 17.812 43 17 42.187 29.187 30 17 17.812l.813-.812L30 29.187 42.188 17z"})))},f=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:e.backgroundColor,d:"M0 0H60V60H0z"}),o.a.createElement("g",{fill:e.foregroundColor},o.a.createElement("path",{d:"M4.333 15.167H5.413V27.084H4.333z",transform:"translate(17 17) rotate(45 4.873 21.125)"}),o.a.createElement("path",{d:"M26 8h-1V1h-7V0h8v8z",transform:"translate(17 17)"}),o.a.createElement("path",{d:"M20.583 -1.083H21.665999999999997V10.834H20.583z",transform:"translate(17 17) rotate(45 21.125 4.875)"}),o.a.createElement("path",{d:"M0 26v-8h1v7h7v1H0z",transform:"translate(17 17)"}))))},v=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 60 60"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:e.backgroundColor,d:"M0 0H60V60H0z"}),o.a.createElement("g",{fill:e.foregroundColor},o.a.createElement("path",{d:"M4.055 16.447H5.135V28.363999999999997H4.055z",transform:"translate(17 16) rotate(-135 4.595 22.405)"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M10 8.083H9v-7H2v-1h8v8z",transform:"translate(17 16) rotate(-180 13 5.458)"}),o.a.createElement("path",{d:"M4.583 -1H5.666V10.917H4.583z",transform:"translate(17 16) rotate(-180 13 5.458) rotate(45 5.125 4.958)"})),o.a.createElement("path",{d:"M9.468 17.53v8h-1v-7h-7v-1h8z",transform:"translate(17 16)"}))))},b=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"61",viewBox:"0 0 60 61"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:e.backgroundColor,transform:"translate(0 .5)"}),o.a.createElement("path",{stroke:e.foregroundColor,strokeWidth:"1.5",d:"M24 21L42 21 42 39",transform:"translate(0 .5) scale(-1 1) rotate(45 0 -49.669)"})))},I=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"61",viewBox:"0 0 60 61"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:e.backgroundColor,transform:"translate(0 .5)"}),o.a.createElement("path",{stroke:e.foregroundColor,strokeWidth:"1.5",d:"M17 21L35 21 35 39",transform:"translate(0 .5) rotate(45 26 30)"})))},w=function(e){return e.startsWith("http://")||e.startsWith("https://")},S=function(e,t){return w(e)?e:("image"===t?(i="https://static.wixstatic.com/",r="media/"):(i="https://video.wixstatic.com/",r="video/"),i+(e.startsWith(r)?e:r+e));var i,r};!function(e){e[e.EMPTY=-1]="EMPTY",e[e.COLLAGE=0]="COLLAGE",e[e.MASONRY=1]="MASONRY",e[e.GRID=2]="GRID",e[e.THUMBNAIL=3]="THUMBNAIL",e[e.SLIDER=4]="SLIDER",e[e.SLIDESHOW=5]="SLIDESHOW",e[e.PANORAMA=6]="PANORAMA",e[e.COLUMN=7]="COLUMN",e[e.MAGIC=8]="MAGIC",e[e.FULLSIZE=9]="FULLSIZE",e[e.BRICKS=10]="BRICKS",e[e.MIX=11]="MIX",e[e.ALTERNATE=12]="ALTERNATE"}(g||(g={})),(m={})[g.COLLAGE]={showArrows:!1,isVertical:!0,oneRow:!1,galleryType:"Columns",imageMargin:5,gallerySizePx:"300",allowHover:!0},m[g.MASONRY]={showArrows:!1,numberOfImagesPerRow:0,imageMargin:5,gallerySizePx:"300",gridStyle:0,allowHover:!0},m[g.GRID]={showArrows:!1,imageResize:!1,galleryImageRatio:2,numberOfImagesPerRow:3,imageMargin:5,cubeType:"fill",cubeRatio:1,isVertical:!0,oneRow:!1,allowHover:!0},m[g.THUMBNAIL]={showArrows:!0,arrowsSize:23,galleryThumbnailsAlignment:"bottom",floatingImages:0,thumbnailSpacings:2.5,thumbnailSize:120,allowHover:!0},m[g.SLIDER]={showArrows:!0,arrowsSize:23,imageMargin:5,cubeType:"fit",cubeRatio:"16/9",allowHover:!0},m[g.SLIDESHOW]={showArrows:!0,arrowsSize:23,cubeType:"fit",floatingImages:0,slideshowInfoSize:0,allowHover:!0},m[g.PANORAMA]={showArrows:!1,hasThumbnails:!1,galleryThumbnailsAlignment:"none",imageMargin:5,allowHover:!0},m[g.COLUMN]={showArrows:!0,arrowsSize:23,hasThumbnails:!1,galleryThumbnailsAlignment:"none",imageMargin:5,allowHover:!0},m[g.FULLSIZE]={showArrows:!0,arrowsSize:23,cubeType:"fill",floatingImages:0,slideshowInfoSize:0,allowHover:!0};var O=Object.freeze({IMAGE:"image",VIDEO:"video"});Object.freeze([g.THUMBNAIL,g.SLIDER,g.SLIDESHOW,g.COLUMN,g.FULLSIZE]),Object.freeze({items:[],styles:{galleryLayout:2,gallerySizeType:"px",gallerySizePx:300,galleryMargin:0,oneRow:!1,cubeRatio:1,galleryThumbnailsAlignment:"bottom",isVertical:!1,imageMargin:5,thumbnailSpacings:0,cubeType:"fill",enableInfiniteScroll:!0,titlePlacement:"SHOW_ON_HOVER",allowHover:!0,itemClick:"link",fullscreen:!1,showArrows:!1,gridStyle:1,loveButton:!1,allowSocial:!1,allowDownload:!1,mobileSwipeAnimation:"NO_EFFECT",thumbnailSize:120,gotStyleParams:!0,showVideoPlayButton:!0,videoPlay:"onClick"},config:{alignment:"center",size:"content",layout:"small",spacing:0,disableExpand:!1}});var x=function(e,t,i,r,o,n,a,s,l){return void 0===a&&(a=!1),void 0===s&&(s=!1),E(e,t,i,2*r,2*o,n,a,s,l)},E=function(e,t,i,r,o,n,a,s,l){if(n=n||{},-1!==(t=t||"").indexOf("base64"))return t;if(r=Math.ceil(r),o=Math.ceil(o),i===O.VIDEO)return S(t,O.VIDEO);if(r>=e.maxWidth&&o>=e.maxHeight){var h=e.dto.metaData.type===O.VIDEO?t:e.url;return S(h,O.IMAGE)}return function(e,t,i,r,o,n,a,s,l){t=t||"",(n=n||{}).quality>0&&(n.quality=Math.min(90,n.quality));var h={x:50,y:50};l&&l[0]>=0&&l[1]>=0&&(h.x=Math.round(100*l[0]),h.y=Math.round(100*l[1])),!0===n.allowUsm&&n.usm?(n.usm.usm_a=Math.min(5,Math.max(0,n.usm.usm_a||0)),n.usm.usm_r=Math.min(128,Math.max(0,n.usm.usm_r||0)),n.usm.usm_t=Math.min(1,Math.max(0,n.usm.usm_t||0))):n.usm={usm_a:0,usm_r:0,usm_t:0};var u=function(){};u="fit"===i?c.a.getScaleToFitImageURL:c.a.getScaleToFillImageURL;var p={};return n.quality>0&&(p.quality=n.quality),n.blur>0&&(p.filters={blur:n.blur}),h&&(p.focalPoint=h),n&&n.usm&&(p.unsharpMask={radius:parseFloat(n.usm.usm_r),amount:parseFloat(n.usm.usm_a),threshold:parseFloat(n.usm.usm_t)}),w(t)?t:u(t.replace("https://static.wixstatic.com/",""),e.maxWidth,e.maxHeight,r,o,p)}(e,t,i,r,o,n,0,0,l)};!function(e,t){void 0===t&&(t={});var i=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===i&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('._1KpZG,._3dmg8{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:100001;background:#fff}._1KpZG .pro-gallery .ltr,._1KpZG .pro-gallery .rtl,._3dmg8 .pro-gallery .ltr,._3dmg8 .pro-gallery .rtl{direction:ltr!important}._3dmg8{padding-top:70px;padding-left:7px}._2JQhu,.iZsNj{position:fixed}._2JQhu>svg,.iZsNj>svg{filter:drop-shadow(0 0 0 black)!important}.iZsNj{left:16px}._2JQhu{right:16px}._2zGgi{box-sizing:border-box;z-index:1001;padding:10px;position:fixed;right:62px;top:0;background:transparent;border-radius:4px;width:25px;height:25px;color:#000;border:hidden;cursor:pointer}@media only screen and (max-width:640px){._2zGgi{right:20px;top:5px}._2zGgi>svg{width:20px;height:20px}}._3PuAk{box-sizing:border-box;z-index:1001;padding:10px;position:fixed;left:12px;top:0;background:transparent;border-radius:4px;width:25px;height:25px;color:#000;border:hidden;cursor:pointer}.-hI7z{font-size:14px;line-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Ai5Gs{display:flex;justify-content:center;width:100%;height:100%;margin-top:20px}div.pro-gallery .gallery-item-container.zoom-in-on-hover:not(.hide-hover) .gallery-item-content{transition:transform 2.2s cubic-bezier(.14,.4,.09,.99)!important}div.pro-gallery .gallery-item-container.zoom-in-on-hover:not(.hide-hover).simulate-hover .gallery-item-content,div.pro-gallery .gallery-item-container.zoom-in-on-hover:not(.hide-hover):hover .gallery-item-content{transform:scale(1.1)}div.pro-gallery .gallery-item-container.blur-on-hover:not(.hide-hover) .gallery-item-content{transition:filter .4s linear!important}div.pro-gallery .gallery-item-container.blur-on-hover:not(.hide-hover).simulate-hover .gallery-item-content .gallery-item,div.pro-gallery .gallery-item-container.blur-on-hover:not(.hide-hover):hover .gallery-item-content .gallery-item{filter:blur(6px)}div.pro-gallery .gallery-item-container.grayscale-on-hover:not(.hide-hover) .gallery-item-content{transition:filter .6s ease!important}div.pro-gallery .gallery-item-container.grayscale-on-hover:not(.hide-hover).simulate-hover .gallery-item-content,div.pro-gallery .gallery-item-container.grayscale-on-hover:not(.hide-hover):hover .gallery-item-content{filter:grayscale(1)}div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover){transition:background-color .4s ease!important}div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover) .gallery-item-content,div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover) .gallery-item-hover:not(.hide-hover){transition:transform .4s ease!important}div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover).simulate-hover,div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover):hover{background-color:transparent!important}div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover).simulate-hover .gallery-item-content,div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover).simulate-hover .gallery-item-hover:not(.hide-hover),div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover):hover .gallery-item-content,div.pro-gallery .gallery-item-container.shrink-on-hover:not(.hide-hover):hover .gallery-item-hover:not(.hide-hover){transform:scale(.985)}div.pro-gallery .gallery-item-container.invert-on-hover:not(.hide-hover) .gallery-item-content{transition:filter .6s ease!important}div.pro-gallery .gallery-item-container.invert-on-hover:not(.hide-hover).simulate-hover .gallery-item-content,div.pro-gallery .gallery-item-container.invert-on-hover:not(.hide-hover):hover .gallery-item-content{filter:invert(1)}div.pro-gallery .gallery-item-container.color-in-on-hover .gallery-item-content{filter:grayscale(1);transition:filter .6s ease!important}div.pro-gallery .gallery-item-container.color-in-on-hover.simulate-hover:not(.hide-hover) .gallery-item-content,div.pro-gallery .gallery-item-container.color-in-on-hover:hover:not(.hide-hover) .gallery-item-content{filter:grayscale(0)}div.pro-gallery .gallery-item-container.darkened-on-hover .gallery-item-content{filter:brightness(1);transition:filter .6s ease!important}div.pro-gallery .gallery-item-container.darkened-on-hover.simulate-hover:not(.hide-hover) .gallery-item-content,div.pro-gallery .gallery-item-container.darkened-on-hover:hover:not(.hide-hover) .gallery-item-content{filter:brightness(.7)}div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover{transition:none}div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover:before{opacity:0}div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover.force-hover,div.pro-gallery .gallery-item-container:not(.invert-hover):hover .gallery-item-hover:not(.hide-hover){transition:none}div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container:not(.invert-hover):hover .gallery-item-hover:not(.hide-hover):before{opacity:1;background:rgba(8,8,8,.75)}div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover.force-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover) .gallery-item-hover.force-hover .info-member:not(.hidden),div.pro-gallery .gallery-item-container:not(.invert-hover):hover .gallery-item-hover:not(.hide-hover) .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover):hover .gallery-item-hover:not(.hide-hover) .info-member:not(.hidden){opacity:1!important}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in .gallery-item-hover{transition:filter .4s ease,opacity .4s ease!important}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in .gallery-item-hover:before{transition:filter .4s ease,opacity .4s ease!important;filter:opacity(0)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-fade-in:hover .gallery-item-hover:not(.hide-hover):before{filter:opacity(1)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand .gallery-item-hover{transition:transform .4s ease,filter .2s ease,opacity .2s ease!important}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand .gallery-item-hover:before{transition:transform .4s ease,filter .2s ease,opacity .2s ease!important;transform:scale(.9);filter:opacity(0)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand .gallery-item-hover .info-member:not(.hidden){transition:opacity .2s ease}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-expand:hover .gallery-item-hover:not(.hide-hover):before{transform:scale(1);filter:opacity(1)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up .gallery-item-hover{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up .gallery-item-hover:before{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important;transform:translateY(100%);filter:opacity(0)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-up:hover .gallery-item-hover:not(.hide-hover):before{transform:translateY(0);filter:opacity(1)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right .gallery-item-hover{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right .gallery-item-hover:before{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important;transform:translateX(-100%);filter:opacity(0)}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container:not(.invert-hover).hover-animation-slide-right:hover .gallery-item-hover:not(.hide-hover):before{transform:translateX(0);filter:opacity(1)}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover{transition:none}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover:before{opacity:1;background:rgba(8,8,8,.75)}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover .gallery-item-hover-inner{opacity:1}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover .info-member:not(.hidden){opacity:1!important}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover.force-hover,div.pro-gallery .gallery-item-container.invert-hover:hover .gallery-item-hover:not(.hide-hover){transition:none}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container.invert-hover:hover .gallery-item-hover:not(.hide-hover):before{opacity:0}div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover.force-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover .gallery-item-hover.force-hover .info-member:not(.hidden),div.pro-gallery .gallery-item-container.invert-hover:hover .gallery-item-hover:not(.hide-hover) .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover:hover .gallery-item-hover:not(.hide-hover) .info-member:not(.hidden){opacity:0!important}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in .gallery-item-hover{transition:filter .4s ease,opacity .4s ease!important}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in .gallery-item-hover:before{transition:filter .4s ease,opacity .4s ease!important;filter:opacity(1)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-fade-in:hover .gallery-item-hover:not(.hide-hover):before{filter:opacity(0)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand .gallery-item-hover{transition:transform .4s ease,filter .2s ease,opacity .2s ease!important}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand .gallery-item-hover:before{transition:transform .4s ease,filter .2s ease,opacity .2s ease!important;transform:scale(1);filter:opacity(1)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand .gallery-item-hover .info-member:not(.hidden){transition:opacity .2s ease}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-expand:hover .gallery-item-hover:not(.hide-hover):before{transform:scale(.9);filter:opacity(0)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up .gallery-item-hover{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up .gallery-item-hover:before{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important;transform:translateY(0);filter:opacity(1)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-up:hover .gallery-item-hover:not(.hide-hover):before{transform:translateY(100%);filter:opacity(0)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right .gallery-item-hover{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right .gallery-item-hover:before{transition:transform .4s cubic-bezier(.3,.13,.12,1),filter .5s ease,opacity .5s ease!important;transform:translateX(0);filter:opacity(1)}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right .gallery-item-hover .gallery-item-hover-inner,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right .gallery-item-hover .info-member:not(.hidden){transition:opacity .4s ease}div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right .gallery-item-hover.force-hover:before,div.pro-gallery .gallery-item-container.invert-hover.hover-animation-slide-right:hover .gallery-item-hover:not(.hide-hover):before{transform:translateX(-100%);filter:opacity(0)}.animation-slide{transition:width .4s ease,height .4s ease,top .4s ease,left .4s ease}[data-collapsed=true] .pro-gallery-parent-container .gallery-item,[data-hidden=true] .pro-gallery-parent-container .gallery-item{background-image:none!important}html.pro-gallery{width:100%;height:auto}body.pro-gallery{transition:opacity 2s ease}#gallery-loader{position:fixed;top:50%}.show-more-container{text-align:center;line-height:138px}.show-more-container i.show-more{color:#5d5d61;font-size:40px;cursor:pointer;margin-top:-3px}.show-more-container button.show-more{display:inline-block;padding:11px 29px;border-radius:0;border:2px solid #5d5d61;font-family:HelveticaNeueW01-45Ligh,HelveticaNeueW02-45Ligh,HelveticaNeueW10-45Ligh,sans-serif;font-size:12px;color:#5d5d61;background:transparent;cursor:pointer}.show-more-container button.show-more:hover{background:rgba(0,0,0,.1)}.more-items-loader{display:block;width:100%;text-align:center;line-height:50px;font-size:30px;color:#3899ec}.version-header{color:#e03939;text-align:left;font-family:Consolas,monospace;font-size:13px;position:absolute;top:0;left:0;width:320px;height:100px;line-height:30px;background:hsla(0,0%,100%,.8);z-index:100}.auto-slideshow-button{margin-top:19px;padding:5px;height:28px;width:20px;cursor:pointer}.auto-slideshow-button,.auto-slideshow-counter{left:auto;z-index:1;position:absolute;display:flex;text-align:center;opacity:.9}.auto-slideshow-counter{margin-top:24px;font-size:15px;line-height:normal}.nav-arrows-container{left:auto;z-index:1;position:absolute;display:flex;text-align:center;cursor:pointer;opacity:.9;align-items:center;background:transparent;border:none;outline:none}.nav-arrows-container:hover{opacity:1}.nav-arrows-container.prev{justify-content:flex-end}.nav-arrows-container.next{justify-content:flex-start}.nav-arrows-container svg{filter:drop-shadow(0 1px .15px #B2B2B2)}div.gallery-slideshow .gallery-column,div.gallery-slideshow div.pro-gallery{box-sizing:content-box!important}div.gallery-slideshow .gallery-group,div.gallery-slideshow .gallery-item-container,div.gallery-slideshow .gallery-item-wrapper{overflow:visible!important}div.gallery-slideshow.streched .gallery-slideshow-info{padding-left:50px!important;padding-right:50px!important}@media (max-width:500px){div.gallery-slideshow div.pro-gallery .gallery-slideshow-info{padding-left:20px;padding-right:20px}}div.gallery-slideshow div.pro-gallery .gallery-item-container .gallery-slideshow-info{position:absolute;padding-top:0;bottom:-220px;height:220px;width:100%;box-sizing:border-box;display:flex;z-index:15}.gallery-thumbnails div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover{padding:50px 100px}.gallery-slider div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover{padding:30px 10px 50px}.gallery-columns div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover{padding:30px}div.pro-gallery{width:100%;height:100%}div.pro-gallery,div.pro-gallery .gallery-column{overflow:hidden;backface-visibility:hidden;position:relative}div.pro-gallery .gallery-column{float:left;transform-style:preserve-3d}div.pro-gallery .gallery-column .gallery-left-padding{display:inline-block;height:100%}div.pro-gallery .gallery-column .gallery-top-padding{display:block;width:100%}div.pro-gallery .gallery-group{float:left;overflow:hidden;position:relative;transform-style:preserve-3d;backface-visibility:hidden;box-sizing:border-box;padding:0;font-family:HelveticaNeueW01-45Ligh,HelveticaNeueW02-45Ligh,HelveticaNeueW10-45Ligh,sans-serif;font-size:11px}div.pro-gallery .gallery-group.debug.gallery-group-gone{background:#cdcdd0}div.pro-gallery .gallery-group.debug.gallery-group-visible{background:#c1f0c1}div.pro-gallery .gallery-group.debug.gallery-group-hidden{background:#f99}div.pro-gallery .gallery-item-container{position:absolute;display:inline-block;vertical-align:top;border:none;padding:0;border-radius:0;overflow:hidden;transform-style:preserve-3d;backface-visibility:hidden;outline:none;text-decoration:none;color:inherit;will-change:transform,top,left,width,height;box-sizing:border-box;font-family:HelveticaNeueW01-45Ligh,HelveticaNeueW02-45Ligh,HelveticaNeueW10-45Ligh,sans-serif;font-size:11px;cursor:default;scroll-snap-align:center}div.pro-gallery .gallery-item-container:hover .gallery-item-common-info{cursor:pointer}div.pro-gallery .gallery-item-container:hover .gallery-item-common-info button{text-decoration:underline;cursor:pointer}div.pro-gallery .gallery-item-container.highlight:before{content:"";z-index:999;display:block;height:100%;position:absolute;top:0;left:0;width:100%;background-color:hsla(0,0%,100%,.6)}div.pro-gallery .gallery-item-container.visible{transform:translateZ(0)}div.pro-gallery .gallery-item-container.clickable{cursor:pointer}div.pro-gallery .gallery-item-container .gallery-item-wrapper{position:relative;width:100%;height:100%;overflow:hidden}div.pro-gallery .gallery-item-container .gallery-item-wrapper.cube-type-fit,div.pro-gallery .gallery-item-container .gallery-item-wrapper.transparent{background:transparent}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-preload{display:none}div.pro-gallery .gallery-item-container .gallery-item-wrapper.cube-type-fit .gallery-item{background:transparent;object-fit:contain}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item{object-fit:cover;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;overflow:hidden;border-radius:0}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item{box-sizing:border-box;\n    /*! autoprefixer: ignore next */-webkit-font-smoothing:antialiased;white-space:normal}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item .te-pro-gallery-text-item{line-height:normal!important;letter-spacing:normal!important}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item>div{background:initial!important;box-sizing:border-box}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item div,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h1,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h2,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h3,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h4,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h5,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item h6,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item i,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item p,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.text-item span{margin:0;padding:0}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item .pro-circle-preloader{top:50%;left:50%;height:30px;width:15px;z-index:-1;opacity:.4}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item img.gallery--placeholder-item{width:100%!important;height:100%!important;object-fit:cover;object-position:center}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-loaded{background-color:transparent;opacity:1!important;animation:none!important}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-loaded.image-item:after{display:none!important}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-loaded~.pro-circle-preloader{display:none}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.error{opacity:0!important}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-preloaded{background-size:cover;background-repeat:no-repeat;background-position:50%}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-preloaded.grid-fit{background-size:contain}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video{overflow:hidden;text-align:center}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video iframe{left:0;top:0}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video.playing button,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video.playing i{display:none}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video.playedOnce~.image-item{pointer-events:none;opacity:0;transition:opacity .2s ease}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i{display:inline-block;text-rendering:auto;\n    /*! autoprefixer: ignore next */-webkit-font-smoothing:antialiased;position:absolute;z-index:11;top:50%;left:50%;height:60px;text-align:center;margin:-30px 0 0 -30px;background:#080808;color:#fff;border-radius:50px;opacity:.7}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button.play-triangle,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i.play-triangle{opacity:1}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button.play-background,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button.play-triangle,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i.play-background,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i.play-triangle{font-size:26px}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button:hover,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i:hover{opacity:.9}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video button:before,div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item.gallery-item-video i:before{font-size:2.3em;opacity:1}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-info{position:absolute;bottom:-220px;height:220px;width:100%;box-sizing:border-box;display:flex;z-index:15}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-info>div{height:100%;width:100%}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover{white-space:normal;position:absolute;top:-1px;left:-1px;width:calc(100% + 2px);height:calc(100% + 2px);margin:0;box-sizing:border-box;border-radius:0;z-index:15;overflow:hidden}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover .gallery-item-hover-inner{height:100%}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover.no-hover-bg:before{opacity:0!important}div.pro-gallery .gallery-item-container .gallery-item-wrapper .gallery-item-hover:before{content:" ";position:absolute;top:-1px;left:-1px;width:calc(100% + 2px);height:calc(100% + 2px);margin:0;box-sizing:border-box;z-index:-1}div.pro-gallery .gallery-item-container .gallery-item-common-info{box-sizing:border-box;cursor:pointer}div.pro-gallery.one-row{white-space:nowrap;float:left}div.pro-gallery.one-row .gallery-column{width:100%;float:none;white-space:nowrap}div.pro-gallery.one-row .gallery-column .gallery-group{display:inline-block;float:none}div.pro-gallery.one-row.slider .gallery-column{overflow-x:scroll}div.pro-gallery.one-row.slider .gallery-column.scroll-snap{scroll-snap-type:x mandatory}div.pro-gallery.one-row .gallery-horizontal-scroll-inner{position:relative}div.pro-gallery.thumbnails-gallery{overflow:hidden;float:left}div.pro-gallery.thumbnails-gallery .galleryColumn{position:relative;overflow:visible}div.pro-gallery.thumbnails-gallery .thumbnailItem{position:absolute;background-color:#fff;background-size:cover;background-position:50%;overflow-y:inherit;border-radius:0;cursor:pointer}@media (max-width:500px){div.pro-gallery.thumbnails-gallery{overflow:visible}}div.pro-gallery :focus{box-shadow:none}div.pro-gallery.accessible button:focus,div.pro-gallery.accessible i:focus{box-shadow:0 0 0 1px #fff,0 0 1px 2px #3899ec}div.pro-gallery.accessible .has-custom-focus:focus{box-shadow:inset 0 0 0 1px #fff,inset 0 0 1px 4px #3899ec}div.pro-gallery.accessible .gallery-item-hover button:focus,div.pro-gallery.accessible .gallery-item-hover i:focus{box-shadow:none}div.pro-gallery.accessible .gallery-item-container.highlight:before,div.pro-gallery.accessible .gallery-item-container:focus:after{box-shadow:inset 0 0 1px 2px #3899ec,inset 0 0 7px 0 #fff,0 0 10px -5px #3899ec}div.pro-gallery.accessible .gallery-item-container:focus:after{content:" ";width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;border-radius:inherit}div.pro-gallery.accessible .pro-gallery-thumbnails-highlighted:after,div.pro-gallery.accessible .pro-gallery-thumbnails-highlighted:before{box-shadow:inset 0 0 1px 2px #3899ec,inset 0 0 7px 0 #fff,0 0 10px -5px #3899ec}div.pro-gallery.accessible .pro-gallery-thumbnails-highlighted:after{content:" ";width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;border-radius:inherit}div.pro-gallery .hide-scrollbars{-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}div.pro-gallery .hide-scrollbars::-webkit-scrollbar,div.pro-gallery .hide-scrollbars ::-webkit-scrollbar{width:0!important;height:0!important}div.pro-gallery .rtl{direction:rtl}div.pro-gallery .ltr{direction:ltr}.screen-logs{word-wrap:break-word;background:#fff;width:280px;font-size:10px}@keyframes _1hYbK{0%{background-color:hsla(0,0%,94.5%,.2)}50%{background-color:hsla(0,0%,94.5%,.8)}to{background-color:hsla(0,0%,94.5%,.2)}}');var C,P,L={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},T=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],M=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],R=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],A="undefined"!=typeof window&&void 0!==window.document?window.document:{},k="fullscreenEnabled"in A&&Object.keys(L)||T[0]in A&&T||M[0]in A&&M||R[0]in A&&R||[],_={requestFullscreen:function(e){return e[k[L.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[k[L.requestFullscreen]]},get exitFullscreen(){return A[k[L.exitFullscreen]].bind(A)},addEventListener:function(e,t,i){return A.addEventListener(k[L[e]],t,i)},removeEventListener:function(e,t,i){return A.removeEventListener(k[L[e]],t,i)},get fullscreenEnabled(){return Boolean(A[k[L.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return A[k[L.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return A[("on"+k[L.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return A[("on"+k[L.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return A[("on"+k[L.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return A[("on"+k[L.fullscreenerror]).toLowerCase()]=e}};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}!function(e){e[e.EMPTY=-1]="EMPTY",e[e.COLLAGE=0]="COLLAGE",e[e.MASONRY=1]="MASONRY",e[e.GRID=2]="GRID",e[e.THUMBNAIL=3]="THUMBNAIL",e[e.SLIDER=4]="SLIDER",e[e.SLIDESHOW=5]="SLIDESHOW",e[e.PANORAMA=6]="PANORAMA",e[e.COLUMN=7]="COLUMN",e[e.MAGIC=8]="MAGIC",e[e.FULLSIZE=9]="FULLSIZE",e[e.BRICKS=10]="BRICKS",e[e.MIX=11]="MIX",e[e.ALTERNATE=12]="ALTERNATE"}(P||(P={}));var N=((C={})[P.COLLAGE]={showArrows:!1,isVertical:!0,oneRow:!1,galleryType:"Columns",imageMargin:5,gallerySizePx:"300",allowHover:!0},C[P.MASONRY]={showArrows:!1,numberOfImagesPerRow:0,imageMargin:5,gallerySizePx:"300",gridStyle:0,allowHover:!0},C[P.GRID]={showArrows:!1,imageResize:!1,galleryImageRatio:2,numberOfImagesPerRow:3,imageMargin:5,cubeType:"fill",cubeRatio:1,isVertical:!0,oneRow:!1,allowHover:!0},C[P.THUMBNAIL]={showArrows:!0,arrowsSize:23,galleryThumbnailsAlignment:"bottom",floatingImages:0,thumbnailSpacings:2.5,thumbnailSize:120,allowHover:!0},C[P.SLIDER]={showArrows:!0,arrowsSize:23,imageMargin:5,cubeType:"fit",cubeRatio:"16/9",allowHover:!0},C[P.SLIDESHOW]={showArrows:!0,arrowsSize:23,cubeType:"fit",floatingImages:0,slideshowInfoSize:0,allowHover:!0},C[P.PANORAMA]={showArrows:!1,hasThumbnails:!1,galleryThumbnailsAlignment:"none",imageMargin:5,allowHover:!0},C[P.COLUMN]={showArrows:!0,arrowsSize:23,hasThumbnails:!1,galleryThumbnailsAlignment:"none",imageMargin:5,allowHover:!0},C[P.FULLSIZE]={showArrows:!0,arrowsSize:23,cubeType:"fill",floatingImages:0,slideshowInfoSize:0,allowHover:!0},C),D=i(495).ProGallery,j=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).addFullscreenChangeListener=function(){_.fullscreenEnabled&&_.addEventListener("fullscreenchange",i.onFullscreenChange)},i.removeFullscreenChangeListener=function(){_.fullscreenEnabled&&_.removeEventListener("fullscreenchange",i.onFullscreenChange)},i.onWindowResize=function(){return i.setState({size:i.getDimensions()})},i.onFullscreenChange=function(){return i.setState({isInFullscreen:!!_.fullscreenElement})},i.onEsc=function(e){"Escape"===e.key&&i.onClose()},i.toggleFullscreenMode=function(){var e=i.state.isInFullscreen;_.fullscreenEnabled&&(e?_.exitFullscreen():_.requestFullscreen(document.body))},i.getStyleParams=function(e){var t=i.state.isInFullscreen,r=0,o=0;return i.props.isMobile?o=e?0:40:t||(r=1,o=142),{arrowsPosition:r,slideshowInfoSize:o}},i.onClose=function(){i.state.isInFullscreen&&i.toggleFullscreenMode(),i.props.onClose()},i.renderCloseButton=function(){var e=i.props,t=e.backgroundColor,r=e.foregroundColor;return o.a.createElement("div",{role:"button",tabIndex:0,className:"_2zGgi",onClick:i.onClose,onKeyDown:i.onClose,"aria-label":"Close","data-hook":"fullscreen-close-button"},o.a.createElement(y,{backgroundColor:t,foregroundColor:r}))},i.onFullscreenToggleKeyDown=function(e){"Escape"===e.key?i.onClose():i.toggleFullscreenMode()},i.renderFullscreenToggleButton=function(){var e=i.state.isInFullscreen,t=i.props,r=t.backgroundColor,n=t.foregroundColor,a=e?v:f,s=e?"Shrink":"Expand";return o.a.createElement("div",{role:"button",tabIndex:0,className:"_3PuAk",onClick:i.toggleFullscreenMode,onKeyDown:i.onFullscreenToggleKeyDown,"aria-label":s,"data-hook":"fullscreen-toggle-button"},o.a.createElement(a,{backgroundColor:r,foregroundColor:n}))},i.handleGalleryEvents=function(e,t){"CURRENT_ITEM_CHANGED"===e&&(i.currentIdx=i.itemIndexMap[t.itemId])},i.infoElement=function(e){return o.a.createElement("div",{className:"Ai5Gs"},o.a.createElement("div",{style:{color:i.props.foregroundColor},className:"-hI7z"},e.title))},i.renderArrow=function(e,t){var r=i.props,n=r.backgroundColor,a=r.foregroundColor;return o.a.createElement("div",{className:t},o.a.createElement(e,{backgroundColor:n,foregroundColor:a}))},i.arrowRenderers={left:i.renderArrow(b,"iZsNj"),right:i.renderArrow(I,"_2JQhu")},i.customArrowRenderer=function(e){return i.arrowRenderers[e]},i.getDimensions=function(){var e,t,r=i.props.isMobile,o=i.state.isInFullscreen,n=null===(e=i.containerRef.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),a=n.width,s=n.height,l=r&&a>s;return{width:a=o||r?a:a-18,height:s=o||l?s:r?s-40:s-70}},i.state={isInFullscreen:!1},i.getItems(),i.containerRef=o.a.createRef(),i}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,d(t,i);var n=r.prototype;return n.componentDidMount=function(){document.addEventListener("keydown",this.onEsc),window.addEventListener("resize",this.onWindowResize),this.addFullscreenChangeListener(),this.setState({size:this.getDimensions()})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this.onEsc),window.removeEventListener("resize",this.onWindowResize),this.removeFullscreenChangeListener()},n.getItems=function(){var e,t,i,r,o=this,n=this.props.images;this.items=(t=(e={items:n}).items,i=e.anchorTarget,r=e.relValue,t.map((function(e){var t=e.metadata;if(e.metaData)return e;var o,n={metaData:{link:{type:"none",target:"_blank"}},directLink:{}};if(t){if(n.metaData=H({},t,{link:{type:"none",target:"_blank"}}),"video"===e.metadata.type){n.metaData.link={target:"_blank",rel:"noopener",url:Object(u.Fb)(e.url||"")};var a=n.metaData.poster,s=a.pathname,l=a.thumbnail,h=(l=void 0===l?{}:l).pathname,c=l.width,p=l.height;s&&h?n.metaData.poster={url:(o=h,function(e){return e.startsWith("http://")||e.startsWith("https://")}(o)?o:"https://static.wixstatic.com/"+(o.startsWith("media/")?o:"media/"+o)),width:c,height:p}:"string"==typeof n.metaData.poster&&(n.metaData.poster={url:n.metaData.poster,width:n.metaData.width,height:n.metaData.height})}n.metaData.alt=t.altText,e.metadata.link&&(n.metaData.link={type:"wix",target:e.metadata.link.target||i||"_self",data:{type:"ExternalLink",target:e.metadata.link.target||i||"_self",rel:e.metadata.link.rel||r||"noopener",url:Object(u.Fb)(e.metadata.link.url||"")}},n.directLink={url:Object(u.Fb)(e.metadata.link.url||""),target:e.metadata.link.target||i||"_self",rel:e.metadata.link.rel||r||"noopener"})}return H({},e,{metadata:void 0},n)}))),this.itemIndexMap={},this.items.map((function(e,t){return o.itemIndexMap[e.itemId]=t}))},n.render=function(){var e=this.props,t=e.backgroundColor,i=e.topMargin,r=e.isMobile,n=e.index,a=this.state,s=a.isInFullscreen,l=a.size,h=(null==l?void 0:l.width)>(null==l?void 0:l.height),c=this.getStyleParams(h),u=c.arrowsPosition,d=c.slideshowInfoSize;return o.a.createElement("div",{style:p({background:t},i),dir:"ltr","data-hook":"fullscreen-root",className:s||r?"_1KpZG":"_3dmg8",ref:this.containerRef},this.renderCloseButton(),!r&&this.renderFullscreenToggleButton(),l&&o.a.createElement(D,{items:this.items,currentIdx:"number"==typeof this.currentIdx?this.currentIdx:n,eventsListener:this.handleGalleryEvents,resizeMediaUrl:x,container:l,styles:p({},N[P.SLIDESHOW],{galleryLayout:P.SLIDESHOW,cubeType:"fit",scrollSnap:!0,videoPlay:"auto",allowSocial:!1,loveButton:!1,allowTitle:!0,defaultShowInfoExpand:1,showArrows:!r,arrowsPosition:u,slideshowInfoSize:d}),customSlideshowInfoRenderer:this.infoElement,customNavArrowsRenderer:this.customArrowRenderer}))},r}(r.Component);j.defaultProps={backgroundColor:"white",foregroundColor:"#2F2E2E"};var G=["target","isOpen"];function z(e){var t=e.target,i=e.isOpen,r=function(e,t){if(null==e)return{};var i,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,G),n=o.a.createElement(j,r);return t&&(n=a.a.createPortal(n,t)),i?n:null}z.propTypes={images:l.a.array.isRequired,isOpen:l.a.bool,isMobile:l.a.bool,index:l.a.number,topMargin:l.a.object,backgroundColor:l.a.string,foregroundColor:l.a.string,onClose:l.a.func,target:l.a.elementType},t.default=function(e){var t=e.index,i=e.isOpen,r=e.images,n=e.onClose,a=e.isMobile,s=e.backgroundColor,l=e.foregroundColor;return o.a.createElement(z,{isOpen:i,images:r,onClose:n,isMobile:a,index:t,backgroundColor:s,foregroundColor:l})}},159:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n})),i.d(t,"e",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return l})),i.d(t,"f",(function(){return h}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}function s(e,t,i,r){return new(i||(i=Promise))((function(o,n){function a(e){try{l(r.next(e))}catch(t){n(t)}}function s(e){try{l(r.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var i,r,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(s){n=[6,s],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}Object.create;function h(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<i;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,o++)r[o]=n[a];return r}Object.create},169:function(e,t,i){"use strict";t.a={DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12}},174:function(e,t,i){"use strict";t.a={VERTICAL:0,HORIZONTAL:1}},180:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r,o=i(159),n=i(0),a=i.n(n);try{r=a.a.createContext({})}catch(l){r=null}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.c)(t,e),t.prototype.render=function(){return r?a.a.createElement(r.Provider,{value:this.state},this.props.children):this.props.children}}(a.a.Component);var s=function(e){function t(t){var i=e.call(this,t)||this;return"object"!=typeof i.context&&(i.context={}),t&&"object"==typeof t.context&&(i.context=Object(o.a)(Object(o.a)({},i.context),t.context)),i}return Object(o.c)(t,e),t.contextType=r,t}(a.a.Component)},189:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"e",(function(){return o})),i.d(t,"g",(function(){return s})),i.d(t,"f",(function(){return l})),i.d(t,"h",(function(){return h})),i.d(t,"d",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return m})),i.d(t,"l",(function(){return g})),i.d(t,"n",(function(){return y})),i.d(t,"m",(function(){return f})),i.d(t,"o",(function(){return u})),i.d(t,"k",(function(){return p}));var r={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_ON_THE_RIGHT:"SHOW_ON_THE_RIGHT",SHOW_ON_THE_LEFT:"SHOW_ON_THE_LEFT",ALTERNATE_HORIZONTAL:"ALTERNATE_HORIZONTAL",ALTERNATE_VERTICAL:"ALTERNATE_VERTICAL"},o=function(e){return String(e).indexOf(r.SHOW_ON_HOVER)>=0},n=function(e,t){return String(e).indexOf(r.SHOW_ABOVE)>=0||t%2==0&&String(e).indexOf(r.ALTERNATE_VERTICAL)>=0},a=function(e,t){return String(e).indexOf(r.SHOW_BELOW)>=0||t%2==1&&String(e).indexOf(r.ALTERNATE_VERTICAL)>=0},s=function(e,t){return String(e).indexOf(r.SHOW_ON_THE_RIGHT)>=0||t%2==0&&String(e).indexOf(r.ALTERNATE_HORIZONTAL)>=0},l=function(e,t){return String(e).indexOf(r.SHOW_ON_THE_LEFT)>=0||t%2==1&&String(e).indexOf(r.ALTERNATE_HORIZONTAL)>=0},h=function(e){return n(e,0)||a(e,1)},c=function(e){return s(e,0)||l(e,1)},u=function(e){return h(e)&&!c(e)&&!o(e)},p=function(e){return c(e)&&!h(e)&&!o(e)},d=function(e){return String(e)===r.SHOW_ABOVE},m=function(e){return String(e)===r.SHOW_BELOW},g=function(e){return String(e)===r.SHOW_ON_HOVER},y=function(e){return String(e)===r.SHOW_ON_THE_RIGHT},f=function(e){return String(e)===r.SHOW_ON_THE_LEFT};t.a=r},258:function(e,t,i){"use strict";(function(e){var r=i(159),o=i(479),n=i(333),a=i(312),s=function(){function t(){this._cache={},this._hash2int={},this._params={},Object.assign(this,o)}return t.prototype.shouldUseCache=function(){return!Object(a.a)()&&!Object(a.c)()&&!this.isSSR()},t.prototype.isUndefined=function(e){return void 0===e},t.prototype.dumpCache=function(){this._cache={}},t.prototype.getOrPutFromCache=function(e,t){return this.shouldUseCache()?(void 0!==this._cache[e]||(this._cache[e]=t()),this._cache[e]):t()},t.prototype.hashToInt=function(e,t,i){var r=0;if(this.isUndefined(e)||0===e.length)return r;if(!this._hash2int[e]){for(var o=0;o<e.length;o++)r+=e.charCodeAt(o);this._hash2int[e]=r}return this.isUndefined(t)||this.isUndefined(i)?this._hash2int[e]:this._hash2int[e]%(i-t+1)+t},t.prototype.parseGetParam=function(e,t){try{if(!this.isUndefined(this._params[e]))return this._params[e];var i="",r=[],o=location;if(t&&(o={search:"?"+(t.split("?")[1]||""),pathname:(t.split("?")[0]||"").split("/")[1]||""}),o.search.substr(1).split("&").forEach((function(t){(r=t.split("="))[0]===e&&(i=decodeURIComponent(r[1]))})),!i){var n=decodeURIComponent(o.pathname).split("?")[1];if(!n)return"";n.split("&").forEach((function(t){(r=t.split("="))[0]===e&&(i=decodeURIComponent(r[1]))}))}return this._params[e]=i,i}catch(a){return!1}},t.prototype.stripSlashes=function(e){var t="";return"string"==typeof e&&(t=e.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),t},t.prototype.parseStringObject=function(e){if("string"!=typeof e)return e;var t=this.stripSlashes(e);if("string"==typeof e&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(t)}catch(i){}return t},t.prototype.hashCode=function(e){var t,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i},t.prototype.isMobileByProps=function(){var e=this;return this.getOrPutFromCache("isMobileByProps",(function(){var t=e.parseGetParam("deviceType")||n.a.deviceType,i="true"===e.parseGetParam("showMobileView"),r=Object(a.b)();return!!i||(t?String(t).toLowerCase().indexOf("mobile")>=0:r||void 0)}))},t.prototype.isUserAgentMobile=function(){try{return this.getOrPutFromCache("isUserAgentMobile",(function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||n.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}))}catch(e){return!1}},t.prototype.isMobile=function(){var e=this;return this.getOrPutFromCache("isMobile",(function(){var t=e.isMobileByProps(),i=e.isUserAgentMobile();return e.isUndefined(t)?i:t}))},t.prototype.isTest=function(){try{return n.a.isTest}catch(e){return!1}},t.prototype.isLocal=function(){try{var e=n.a.location.hostname;return"local.wix.com"===e||(e.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}},t.prototype.isDev=function(){var e=this;return this.getOrPutFromCache("isDev",(function(){return e.shouldDebug("ph_local")||e.isOOI()&&!1||"true"===(e.safeLocalStorage()||{}).forceDevMode}))},t.prototype.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},t.prototype.isStoreGallery=function(){var e=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return n.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return e.isDev()&&console.error("cant find window",t),!1}}))},t.prototype.isSSR=function(){return void 0===e.window},t.prototype.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},t.prototype.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random())||0;return"x"===e?t.toString(16):e}))},t.prototype.isExternalUrl=function(e){return/(^https?)|(^data)|(^blob)/.test(e)},t.prototype.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.a.MSStream}catch(e){return!1}}))},t.prototype.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!n.a.MSStream}catch(e){return!1}}))},t.prototype.isLandscape=function(){var e=this;return this.getOrPutFromCache("isLandscape",(function(){if(!e.isMobile())return!1;try{if(e.isUndefined(n.a.orientation)){var t=n.a.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===n.a.orientation||-90===n.a.orientation}catch(i){return!1}}))},t.prototype.safeLocalStorage=function(){try{return localStorage||n.a}catch(e){return n.a}},t.prototype.shouldDebug=function(e){try{return!!this.safeLocalStorage()[e]||(n.a.debugApp||"").indexOf(e)>=0||(this.parseGetParam("debugApp")||"").indexOf(e)>=0}catch(t){return!1}},t.prototype.deviceHasMemoryIssues=function(){return this.isiOS()},t.prototype.getTabIndex=function(e){var t=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(e)+1;return t>=0&&this.isOOI()?0:t||-1},t.prototype.setStateAndLog=function(e,t,i,o){var n=this;if(this.isVerbose()){console.log("State Change Called ("+t+")",i);var a=Object(r.a)({},e.state);e.setState(i,(function(){var i=Object(r.a)({},e.state),s=n.printableObjectsDiff(a,i,"state");Object.keys(s).length>0&&console.log("State Change Completed ("+t+")",s),n.isFunction(o)&&o.bind(e)()}))}else e.setState(i,(function(){n.isFunction(o)&&o.bind(e)()}))},t.prototype.printableObjectsDiff=function(e,t,i){var r=this;void 0===i&&(i="");var o=function(e){return""===e?e="''":r.isUndefined(e)&&(e="undefined"),String(e)},n=function(e,t,i,a){return void 0===a&&(a=1),a>3?{}:Object.entries(e).reduce((function(e,s){var l=s[0],h=s[1];return r.isEqual(h,t[l])||(Array.isArray(t[l])?(h.length!==t[l].length&&(e[l+".length"]="["+h.length+"] => ["+t[l].length+"]"),e=Object.assign(e,n(h,t[l],(i?i+".":"")+l,a+1))):"object"==typeof t[l]?e=Object.assign(e,n(h,t[l],(i?i+".":"")+l,a+1)):e[(i?i+".":"")+l]=o(h)+" => "+o(t[l])),e}),{})};return n(e,t,i,1)},t.prototype.getScreenWidth=function(){if(Object(a.c)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(n.a.screen.width,n.a.screen.height):n.a.screen.width}catch(e){return 1920}},t.prototype.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(n.a.screen.width,n.a.screen.height):n.a.screen.height}catch(e){return 1200}},t.prototype.getWindowWidth=function(){try{return n.a.innerWidth||980}catch(e){return 980}},t.prototype.getMobileEnabledClick=function(e){return this.isMobile()?{onTouchEnd:e}:{onClick:e}},t.prototype.getTopUrlParam=function(e){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[e]))try{this._cache.params[e]=top.location.search.replace("?","").split("&").map((function(t){var i=t.split("=");return i[0]===e&&i[1]||""})).join("")}catch(t){this._cache.params[e]=!1}return this._cache.params[e]},t.prototype.scrollTo=function(e,t,i,r,o){this.isMobile()&&(i=0);var n=r?e.scrollLeft:e.scrollTop,a=t-n,s=0,l=function(){var t=function(e,t,i,r){return 0===r?i+t:(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}(s+=20,n,a,i);s<i?setTimeout(l,20):(e.setAttribute("data-scrolling",""),"function"==typeof o&&o()),r?e.scrollLeft=t:e.scrollTop=t};e.setAttribute("data-scrolling","true"),l()},t.prototype.formatColor=function(e){var t="inherit";if(!e)return t;var i=e.value?e.value:e,r=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(i);return r&&r[0]?i:t},t.prototype.logPlaygroundLink=function(e){try{if(this.isVerbose()){var t=Object.entries(e).filter((function(e){var t=e[0];return"object"!=typeof e[1]&&-1===String(t).indexOf("Expand")&&-1===String(t).indexOf("Color")})).map((function(e){var t=e[0],i=e[1];return t+"="+encodeURI(i)})).join("&");console.log("Gallery Playground link:","https://pro-gallery.surge.sh?"+t)}}catch(i){}},t}();t.a=new s}).call(this,i(24))},280:function(e,t,i){"use strict";t.a={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE",NEVER_SHOW:"NEVER_SHOW"}},312:function(e,t,i){"use strict";i.d(t,"f",(function(){return n})),i.d(t,"e",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return h})),i.d(t,"b",(function(){return c}));var r=i(313),o=i(314),n=new(function(){function e(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setFormFactor=this.setFormFactor.bind(this),this.isFormFactorDesktop=this.isFormFactorDesktop.bind(this),this.isFormFactorMobile=this.isFormFactorMobile.bind(this),this.isFormFactorTablet=this.isFormFactorTablet.bind(this),this.isFormFactorTouch=this.isFormFactorTouch.bind(this),this._viewMode=r.a.SITE,this._formFactor=o.a.DESKTOP}return e.prototype.setViewMode=function(e){this._viewMode=e},e.prototype.setFormFactor=function(e){this._formFactor=e},e.prototype.isFormFactorMobile=function(){return this._formFactor===o.a.MOBILE},e.prototype.isFormFactorTablet=function(){return this._formFactor===o.a.TABLET},e.prototype.isFormFactorDesktop=function(){return this._formFactor===o.a.DESKTOP},e.prototype.isFormFactorTouch=function(){return this.isMobile()||this.isTablet()},e.prototype.isSiteMode=function(){return this._viewMode===r.a.SITE},e.prototype.isEditMode=function(){return this._viewMode===r.a.EDIT},e.prototype.isPreviewMode=function(){return this._viewMode===r.a.PREVIEW},e.prototype.isSEOMode=function(){return this._viewMode===r.a.SEO},e}()),a=n.isSiteMode,s=n.isEditMode,l=n.isPreviewMode,h=n.isSEOMode,c=n.isFormFactorMobile;n.isFormFactorTablet,n.isFormFactorDesktop,n.isFormFactorTouch},313:function(e,t,i){"use strict";t.a={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"}},314:function(e,t,i){"use strict";t.a={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},315:function(e,t,i){"use strict";t.a={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"}},316:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));var r={RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample"},o={HIGH_RES:"img",LOW_RES:"thumb",SEO:"seoLink",VIDEO:"video"}},317:function(e,t,i){"use strict";t.a={ON_GALLERY:0,OUTSIDE_GALLERY:1}},318:function(e,t,i){"use strict";t.a={ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"}},319:function(e,t,i){"use strict";t.a={SMART:"smart",PIXELS:"px",RATIO:"ratio"}},320:function(e,t,i){"use strict";t.a={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"}},321:function(e,t,i){"use strict";t.a={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"}},322:function(e,t,i){"use strict";t.a={PICKED_COLOR:"PICKED_COLOR",MAIN_COLOR:"MAIN_COLOR"}},323:function(e,t,i){"use strict";t.a={SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"}},324:function(e,t,i){"use strict";t.a={PERCENT:"PERCENT",MANUAL:"MANUAL"}},332:function(e,t,i){"use strict";var r=i(317),o=i(318),n={CROP:"fill",FIT:"fit",MIN:"min",MAX:"max"},a={SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},s={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS"},l=i(314),h=i(319),c={LEFT:"left",RIGHT:"right",CENTER:"center"},u={FIT_TO_SCREEN:0,SET_ITEMS_PER_ROW:1},p={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},d={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"},m=i(280),g=i(320),y={COLUMNS:!0,ROWS:!1},f={EXPAND:"expand",LINK:"link",NOTHING:"nothing",FULLSCREEN:"fullscreen"},v=i(169),b={LEFT_TO_RIGHT:!1,RIGHT_TO_LEFT:!0},I=i(321),w=i(322),S={PARTIAL:"partial",ALL:"all"},O={EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},x={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT"},E=i(189),C=i(315),P={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},L=i(323),T=i(174),M={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},R=i(324),A={BOTTOM:"bottom",LEFT:"left",TOP:"top",RIGHT:"right"},k=i(316),_={HOVER:"hover",AUTO:"auto",ON_CLICK:"onClick"},H=i(313),N={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};t.a={arrowsPosition:r.a,arrowsVerticalPosition:o.a,cubeType:n,dimensions:a,events:s,formFactor:l.a,gallerySizeType:h.a,galleryTextAlign:c,gridStyle:u,groupTypes:p,imageHoverAnimations:d,infoBehaviourOnHover:m.a,infoType:g.a,isVertical:y,itemClick:f,layout:v.a,layoutDirection:b,loadingMode:I.a,loadingWithColorMode:w.a,loadMoreAmount:S,mobileSwipeAnimations:O,overlayAnimations:x,placements:E.a,hasAbovePlacement:E.b,hasBelowPlacement:E.c,hasHoverPlacement:E.e,hasRightPlacement:E.g,hasLeftPlacement:E.f,hasVerticalPlacement:E.h,hasHorizontalPlacement:E.d,isAbovePlacement:E.i,isBelowPlacement:E.j,isHoverPlacement:E.l,isRightPlacement:E.n,isLeftPlacement:E.m,isVerticalPlacement:E.o,isHorizontalPlacement:E.k,resizeMethods:C.a,scrollAnimations:P,slideAnimations:L.a,scrollDirection:T.a,socialNetworks:M,textBoxWidthCalculationOptions:R.a,thumbnailsAlignment:A,urlSizes:k.a,urlTypes:k.b,videoPlay:_,viewMode:H.a,imagePlacementAnimations:N}},333:function(e,t,i){"use strict";var r=i(159),o=function(){return{}},n=2560,a=1440,s={y:0,x:0,width:n,height:a,innerWidth:n,innerHeight:a,outerWidth:n,outerHeight:a,clientWidth:n,clientHeight:a},l=Object(r.a)(Object(r.a)({},s),{getBoundingClientRect:function(){return s}}),h=Object(r.a)({addEventListener:o,removeEventListener:o,createEvent:o,getElementById:function(){return l},getElementsByClassName:function(){return[l]},getElementsByTagName:function(){return[l]},querySelector:function(){return[l]},documentElement:l,activeElement:l,style:s},s);h.body=h;var c=Object(r.a)({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:o,removeEventListener:o,createEvent:o,CustomEvent:o,screen:s,open:o,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:o,requestAnimationFrame:o,dispatchEvent:o,document:h,getComputedStyle:o,localStorage:{},frames:[]},s);c.parent=c;var u=c,p=(new(function(){function e(){this.reset()}return e.prototype.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(e){return!1}},e.prototype.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?u:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},e}())).window;t.a=p},378:function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return s}));var r=i(258);function o(e){var t,i,o=e.scrollMarginCorrection,n=void 0===o?0:o,a=e.durationInMS,s=e.horizontalElement,l=e.scrollingElement,c=e.isRTL,u=e.oneRow,p=e.galleryWidth,d=e.galleryHeight,m=e.totalWidth,g=e.top,y=e.items,f=e.itemIdx,v=e.fixedScroll,b=c?-1:1;if(u?(i=s.scrollLeft*b,t=i+f*p/2):(i=g,t=g+f*d/2),!0!==v){r.a.isVerbose()&&console.log("Scrolling to items #"+f);var I=y.find((function(e){return e.idx===f}));if(t=u?r.a.get(I,"offset.left"):r.a.get(I,"offset.top"),r.a.isVerbose()&&console.log("Scrolling to position "+t,I),!(t>=0))return r.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(e){return e()}));if(u){var w=(p-I.width)/2;w>0&&(t-=w),t=Math.max(0,t),t=Math.min(t,m-p+n),t*=b,i*=b,r.a.isVerbose()&&console.log("Scrolling to new position "+t,this)}}return u?h(s,Math.round(i),Math.round(t),a,c):new Promise((function(e){l.vertical().scrollTo(0,t),e(t)}))}function n(e){var t,i,o=e.scrollMarginCorrection,n=void 0===o?0:o,a=e.durationInMS,s=e.horizontalElement,l=e.scrollingElement,c=e.isRTL,u=e.oneRow,p=e.galleryWidth,d=e.galleryHeight,m=e.totalWidth,g=e.top,y=e.groups,f=e.groupIdx,v=e.fixedScroll;if(u?(i=s.scrollLeft,t=c?i-f*p/2:i+f*p/2):(i=g,t=g+f*d/2),!0!==v){r.a.isVerbose()&&console.log("Scrolling to groups #"+f);var b=y.find((function(e){return e.idx===f}));if(t=u?r.a.get(b,"left"):r.a.get(b,"top"),b&&c&&(t+=b.width),r.a.isVerbose()&&console.log("Scrolling to position "+t,b),!(t>=0))return r.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(e){return e()}));if(u){var I=(p-b.width)/2;I>0&&(c?t+=I:t-=I),c&&(t=m-t),t=Math.max(0,t),t=Math.min(t,m-p+n),r.a.isVerbose()&&console.log("Scrolling to new position "+t,this)}}return u?h(s,Math.round(i),Math.round(t),a,c):new Promise((function(e){l.vertical().scrollTo(0,t),e(t)}))}function a(e){var t=e.offset,i=e.scroll,r=e.itemStart;return{before:i-t-e.itemEnd,after:t+r-e.screenSize-i}}function s(e){var t=e.target,i=e.scrollBase,r=e.top,o=e.bottom,n=e.screenHeight,s=e.padding,l=a({offset:i||0,scroll:t.scrollY,itemStart:r,itemEnd:o,screenSize:n});return l.before<s&&l.after<s}function l(e){var t=e.target,i=e.left,r=e.right,o=e.screenWidth,n=e.padding,s=a({offset:0,scroll:t.scrollLeft,itemStart:i,itemEnd:r,screenSize:o});return s.before<n&&s.after<n}function h(e,t,i,r,o){var n=i-t;if(0===n)return new Promise((function(e){return e(i)}));var a=e.firstChild;e.setAttribute("data-scrolling","true"),Object.assign(e.style,{"scroll-snap-type":"none"}),Object.assign(a.style,{transition:"margin "+r+"ms linear","-webkit-transition":"margin "+r+"ms linear"},o?{marginRight:n+"px"}:{marginLeft:-1*n+"px"});var s=new CustomEvent("scrollTransition",{detail:n/10}),l=setInterval((function(){e.dispatchEvent(s)}),Math.round(r/10));return new Promise((function(t){setTimeout((function(){clearInterval(l),Object.assign(a.style,{transition:"none","-webkit-transition":"none"},o?{marginRight:0}:{marginLeft:0}),e.style.removeProperty("scroll-snap-type"),e.scrollLeft=i,e.setAttribute("data-scrolling",""),t(i)}),r)}))}},479:function(e,t,i){"use strict";i.r(t),i.d(t,"pick",(function(){return o})),i.d(t,"throttle",(function(){return n})),i.d(t,"debounce",(function(){return a})),i.d(t,"get",(function(){return s})),i.d(t,"isFunction",(function(){return l})),i.d(t,"isEqual",(function(){return h})),i.d(t,"isNumber",(function(){return c}));var r=void 0,o=function(e,t){var i={};return Object.entries(e||{}).forEach((function(e){var r=e[0],o=e[1];t.indexOf(r)>=0&&(i[r]=o)})),i},n=function(e,t){var i=!1,o=!1;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];i?o=!0:(o=!1,e.apply(r,n),i=!0,setTimeout((function(){o&&e.apply(r,n),i=!1}),t))}},a=function(e,t){var i;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];clearTimeout(i),i=setTimeout((function(){e.apply(r,o)}),t)}},s=function(e,t,i){var r=String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e);return void 0===r||r===e?i:r},l=function(e){return"function"==typeof e},h=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(i){return!1}},c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},480:function(e,t,i){"use strict";var r=i(332),o=function(){function e(){this.styles={},this.container={},this.domId="",this._cache={}}return e.prototype.getOrPutInCache=function(e,t){return this._cache[e]||(this._cache[e]=t()),this._cache[e]},e.prototype.dumpCache=function(){this._cache={}},e.prototype.updateParams=function(e){var t=e.styles,i=e.container,r=e.domId;this.dumpCache(),this.domId=r||this.domId,this.styles=t||this.styles,this.container=i||this.container},e.prototype.getGalleryDimensions=function(){var e=this;return this.getOrPutInCache("galleryDimensions",(function(){var t={galleryWidth:Math.ceil(e.getGalleryWidth()),galleryHeight:Math.ceil(e.getGalleryHeight()),scrollBase:e.container.scrollBase?Math.ceil(e.container.scrollBase):0,height:Math.ceil(e.container.height),width:Math.ceil(e.container.width)};if(e.container.externalScrollBase&&(t.scrollBase+=e.container.externalScrollBase),e.styles.hasThumbnails){var i=e.styles.thumbnailSize+e.styles.galleryMargin+3*e.styles.thumbnailSpacings;switch(e.styles.galleryThumbnailsAlignment){case"top":case"bottom":t.galleryHeight-=i;break;case"left":case"right":t.galleryWidth-=i}}else e.styles.isSlideshow&&(t.galleryHeight-=e.styles.slideshowInfoSize);return t}))},e.prototype.getGalleryWidth=function(){var e=this;return this.getOrPutInCache("galleryWidth",(function(){var t=Math.floor(e.container.width)+2*e.getDimensionFix();return e.styles.arrowsPosition===r.a.arrowsPosition.OUTSIDE_GALLERY&&e.styles.oneRow&&(t-=2*(e.styles.arrowsSize+40+e.styles.imageMargin/2)),t}))},e.prototype.getGalleryHeight=function(){var e=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((e.container.height>0?e.container.height:0)+(e.styles.oneRow?e.getDimensionFix():0))}))},e.prototype.getDimensionFix=function(){var e=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(e.styles.imageMargin/2)-Number(e.styles.galleryMargin)}))},e.prototype.getGalleryRatio=function(){var e=this;return this.getOrPutInCache("galleryRatio",(function(){var t=e.getGalleryDimensions();return t.galleryWidth/t.galleryHeight}))},e}();t.a=new o},495:function(e,t,i){"use strict";i.r(t),i.d(t,"ProGallery",(function(){return Xe})),i.d(t,"ProGalleryRenderer",(function(){return Je})),i.d(t,"cssScrollHelper",(function(){return be})),i.d(t,"ItemView",(function(){return _e})),i.d(t,"GALLERY_CONSTS",(function(){return y.a})),i.d(t,"addPresetStyles",(function(){return ie})),i.d(t,"defaultStyles",(function(){return f}));var r=i(159),o=i(0),n=i.n(o),a=new(function(){function e(){this._hash2int={}}return e.prototype.stripSlashes=function(e){var t="";return"string"==typeof e&&(t=e.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),t},e.prototype.parseStringObject=function(e){if("string"!=typeof e)return e;var t=this.stripSlashes(e);if("string"==typeof e&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(t)}catch(i){}return t},e.prototype.hashToInt=function(e,t,i){var r=0;if(void 0===e||0===e.length)return r;if(!this._hash2int[e]){for(var o=0;o<e.length;o++)r+=e.charCodeAt(o);this._hash2int[e]=r}return void 0===t||void 0===i?this._hash2int[e]:this._hash2int[e]%(i-t+1)+t},e.prototype.hashToRandomInt=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=1e5),void 0===e||0===e.length?0:(t=Math.round(t),i=Math.round(i),e+=e.length+t+i,this._hash2int[e]||(this._hash2int[e]=Math.round(Math.random()*(i-t)+t)),this._hash2int[e])},e.prototype.insertIfDefined=function(e,t,i){void 0!==i&&(e[t]=i)},e.prototype.convertStyleParams=function(e){var t=Object.assign({cubeImages:!1,cubeType:"fill",cubeRatio:1,rotatingCropRatios:"",smartCrop:!1,imageMargin:10,galleryMargin:0,scatter:0,rotatingScatter:"",chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",rotatingGroupTypes:"",isVertical:!0,minItemSize:120,oneRow:!1,targetItemSize:500,collageDensity:50,fixedColumns:0,columnWidths:""},e);return this.insertIfDefined(t,"cubeImages",t.cropItems),this.insertIfDefined(t,"cubeType",t.cropType),this.insertIfDefined(t,"cubeRatio",t.cropRatio),this.insertIfDefined(t,"rotatingCropRatios",Array.isArray(t.rotatingCropRatios)?t.rotatingCropRatios.join(","):void 0),this.insertIfDefined(t,"smartCrop",t.smartCrop),this.insertIfDefined(t,"imageMargin",t.itemSpacing),this.insertIfDefined(t,"galleryMargin",t.layoutSpacing),this.insertIfDefined(t,"scatter",t.randomSpacings),this.insertIfDefined(t,"chooseBestGroup",t.smartGrouping),this.insertIfDefined(t,"groupSize",t.itemsPerGroup),this.insertIfDefined(t,"groupTypes",Array.isArray(t.allowedGroupTypes)?t.allowedGroupTypes.join(","):void 0),this.insertIfDefined(t,"rotatingGroupTypes",Array.isArray(t.rotatingGroupTypes)?t.rotatingGroupTypes.join(","):void 0),this.insertIfDefined(t,"isVertical",t.isColumnsLayout),this.insertIfDefined(t,"minItemSize",t.minItemSize),this.insertIfDefined(t,"oneRow",t.isVerticalScroll),this.insertIfDefined(t,"targetItemSize",t.rowSize||t.columnSize),this.insertIfDefined(t,"collageDensity",t.collageDensity),this.insertIfDefined(t,"fixedColumns",t.fixedColumns),this.insertIfDefined(t,"columnWidths",Array.isArray(t.columnWidths)?t.columnWidths.join(","):void 0),t},e.prototype.convertContainer=function(e,t){var i=Object(r.a)({bounds:{}},e);return e.width>=0&&!(e.galleryWidth>=0)&&(i.galleryWidth=e.width+2*((t.imageMargin/2||0)-(t.galleryMargin||0)),delete i.width),e.height>=0&&!(e.galleryHeight>=0)&&(i.galleryHeight=e.height+((t.imageMargin/2||0)-(t.galleryMargin||0)),delete i.height),t.externalInfoHeight>=0&&t.oneRow&&(i.galleryHeight-=t.externalInfoHeight),i},e}()),s=function(){function e(e){if(this.style={},this.visibility={},(e=e||{}).dto||(console.error("Item has no DTO",e),e.dto={}),this.config=e,this.dto=e.dto,this.idx=e.idx,this.inGroupIdx=e.inGroupIdx,this.container=e.container,this.cubeType="fill",e.styleParams){var t=e.styleParams;this.cubeType=t.cubeType,this.cubeImages=t.cubeImages,this._cubeRatio=t.cubeRatio,this.rotatingCropRatios=t.rotatingCropRatios,this.smartCrop=t.smartCrop,this.cropOnlyFill=t.cropOnlyFill,this.imageMargin=t.imageMargin,this.galleryMargin=t.galleryMargin,this.scatter=t.scatter,this.rotatingScatter=t.rotatingScatter,this.smartCrop=t.smartCrop}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}return e.prototype.fixMetadataVerticalVideoRatio=function(e){if(e.qualities&&e.qualities[0]){var t=e.qualities,i=t[t.length-1],r=i.height,o=i.width;e.height=r,e.width=o}},e.prototype.resize=function(e){var t=1;if(!1!==e){if(e>0)t=e;else if("object"==typeof e){if(e.width)t=Math.max(1,e.width)/this.width;else if(e.height){t=Math.max(1,e.height)/this.height}}return this.width*=t,this.height*=t,this.resized=!0,this}},e.prototype.pinToCorner=function(e,t){var i=this;void 0===t&&(t=!1);var r=e.indexOf("top")>=0,o=e.indexOf("left")>=0;this.style.top=r?0:"auto",this.style.bottom=r?"auto":0,this.style.left=o?0:"auto",this.style.right=o?"auto":0,this.pin=e,this.isPinnedTop=r,this.isPinnedLeft=o,this.pinAfter=t,this.pinAfterType=r?"top":o?"left":"",this.calcPinOffset=function(e,t){if(i.pinAfter){if(i.pin===t){var r=i.imageMargin/2;return"top"===t?i.pinAfter.height+2*r:"left"===t?i.pinAfter.width+2*r:0}return 0}return 0}},e.prototype.setPosition=function(e){this.style.position=e},e.prototype.getPosition=function(e){return parseInt(e,10)>=0?e:"auto"},e.prototype.calcScatter=function(e){var t=this.imageMargin/2,i=this.galleryMargin,r=e.left>0?t:i,o=this.container.galleryWidth-e.right>2*t?t:i,n=e.top>0?t:i,s=this.container.galleryHeight-e.bottom>2*t?t:i;if(!(this.rotatingScatter.length>0)){if(this.scatter>0){var l=this.scatter/100*.4;h=a.hashToRandomInt(this.seed+e.right+"x",-r,o);h*=this.scatter/100,h*=1-l,h+=(h>0?l*o:l*r)*Math.sign(h),h=Math.round(h);c=a.hashToRandomInt(this.seed+e.right+"y",-n,s);return c*=this.scatter/100,c*=1-l,c+=(c>0?l*s:l*n)*Math.sign(c),{x:h,y:c=Math.round(c)}}return{x:0,y:0}}try{var h,c,u=this.rotatingScatter.split(","),p=u[this.idx%u.length].split("/").map((function(e){return parseInt(e)})).map((function(e){return e/100})),d=p[0],m=p[1];return{x:h=d*(d>0?o:r),y:c=m*(m>0?s:n)}}catch(g){console.error("Cannot calculate rotating scatter",g)}},Object.defineProperty(e.prototype,"top",{get:function(){return this.getPosition(this.style.top)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.getPosition(this.style.left)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.getPosition(this.style.right)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.getPosition(this.style.bottom)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},set:function(e){Object.assign(this._group,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupOffset",{set:function(e){Object.assign(this._groupOffset,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){var e,t={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0};if(t.right=t.left+this.width,t.bottom=t.top+this.height,this.scatter>0||(null===(e=this.rotatingScatter)||void 0===e?void 0:e.length)>0){var i=this.calcScatter(t),r=i.x,o=i.y;t.left+=r,t.top+=o,t.right=t.left+this.width,t.bottom=t.top+this.height}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(e){this.dto.itemId=this.dto.photoId=this.dto.id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.dto.seed||a.hashToInt(this.hash)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this.dto.width||this.dto.w},set:function(e){this.dto.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerWidth",{get:function(){return this.width+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoWidth",{get:function(){return this.Group?this.Group.infoWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orgWidth",{get:function(){return this.style.width||this.dto.width||this.dto.w||1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var e;return e=this.cubeImages&&this.ratio>=this.cubeRatio?this.style.cubedWidth||this.orgHeight*this.cubeRatio:this.orgWidth,Math.max(e,1)},set:function(e){this.style.cubedWidth=this.style.width=Math.max(1,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerHeight",{get:function(){return this.height+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orgHeight",{get:function(){return this.style.height||this.dto.height||this.dto.h||1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e;return e=this.cubeImages&&this.ratio<this.cubeRatio?this.style.cubedHeight||this.orgWidth/this.cubeRatio:this.orgHeight,Math.max(e,1)},set:function(e){this.style.cubedHeight=this.style.height=Math.max(1,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this.dto.height||this.dto.h},set:function(e){this.dto.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoHeight",{get:function(){return this.Group?this.Group.infoHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"margins",{get:function(){return this.imageMargin/2||0},set:function(e){this.imageMargin=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cubeRatio",{get:function(){var e,t=this;if(this.rotatingCropRatio)e=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var i=String(this.rotatingCropRatios).split(",");e=this.rotatingCropRatio=i[this.idx%i.length]}if(e||"function"!=typeof this._cubeRatio||(e=this._cubeRatio()),!e&&this.cropOnlyFill&&"fit"===this.cubeType&&(e=this.ratio),e||(e=this._cubeRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof e){if(!this.dynamicCropRatios){var r=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(e);this.dynamicCropRatios=r?e.split("/").map((function(e,t){return e.indexOf("%")>0?{type:"%",val:parseFloat(e.replace("%",""))/100,dim:0===t?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(e.replace("px",""))}})):null}if(this.dynamicCropRatios){var o=this.dynamicCropRatios.map((function(e){if("%"===e.type){var i=t.container[e.dim]+("galleryHeight"===e.dim?t.imageMargin/2:0);return e.val*i-t.imageMargin}return e.val}));e=o[0]/o[1]}}return e=Number(e),!0===this.smartCrop&&(e=this.isPortrait?Math.min(e,1/e):Math.max(e,1/e)),"min"===this.cubeType?e=Math.max(e,this.orgRatio):"max"===this.cubeType&&(e=Math.min(e,this.orgRatio)),e},set:function(e){"number"==typeof this._cubeRatio&&(this._cubeRatio=e,this.style.cubedHeight=this.style.cubedWidth=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.ratio<.999?"portrait":"landscape"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPortrait",{get:function(){return"portrait"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLandscape",{get:function(){return"landscape"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(e){this.orgRatio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundedStyle",{get:function(){return Object(r.a)(Object(r.a)({},this.style),{width:Math.round(this.style.width),height:Math.round(this.style.height)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,roundedStyle:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,cropRatio:this.cubeRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}},enumerable:!1,configurable:!0}),e}(),l={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},h={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},c={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},u=function(){function e(e){var t=this;if(this.idx=e.idx,this.stripIdx=e.stripIdx,this.inStripIdx=e.inStripIdx,this.top=e.top,this.showAllItems=e.showAllItems,this.isLastItems=e.isLastItems,this.dummyItems=[],this.targetItemSize=e.targetItemSize,this.items=e.items.map((function(e){return e.Group=t,e})),e.styleParams){var i=e.styleParams;this.oneRow=i.oneRow,this.cubeType=i.cubeType,this.cubeImages=i.cubeImages,this.isVertical=i.isVertical,this.minItemSize=i.minItemSize,this.collageAmount=i.collageAmount,this.collageDensity=i.collageDensity,this.groupTypes=String(i.groupTypes),this.rotatingGroupTypes=String(i.rotatingGroupTypes),this.rotatingCropRatios=String(i.rotatingCropRatios),this.chooseBestGroup=i.chooseBestGroup,this.externalInfoHeight=i.externalInfoHeight,this.externalInfoWidth=i.externalInfoWidth,this.imageMargin=i.imageMargin,this.groupSize=i.groupSize}this.visible=!0,this.rendered=!0,this.required=!0;for(var r=this.items.length;!this.isWithinMinItemSize&&r>0;)this.placeItems(r),this.resize(),r--}return e.prototype.resize=function(){this.isVertical?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)},e.prototype.safeGetItem=function(e){if(this.items[e])return this.items[e];if(this.dummyItems[e])return this.dummyItems[e];var t=new s(Object(r.a)({},this.items[this.items.length-1].config));return t.idx=t.config.idx+e-(this.items.length-1),t.type="dummy",this.dummyItems[e]=t,t},e.prototype.setCubedHeight=function(e){var t=this.cubeImages&&1===this.groupSize&&["fill","fit"].includes(this.cubeType)&&0===this.rotatingGroupTypes.length&&0===this.rotatingCropRatios.length;this.cubedHeight=t?e:null},e.prototype.round=function(){this.isLastGroup&&!this.oneRow?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(var e=0,t=this.items;e<t.length;e++){var i=t[e];i.width=Math.round(i.width),i.height=Math.round(i.height),i.group={width:this.width,height:this.height}}var r=this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-r;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-r,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r;break;case"3t":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*r,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(2).width=this.width-r;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*r,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(0).height=this.height-r;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(2).height=this.height-r;break;case"3v":this.safeGetItem(0).width=this.width-r,this.safeGetItem(1).width=this.width-r,this.safeGetItem(2).width=this.width-r,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*r;break;case"3h":this.safeGetItem(0).height=this.height-r,this.safeGetItem(1).height=this.height-r,this.safeGetItem(2).height=this.height-r,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*r}},e.prototype.getGroupType=function(e){if(this.rotatingGroupTypes){var t=String(this.rotatingGroupTypes).split(",");return t[this.idx%t.length]}var i=this.isVertical,r=void 0;if(this.chooseBestGroup){var o=this.items.map((function(e){return e.orientation.slice(0,1)})).join("");r=(i?l:h)[o]}else 3!==this.items.length&&3!==e||(r=i?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==e||(r=i?"1,2h":"1,2v"),1!==this.items.length&&1!==e||(r="1");var n=r.length>0?r.split(","):[];if(this.groupTypes){var a=this.groupTypes.split(",");a.length>1?0===(n=n.filter((function(e){return a.indexOf(e)>=0}))).length&&(n=["1"]):n=a}if(this.collageDensity>=0){var s=this.collageDensity,u=parseInt(n[n.length-1]),p=c[u],d=p[Math.floor(s*(p.length-1))];0===(n=n.filter((function(e){return d.indexOf(parseInt(e))>=0}))).length&&(n=["1"])}return n[this.calculateRandomSeed(n.length)]||"1"},e.prototype.calculateRandomSeed=function(e){var t;return t=this.isVertical?this.items[0].seed%e:(this.inStripIdx+this.stripIdx)%e,Math.round(Math.min(Math.max(0,t),e-1))},e.prototype.placeItems=function(e){this.type=this.getGroupType(e);var t,i=[],r=0,o=0;switch(this.type){default:case"1":(t=this.safeGetItem(0)).pinToCorner("top-left"),i.push(t),r=t.width,o=t.height;break;case"2v":(t=this.safeGetItem(0)).pinToCorner("top-left"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(1)).pinToCorner("bottom-left"),t.resize(r/t.width),o+=t.height,i.push(t);break;case"2h":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.innerOffset=[0,0],i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(1)).pinToCorner("top-right"),t.innerOffset=[0,0],t.resize(o/t.height),r+=t.width,i.push(t);break;case"3b":(t=this.safeGetItem(0)).pinToCorner("top-left"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(1)).pinToCorner("top-right"),t.resize(o/t.height),r+=t.width,i.push(t),(t=this.safeGetItem(2)).pinToCorner("bottom-left"),t.resize(r/t.width),o+=t.height,i.push(t);break;case"3t":(t=this.safeGetItem(1)).pinToCorner("bottom-left"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-right"),t.resize(o/t.height),r+=t.width,i.push(t),(t=this.safeGetItem(0)).pinToCorner("top-left"),t.resize(r/t.width),o+=t.height,i=[t].concat(i);break;case"3r":(t=this.safeGetItem(0)).pinToCorner("top-left"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(1)).pinToCorner("bottom-left"),t.resize(r/t.width),o+=t.height,i.push(t),(t=this.safeGetItem(2)).pinToCorner("top-right"),t.resize(o/t.height),r+=t.width,i.push(t);break;case"3l":(t=this.safeGetItem(1)).pinToCorner("top-right"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-right"),t.resize(r/t.width),o+=t.height,i.push(t),(t=this.safeGetItem(0)).pinToCorner("top-left"),t.resize(o/t.height),r+=t.width,i=[t].concat(i);break;case"3v":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.setPosition("relative"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-left"),t.setPosition("relative"),t.resize(r/t.width),o+=t.height,i.push(t),(t=this.safeGetItem(1)).setPosition("relative"),t.resize(r/t.width),o+=t.height,t.pinToCorner("top",i[0]),i=[i[0],t,i[1]];break;case"3h":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.setPosition("relative"),i.push(t),r=t.width,o=t.height,(t=this.safeGetItem(2)).pinToCorner("top-right"),t.setPosition("relative"),t.resize(o/t.height),r+=t.width,i.push(t),(t=this.safeGetItem(1)).setPosition("relative"),t.resize(o/t.height),r+=t.width,t.pinToCorner("left",i[0]),i=[i[0],t,i[1]]}this.width=r,this.height=o,this.items=i,this.placed=!0},e.prototype.resizeToHeight=function(e){this.height=e,this.width=this.getWidthByHeight(e),this.resizeItems()},e.prototype.resizeToWidth=function(e){this.width=e,this.height=this.getHeightByWidth(e),this.resizeItems()},e.prototype.resizeItems=function(){var e=this,t=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;t.forEach((function(i,r){i.resize(e.getItemDimensions(t,r)),i.group={top:e.top,left:e.left,width:e.width,height:e.height},i.groupOffset={bottom:e.top+e.height,right:e.left+e.width}}))},e.prototype.getItemDimensions=function(e,t){var i=this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-i};case"2h":case"3h":return{height:this.height-i};case"3t":case"3b":return 0===t?{width:this.width-i}:{height:this.height-e[0].height-2*i};case"3r":case"3l":return 0===t?{height:this.height-i}:{width:this.width-e[0].width-2*i}}},e.prototype.getHeightByWidth=function(e){var t=1,i=1,r=this.imageMargin,o=this.items.map((function(e){return e.width/e.height}));switch(this.type){default:case"1":i=1-(t=1/o[0]);break;case"2h":i=1-2*(t=1/(o[0]+o[1]));break;case"2v":i=2-(t=1/o[0]+1/o[1]);break;case"3h":i=1-3*(t=1/(o[0]+o[1]+o[2]));break;case"3v":i=3-(t=1/o[0]+1/o[1]+1/o[2]);break;case"3t":t=1/(o[2]+o[1])+1/o[0],i=2-2/(o[2]+o[1])+1/o[0];break;case"3b":t=1/(o[0]+o[1])+1/o[2],i=2-2/(o[0]+o[1])+1/o[2];break;case"3l":i=2-(t=(o[1]+o[2])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[0]);break;case"3r":i=2-(t=(o[0]+o[1])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[2])}return e*t+r*i},e.prototype.getWidthByHeight=function(e){var t=1,i=1,r=this.imageMargin,o=this.items.map((function(e){return e.width/e.height}));switch(this.type){default:case"1":i=1-(t=o[0]);break;case"2h":i=2-(t=o[0]+o[1]);break;case"2v":i=1-2*(t=1/(1/o[0]+1/o[1]));break;case"3h":i=3-(t=o[0]+o[1]+o[2]);break;case"3v":i=1-3*(t=1/(1/o[0]+1/o[1]+1/o[2]));break;case"3t":t=1/(1/(o[2]+o[1])+1/o[0]),i=(2/(o[2]+o[1])+1/o[0]-2)*t;break;case"3b":t=1/(1/(o[0]+o[1])+1/o[2]),i=(2/(o[0]+o[1])+1/o[2]-2)*t;break;case"3l":t=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[1]+o[2]),i=2+o[0]-2*t;break;case"3r":t=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[0]+o[1]),i=2+o[2]-2*t}return e*t+r*i},e.prototype.setTop=function(e){this.top=e||0;for(var t=0,i=this.items;t<i.length;t++){i[t].groupOffset={top:e,bottom:e+this.height}}},e.prototype.setLeft=function(e){this.left=e||0;for(var t=0,i=this.items;t<i.length;t++){i[t].groupOffset={left:e,right:e+this.width}}},Object.defineProperty(e.prototype,"id",{get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.width/this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.cubedHeight||this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalHeight",{get:function(){return this.height+this.infoHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoHeight",{get:function(){return this.externalInfoHeight||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infoWidth",{get:function(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realItems",{get:function(){return this._items.filter((function(e){return"dummy"!==e.type}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWithinMinItemSize",{get:function(){var e=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(t,i){var r=Math.min(i.width,i.height)>=e.minItemSize;return t&&r}),!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(e){return e.scheme})),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}},enumerable:!1,configurable:!0}),e}(),p=function(){function e(e){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=e.idx,this.groupsPerStrip=e.groupsPerStrip,this.oneRow=e.oneRow,this.targetItemSize=e.targetItemSize,this.container=e.container}return e.prototype.addGroup=function(e){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(e),e.stripIdx=this.idx,e.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},e.prototype.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},e.prototype.canRemainIncomplete=function(){return!(this.groupsPerStrip>0)&&1.5*this.targetItemSize<this.height},e.prototype.setWidth=function(e){this.width=e,this.hasGroups&&(this.lastGroup.stripWidth=e)},e.prototype.resizeToHeight=function(e){this.height=e;for(var t=0,i=0,r=0,o=this.groups;r<o.length;r++){var n=o[r];n.setLeft(t),n.width+=i,n.resizeToHeight(e),i=n.width,n.round(),i-=n.width,t+=n.width}},e.prototype.isFull=function(e,t){if(!this.hasGroups)return!1;var i=this,r=i.groupsPerStrip,o=i.oneRow,n=i.targetItemSize;if(r>0)return this.groups.length>=r;var a,s=this.container.galleryWidth;if(o)a=!1;else{var l=s/(this.ratio+e.ratio)-n,h=s/this.ratio-n;(a=!isNaN(l)&&!isNaN(h)&&(h<0||l<0&&Math.abs(h)<Math.abs(l)))&&t&&(a=Number(Math.abs(h))<Math.abs(l))}return a},Object.defineProperty(e.prototype,"hasGroups",{get:function(){return this.groups.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastGroup",{get:function(){return this.groups[this.groups.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(e){return e.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}},enumerable:!1,configurable:!0}),e}(),d=function(){function e(e,t,i,r,o){this.idx=e,this.groups=[],this.height=0,this.width=t,this.left=i,this.cubedHeight=r,this.infoWidth=o||0}return e.prototype.addGroup=function(e){this.addGroups([e])},e.prototype.addGroups=function(e){var t=this;this.groups=this.groups.concat(e),e.forEach((function(e){e.columnIdx=t.idx,e.Column=t}))},Object.defineProperty(e.prototype,"totalWidth",{get:function(){return this.width+this.infoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(e){return e.scheme})),width:this.width,height:this.height}},enumerable:!1,configurable:!0}),e}(),m=new(function(){function e(){}return Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(e){this._layout=Object(r.a)({},e)},enumerable:!1,configurable:!0}),e}()),g=function(){function e(e){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(e),!1!==this.createLayoutOnInit&&this.createLayout(e)}return e.prototype.updateParams=function(e){this.srcItems=e.items,this.styleParams=a.convertStyleParams(e.styleParams),this.container=a.convertContainer(e.container,this.styleParams);var t=e.options||{};this.useExistingLayout=!!t.useExistingLayout,this.createLayoutOnInit=t.createLayoutOnInit,this.showAllItems=!!t.showAllItems||!!e.showAllItems,this.useLayoutStore=!!t.useLayoutStore},e.prototype.verifyGalleryState=function(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")},e.prototype.calcNumberOfColumns=function(e,t){var i=1;if(this.styleParams.isVertical)if(this.styleParams.fixedColumns>0)i=this.styleParams.fixedColumns;else{var r=e/t,o=[Math.floor,Math.ceil],n=o.map((function(e){return e(r)})).map((function(t){return Math.round(e/t)})).map((function(e){return Math.abs(t-e)}));i=(0,o[n.indexOf(Math.min.apply(Math,n))])(r)||1}else i=1;return i},e.prototype.findShortestColumn=function(e,t){var i=e[0];if(this.styleParams.placeGroupsLtr)i=e[t%e.length];else for(var r=-1,o=0,n=e;o<n.length;o++){var a=n[o],s=a.height;(s<r||r<0)&&(r=s,i=a)}return i},e.prototype.saveExistingLayout=function(){this.useLayoutStore&&(m.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})},e.prototype.prepareLayoutParams=function(){var e=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,m.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(t){var i=e.columns[t.columnIdx];i&&(i.height-=t.totalHeight,i.groups.splice(-1,1)),e.groups.splice(-1,1),t.realItems.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--}))}else{if(this.styleParams.oneRow){this.groups.slice(-1).forEach((function(t){var i=e.columns[0];i&&i.groups.splice(-1,1);var r=e.strips[0];r&&(r.setWidth(r.width-t.width),r.ratio=r.width/r.height,r.groups.splice(-1,1),e.strip=r),e.strips=[],e.groups.splice(-1,1),t.realItems.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--})),this.galleryHeight=0}else{var t=this.strips.slice(-2);t&&(t.forEach((function(t){t&&(e.strips.splice(-1,1),t.groups.forEach((function(t){e.groups.splice(-1,1),t.items.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(e,t){return e+t.height}),0),this.strip=new p({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else{var i=void 0;i="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(i)+Math.ceil(2*(this.styleParams.imageMargin/2-this.styleParams.galleryMargin))}this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new p({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;var r=this.styleParams,o=r.columnWidths,n=r.cubeRatio,a=r.externalInfoWidth,s=r.imageMargin,l=!1;if(o&&o.length>0){for(l=o.split(",").map(Number);l.length<this.numOfCols;)l.push.apply(l,l);l=l.slice(0,this.numOfCols);var h=this.galleryWidth/l.reduce((function(e,t){return e+t}),0);l=l.map((function(e){return Math.round(e*=h)}))}var c,u=0,g=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map((function(t,i){var r=l?l[i]:Math.round(g/(e.numOfCols-i)),o=u;u+=r,g-=r;var h=Math.round(a>1?a:a*r)||0;return r-=h,c=c||(e.targetItemSize-h-s)/n+s,new d(i,r,o,c,h)})),this.maxLoops=10*this.srcItems.length}},e.prototype.createLayout=function(e){for(void 0!==e&&this.updateParams(e),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new s({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new u({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var t=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(t.cubedHeight),this.group.resizeToWidth(t.width),this.group.round(),this.group.setTop(t.height),this.group.setLeft(t.left),t.addGroup(this.group),t.height+=this.group.totalHeight,this.galleryHeight<t.height&&(this.galleryHeight=t.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new p({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(this.styleParams.oneRow?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin/2-this.styleParams.galleryMargin):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var i=this.container.galleryHeight/this.galleryHeight;this.items.map((function(e){return e.cubeImages=!0,e.cubeRatio=e.ratio=e.width/(e.height*i),e.height*=i,e})),this.groups.map((function(e){return e.height*=i,e.setTop(e.top*i),e.resizeItems(),e}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin/2-this.styleParams.galleryMargin),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme},e.prototype.lastVisibleItemIdxInHeight=function(e){for(var t=this.items.length-1;t>=0;t--){if(this.items[t].offset.top<e)return t}return this.items.length-1},e.prototype.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},e.prototype.findNeighborItem=function(e,t){var i,r=this,o=this.layoutItems[e],n=function(e,t,i){var o,n,a,s=null,l={};return r.layoutItems.forEach((function(r){o=r.offset.top+r.height/2,n=r.offset.left+r.width/2,a=Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2)),(null===s||a>0&&a<s)&&i(e,t,n,o)&&(s=a,l=r)})),l};switch(t){case"up":i=n(o.offset.left+o.width/2,o.offset.top,(function(e,t,i,r){return r<t}));break;case"left":i=n(o.offset.left,o.offset.top+o.height/2,(function(e,t,i){return i<e}));break;case"down":i=n(o.offset.left+o.width/2,o.offset.bottom,(function(e,t,i,r){return r>t}));break;default:case"right":i=n(o.offset.right,o.offset.top+o.height/2,(function(e,t,i){return i>e}))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",e,t),e)},e.prototype.getMaxGroupSize=function(){var e=1;try{var t="string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes;e=t.length>0?t.reduce((function(e,t){return Math.max(e,parseInt(t))}),1):Number(t),e=Math.min(e,this.styleParams.groupSize)}catch(i){console.error("couldn't calculate max group size - returing 3 (?)",i),e=3}return e},Object.defineProperty(e.prototype,"isLastImage",{get:function(){return!this.srcItems[this.pointer+1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLastImages",{get:function(){return!this.srcItems[this.pointer+1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imagesLeft",{get:function(){return this.srcItems.length-this.pointer-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.layoutItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scheme",{get:function(){return{items:this.items.map((function(e){return e.scheme})),groups:this.groups.map((function(e){return e.scheme})),strips:this.strips.map((function(e){return e.scheme})),columns:this.columns.map((function(e){return e.scheme})),height:this.height,width:this.width}},enumerable:!1,configurable:!0}),e}(),y=i(332),f={isRTL:!1,isVertical:!1,gallerySize:30,minItemSize:120,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",rotatingGroupTypes:"",collageDensity:.8,cubeImages:!1,cubeType:"fill",cubeRatio:1,cropOnlyFill:!1,smartCrop:!1,rotatingCropRatios:"",columnWidths:"",fixedColumns:0,numberOfImagesPerRow:3,numberOfImagesPerCol:1,groupsPerStrip:0,imageMargin:10,galleryMargin:0,scatter:0,rotatingScatter:"",gridStyle:0,placeGroupsLtr:!1,oneRow:!1,showArrows:!0,enableInfiniteScroll:!0,thumbnailSpacings:4,galleryThumbnailsAlignment:y.a.thumbnailsAlignment.BOTTOM,enableScroll:!0,hasThumbnails:!1,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,isAutoSlideshow:!1,slideshowLoop:!1,autoSlideshowInterval:4,titlePlacement:y.a.placements.SHOW_ON_HOVER,galleryTextAlign:"center",scrollSnap:!1,itemClick:y.a.itemClick.NOTHING,fullscreen:!0,videoPlay:y.a.videoPlay.HOVER,scrollAnimation:y.a.scrollAnimations.NO_EFFECT,slideAnimation:y.a.slideAnimations.SCROLL,scrollDirection:0,scrollDuration:400,overlayAnimation:y.a.overlayAnimations.NO_EFFECT,arrowsPosition:0,arrowsVerticalPosition:y.a.arrowsVerticalPosition.ITEM_CENTER,arrowsSize:23,arrowsPadding:0,loadMoreAmount:y.a.loadMoreAmount.ALL,slideshowInfoSize:200,playButtonForAutoSlideShow:!1,pauseAutoSlideshowOnHover:!0,allowSlideshowCounter:!1,hoveringBehaviour:y.a.infoBehaviourOnHover.APPEARS,thumbnailSize:120,magicLayoutSeed:1,imageHoverAnimation:y.a.imageHoverAnimations.NO_EFFECT,imagePlacementAnimation:y.a.imagePlacementAnimations.NO_EFFECT,calculateTextBoxWidthMode:y.a.textBoxWidthCalculationOptions.PERCENT,textBoxHeight:200,textBoxWidth:200,textBoxWidthPercent:50,textImageSpace:10,textBoxBorderRadius:0,textBoxBorderWidth:0,loadMoreButtonText:"",imageInfoType:y.a.infoType.NO_BACKGROUND,itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,imageLoadingMode:y.a.loadingMode.BLUR,videoSound:!1,videoSpeed:"1",videoLoop:!0,jsonStyleParams:"",showVideoControls:!1,shouldIndexDirectShareLinkInSEO:!0},v=i(169),b=i(189),I=i(174),w=i(258),S=i(333),O=new(function(){function e(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}return Object.defineProperty(e.prototype,"freezeDate",{get:function(){return this._dateCreated||new Date},set:function(e){"object"==typeof e&&"function"==typeof e.getTime&&(this._dateCreated=e,this.updateFeatures())},enumerable:!1,configurable:!0}),e.prototype.updateFeatures=function(){var e=this;this.supports=Object.entries(this.features).reduce((function(t,i){var o,n=i[0],a=i[1].releaseDate;return Object(r.a)(Object(r.a)({},t),((o={})[n]=e.freezeDate>=a,o))}))},e}()),x=i(280),E=i(321),C=i(322),P=i(323),L=i(319),T=i(320),M=i(324),R=i(317),A=function(e,t){return void 0===t&&(t=!1),e.gallerySizeType===L.a.PIXELS&&e.gallerySizePx>0?e.gallerySizePx:e.gallerySizeType===L.a.RATIO&&e.gallerySizeRatio>0?(S.a&&S.a.innerWidth||980)*(e.gallerySizeRatio/100):t||e.gallerySize};var k=function(e,t){var i=e;i.oneRow=i.oneRow||i.scrollDirection===I.a.HORIZONTAL;var r=i.galleryLayout===v.a.DESIGNED_PRESET,o=function(e,t){i[e].value=i[e].value.replace(/^font\s*:\s*/,""),i[e].value=i[e].value.replace(/;$/,""),i[e].value.indexOf("underline")>-1||!0===i[e].style.underline?(i[e].value=i[e].value.replace("underline",""),i[t]="underline"):!1===i[e].style.underline&&(i[t]="none")};if(w.a.isMobile()&&(!function(e){var t=e.galleryLayout;if(t===v.a.SLIDESHOW)return!0;if(Object(b.h)(e.titlePlacement)){if(4===t||6===t||7===t)return!0;if(1===t&&e.isVertical)return!0;if(2===t&&1!==e.scrollDirection)return!0}return!1}(i)?(w.a.isUndefined(i.itemFont)||o("itemFont","textDecorationTitle"),w.a.isUndefined(i.itemDescriptionFont)||o("itemDescriptionFont","textDecorationDesc")):(w.a.isUndefined(i.itemFontSlideshow)||o("itemFontSlideshow","textDecorationTitle"),w.a.isUndefined(i.itemDescriptionFontSlideshow)||o("itemDescriptionFontSlideshow","textDecorationDesc"))),!(!i.isVertical||i.groupSize>1||!0===i.oneRow&&!r)||i.isSlider||i.isColumns||(i.titlePlacement=b.a.SHOW_ON_HOVER),Object(b.e)(i.titlePlacement)||i.hoveringBehaviour===x.a.NEVER_SHOW||(i.hoveringBehaviour=x.a.APPEARS),i.imageLoadingMode===E.a.COLOR&&i.imageLoadingWithColorMode===C.a.MAIN_COLOR&&(i.imageLoadingMode=E.a.MAIN_COLOR),"fit"===i.cubeType&&(i.isGrid||i.hasThumbnails||i.isSlider||i.isSlideshow)&&(i.itemBorderWidth=0,i.itemBorderRadius=0,i.itemEnableShadow=!1),i.itemEnableShadow&&(i.oneRow?i.itemEnableShadow=!1:i.galleryMargin=Math.max(i.galleryMargin,(i.itemShadowSize||0)+(i.itemShadowBlur||0))),i.arrowsPosition===R.a.OUTSIDE_GALLERY&&(i.arrowsPadding=0),i.oneRow?i.isVertical=!1:i.slideshowLoop=!1,(!i.oneRow||i.groupSize>1||!i.cubeImages)&&(i.slideAnimation=P.a.SCROLL),i.imageMargin>0&&w.a.isMobile()&&(i.imageMargin=Math.min(i.imageMargin,50)),i.loadMoreButtonFont&&w.a.isMobile()&&(i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace(/;$/,""),i.loadMoreButtonFont.value.indexOf("underline")>-1?(i.loadMoreButtonFont.value=i.loadMoreButtonFont.value.replace("underline",""),i.textDecorationLoadMore="underline"):i.textDecorationLoadMore="none"),(i.isGrid&&!i.oneRow||O.supports.fixedColumnsInMasonry&&i.isMasonry&&i.isVertical)&&(i.fixedColumns="1"===String(i.gridStyle)?Number(i.numberOfImagesPerRow):0,i.groupTypes="1",i.groupSize=1,i.collageAmount=0,i.collageDensity=0),!w.a.isUndefined(i.numberOfImagesPerCol)&&i.isGrid&&i.oneRow)switch(i.fixedColumns=0,i.numberOfImagesPerCol){case 1:default:i.groupTypes="1",i.groupSize=1,i.collageAmount=0,i.collageDensity=0;break;case 2:i.groupTypes="2v",i.groupSize=2,i.collageAmount=1,i.collageDensity=1;break;case 3:i.groupTypes="3v",i.groupSize=3,i.collageAmount=1,i.collageDensity=1}return i.forceMobileCustomButton&&(i.targetItemSize=Math.round(405),i.titlePlacement=b.a.SHOW_BELOW,i.galleryLayout=2,i.fixedColumns=1,i.numberOfImagesPerRow=1),i.fixedColumns>0&&w.a.isMobile()&&void 0===i.m_numberOfImagesPerRow&&(i.fixedColumns=1),i.gallerySizeType===L.a.PIXELS&&i.gallerySizePx>0?i.targetItemSize=i.gallerySizePx:i.gallerySizeType===L.a.RATIO&&i.gallerySizeRatio>0&&(i.targetItemSize=(S.a&&S.a.innerWidth||980)*(i.gallerySizeRatio/100)),i.textBoxHeight=function(e,t){if(!function(e,t){return Object(b.h)(e.titlePlacement)&&t}(e,t))return 0;return e.textBoxHeight}(i,t),i.externalInfoHeight=function(e,t){var i=t;t>0&&Object(b.h)(e.titlePlacement)&&e.imageInfoType===T.a.SEPARATED_BACKGROUND&&(i+=e.textImageSpace,i+=2*e.textBoxBorderWidth);return i}(i,i.textBoxHeight),i.externalInfoWidth=function(e,t){if(!function(e,t){var i=e.oneRow,r=e.isVertical,o=e.groupSize,n=e.titlePlacement;return!i&&r&&1===o&&Object(b.d)(n)&&t}(e,t))return 0;var i=e.targetItemSize,r=e.calculateTextBoxWidthMode,o=e.textBoxWidth,n=e.textBoxWidthPercent,a=0;a=r===M.a.PERCENT?Math.min(100,Math.max(0,n))/100:Math.min(i,o);return a}(i,t),"auto"===i.videoPlay&&"nothing"===i.itemClick&&w.a.isiOS()&&(i.videoPlay="onClick"),i},_={galleryLayout:v.a.ALTERNATE,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:b.a.SHOW_ON_HOVER,scrollDirection:I.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.48,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",gallerySize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,2h,1,2h",smartCrop:!1,scatter:0,rotatingScatter:"",fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"",slideshowLoop:!1},H={galleryLayout:v.a.BRICKS,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:b.a.SHOW_ON_HOVER,scrollDirection:I.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.8,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",slideshowLoop:!1,gallerySize:400,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"2h",smartCrop:!1,scatter:0,rotatingScatter:"",fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"0.707,1.414,1.414,0.707"},N={galleryLayout:v.a.COLLAGE,cubeImages:!1,titlePlacement:b.a.SHOW_ON_HOVER,groupSize:3,hasThumbnails:!1,groupTypes:"1,2h,2v,3t,3b,3l,3r",slideshowLoop:!1,targetItemSize:0,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1},D=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),N),{targetItemSize:A(e,Math.round(5*e.gallerySize+500))})},j={galleryLayout:v.a.FULLSIZE,cubeImages:!0,cubeRatio:"100%/100%",cubeType:"fill",oneRow:!0,titlePlacement:b.a.SHOW_ON_HOVER,scrollDirection:I.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,rotatingScatter:"",imageMargin:0},G={galleryLayout:v.a.COLUMN,cubeType:"fill",cubeImages:!0,cubeRatio:.35,oneRow:!0,scrollDirection:I.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Strips",fixedColumns:0,enableScroll:!0,isGrid:!1,isColumns:!0,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1},z=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),G),{targetItemSize:A(e)})},F={galleryLayout:v.a.GRID,cubeImages:!0,isVertical:!0,groupSize:1,hasThumbnails:!1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Columns",fixedColumns:0,targetItemSize:0,enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isMasonry:!1,isSlideshow:!1,minItemSize:50},B=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),F),{targetItemSize:A(e,Math.round(8.5*e.gallerySize+150))})},W={galleryLayout:v.a.MAGIC,cubeImages:void 0,cubeRatio:void 0,isVertical:void 0,targetItemSize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,scatter:void 0,galleryMargin:void 0,chooseBestGroup:void 0,smartCrop:void 0,cubeType:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlideshow:void 0,isSlider:void 0,isColumns:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0,slideshowLoop:!1},U=function(e){!e>0&&(e=999999),e=Math.floor(e);var t=function(t,i,r){var o,n,a=function(e){e=String(e);for(var t=0,i=0;i<e.length;i++)t+=e.charCodeAt(i);return t}(r),s=i-t+1;return o=e,n=a,Math.floor(1e7*(o/n-Math.floor(o/n)))%s+t},i=function(e){return!!t(0,1,e)},r={cubeImages:i("cubeImages"),cubeRatio:t(1,25,"cubeRatio")/5,isVertical:i("isVertical"),targetItemSize:t(300,800,"gallerySize"),collageAmount:t(5,10,"collageAmount")/10,collageDensity:(O.supports.spacingCalculation?t(1,100,"collageDensity"):t(5,10,"collageDensity"))/100,groupTypes:["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(e,t){return i("groupTypes"+t)}))),oneRow:i("oneRow"),imageMargin:t(0,O.supports.spacingCalculation?t(300,800,"gallerySize")/5:5,"imageMargin"),galleryMargin:O.supports.spacingCalculation?0:t(0,5,"imageMargin"),scatter:0,rotatingScatter:"",chooseBestGroup:i("chooseBestGroup"),smartCrop:i("smartCrop"),cubeType:"fill",enableScroll:!0,isGrid:!1,isSlideshow:!1,isSlider:!1,isColumns:!1,cropOnlyFill:!1,fixedColumns:0,enableInfiniteScroll:1};return r.oneRow?(r.isVertical=!1,r.scrollDirection=I.a.HORIZONTAL):r.scrollDirection=I.a.VERTICAL,r.galleryType=r.isVertical?"Columns":"Strips",r.groupSize=parseInt(r.groupTypes.slice(-1)[0]),r.groupTypes=r.groupTypes.join(","),r.minItemSize=r.targetItemSize/r.groupSize/2,r},V={galleryLayout:v.a.MASONRY,cubeImages:!1,scrollDirection:I.a.VERTICAL,groupSize:1,groupTypes:"1",slideshowLoop:!1,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1},K=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),V),{targetItemSize:A(e,e.isVertical?8*e.gallerySize+200:5*e.gallerySize+200)})},q={galleryLayout:v.a.MIX,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:b.a.SHOW_ON_HOVER,scrollDirection:I.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",collageDensity:.48,targetItemSize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,3l,1,3r",smartCrop:!1,scatter:0,rotatingScatter:"",fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:""},Y={galleryLayout:v.a.PANORAMA,cubeImages:!1,scrollDirection:I.a.VERTICAL,isVertical:!0,groupSize:1,groupTypes:"1",galleryType:"Columns",oneRow:!1,fixedColumns:1,enableScroll:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,slideshowLoop:!1},Z=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),Y),{targetItemSize:A(e)})},X={galleryLayout:v.a.SLIDER,enableInfiniteScroll:!0,cubeImages:!0,oneRow:!0,scrollDirection:I.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!0,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!0},J=i(318),$={galleryLayout:v.a.SLIDESHOW,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,hoveringBehaviour:x.a.NEVER_SHOW,scrollDirection:I.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",arrowsVerticalPosition:J.a.IMAGE_CENTER,itemBorderWidth:0,itemBorderRadius:0,itemBorderColor:void 0,smartCrop:!1,targetItemSize:550,galleryType:"Strips",fixedColumns:1,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,scatter:0,rotatingScatter:"",imageMargin:0},Q=function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),$),{targetItemSize:A(e)})},ee={galleryLayout:v.a.THUMBNAIL,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,titlePlacement:b.a.SHOW_ON_HOVER,scrollDirection:I.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!0,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,rotatingScatter:"",imageMargin:0},te={galleryLayout:v.a.EMPTY},ie=function(e){var t=e.galleryType,i=e.galleryType,o=e.galleryLayout;if(void 0!==i&&void 0===o)switch(t){case"1":return D(e);case"2":return B(e);case"3":case"4":return K(e);case"5":return Z(e);case"6":return z(e);case"7":return Q(e);case"0":default:return D(e)}else switch(e.galleryLayout){case v.a.MASONRY:return K(e);case v.a.GRID:return B(e);case v.a.THUMBNAIL:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),ee),{targetItemSize:A(e)})}(e);case v.a.SLIDER:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),X),{targetItemSize:A(e)})}(e);case v.a.SLIDESHOW:return Q(e);case v.a.PANORAMA:return Z(e);case v.a.COLUMN:return z(e);case v.a.MAGIC:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),W),U(e.magicLayoutSeed))}(e);case v.a.FULLSIZE:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),j),{targetItemSize:A(e)})}(e);case v.a.BRICKS:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),H),{targetItemSize:A(e)})}(e);case v.a.MIX:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),q),{targetItemSize:A(e)})}(e);case v.a.ALTERNATE:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),_),{targetItemSize:A(e)})}(e);case v.a.EMPTY:return function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},e),te),{targetItemSize:A(e,Math.round(9*e.gallerySize+100))})}(e);case v.a.DESIGNED_PRESET:return function(e){try{var t=e.jsonStyleParams?JSON.parse(e.jsonStyleParams):{};return Object(r.a)(Object(r.a)({},e),t)}catch(i){return{}}}(e);case v.a.COLLAGE:default:return D(e)}},re=i(480),oe=i(315),ne=i(316),ae=function(){function e(e){this.uniqueId=w.a.generateUUID(),this.isGalleryItem=!0,this.createdBy=e.createdBy,this.createUrl=this.createUrl.bind(this),this.update(e)}return e.prototype.update=function(e){if(this.resizeMediaUrl=e.resizeMediaUrl,e.dto&&e.dto.dto&&(e.dto=e.dto.dto,w.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object(r.a)({},e.dto),e.scheme)this.processScheme(e.scheme);else{var t={};Object.assign(t,this.dto,this.metadata),this.processScheme(new s({dto:t}).scheme)}if(this.dto){var i=this.dto.metaData||this.dto.metadata;i&&(this.dto.metaData=w.a.parseStringObject(i))}this.sharpParams=Object(r.a)({},e.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=e.thumbnailSize||120,this.resetUrls(),this.updateSharpParams()},e.prototype.processScheme=function(e){this.id=e.id,this.idx=e.idx,this.type=e.type,this.style=e.style,this.width=e.width,this.maxWidth=e.maxWidth,this.infoWidth=e.infoWidth,this.height=e.height,this.maxHeight=e.maxHeight,this.infoHeight=e.infoHeight,this.margins=e.margins,this.ratio=e.ratio,this.cubeRatio=e.cropRatio,this.cubeImages=e.isCropped,this.cubeType=e.cropType||oe.a.FILL,this.offset=e.offset,this.group=e.group,this.orientation=e.orientation,this.visibility=e.visibility},e.prototype.renderProps=function(e){return Object(r.a)({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,url:this.url,alt:this.alt,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cubeRatio:this.cubeRatio,offset:this.offset,style:Object(r.a)({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},e)},e.prototype.getDataForShop=function(){var e=this.focalPoint,t=this.metadata;return{isDemo:t.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:t.height,title:t.title,itemWidth:t.width,itemType:t.type||"image",imageUrl:this.resizedUrl(oe.a.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:e[0],fpY:e[1]}},e.prototype.getHighestMp4Resolution=function(e){var t=e.filter((function(e){return"mp4"===e.formats[0]})).sort((function(e,t){return t.width-e.width}))[0];return{width:t.width,height:t.height}},e.prototype.resizedUrl=function(e,t,i,o,n){var a,s=this,l=function(e,t){for(var i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if("function"==typeof s.resizeMediaUrl)try{var l=String(w.a.hashCode(JSON.stringify(Object(r.a)({url:t},o))));s._cachedUrls[l]||(s._cachedUrls[l]=s.resizeMediaUrl.apply(s,Object(r.f)([e,t],o,[n]))||""),i=s._cachedUrls[l]}catch(h){console.error("Cannot create url",h,e,o),i=String(t)}else i=String(t);return i};t=Math.ceil(t),i=Math.ceil(i);var h=e===oe.a.FILL&&this.isCropped&&this.focalPoint,c={},u=this.url;return this.isText?Object.assign.apply(Object,Object(r.f)([{}],Object.values(ne.b).map((function(e){var t;return(t={})[e]=function(){return""},t})))):((this.isVideo||this.isVideoPlaceholder)&&(u=null===(a=this.poster)||void 0===a?void 0:a.url,w.a.isExternalUrl(this.url)?c[ne.b.VIDEO]=function(){return s.url}:c[ne.b.VIDEO]=function(){return l(s,s.url,oe.a.VIDEO,t,i)}),c[ne.b.HIGH_RES]=function(){return l(s,u,e,t,i,o,h)},c[ne.b.LOW_RES]=function(){return l(s,u,s.cubeImages&&e!==oe.a.FIT?oe.a.FILL:oe.a.FIT,250,250,Object(r.a)(Object(r.a)({},o),{quality:30,blur:30}),h)},c[ne.b.SEO]=function(){return c[ne.b.HIGH_RES]().replace(/\.webp$/i,"."+s.fileType)},c)},e.prototype.resetUrls=function(){var e=this.maxWidth||this.dto.width||this.metadata.width,t=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(e,Math.ceil(this.width)),this.resizeHeight=Math.min(t,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},e.prototype.createUrl=function(e,t){try{return this[e+"_url"][t]()}catch(i){return""}},Object.defineProperty(e.prototype,"resized_url",{get:function(){return this.urls.resized_url||(this.urls.resized_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multi_url",{get:function(){return this.urls.multi_url||(this.urls.multi_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams,!0)),this.urls.multi_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaled_url",{get:function(){if(!this.urls.scaled_url){var e=this.maxWidth/this.maxHeight,t=this.resizeWidth/this.resizeHeight<e;this.urls.scaled_url=this.resizedUrl(oe.a.FILL,t?e*this.resizeHeight:this.resizeWidth,t?this.resizeHeight:this.resizeWidth/e,this.sharpParams)}return this.urls.scaled_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixel_url",{get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.resizedUrl(oe.a.FILL,1,1,{quality:5})),this.urls.pixel_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbnail_url",{get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.resizedUrl(oe.a.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"square_url",{get:function(){return this.urls.square_url||(this.urls.square_url=this.resizedUrl(oe.a.FILL,100,100,{quality:80})),this.urls.square_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"full_url",{get:function(){return this.urls.full_url||(this.urls.full_url=this.resizedUrl(oe.a.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sample_url",{get:function(){return this.urls.sample_url||(this.urls.sample_url=this.resizedUrl(oe.a.FIT,500,500,this.sharpParams)),this.urls.sample_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preload_url",{get:function(){return this.urls.preload_url||(this.urls.preload_url=this.resized_url),this.urls.preload_url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"download_url",{get:function(){return this.createDownloadUrl(this.full_url)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"download_sample_url",{get:function(){return this.createDownloadUrl(this.sample_url)},enumerable:!1,configurable:!0}),e.prototype.createDownloadUrl=function(e){var t=this;return this.urls.download_url||(this.urls.download_url=e,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){var e=t.urls.download_url._img();return e+(e.includes("?")?"&":"?")+"dn="+t.fileName}),this.urls.download_url},e.prototype.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var e=this.dto.metaData.sharpParams.L;e.quality&&!0===e.overrideQuality&&(this.sharpParams.quality=e.quality),e.usm&&!0===e.overrideUsm&&(this.sharpParams.usm=e.usm)}},Object.defineProperty(e.prototype,"itemId",{get:function(){return this.id},enumerable:!1,configurable:!0}),e.prototype.updateId=function(e){this.dto.itemId=this.id=e},Object.defineProperty(e.prototype,"metadata",{get:function(){var e=this.dto.metaData||this.dto.metadata;return w.a.isUndefined(e)&&(e={}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metaData",{get:function(){return this.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCropped",{get:function(){return this.cubeImages&&this.cubeType===oe.a.FILL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"focalPoint",{get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(e){this.metadata.focalPoint=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"photoId",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orderIndex",{get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(e){this.dto.orderIndex=e},enumerable:!1,configurable:!0}),e.prototype.updateOrderIndex=function(e){var t=this.orderIndex!==e;return this.orderIndex=e,t},Object.defineProperty(e.prototype,"url",{get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileType",{get:function(){return this.url.split(".").pop()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaUrl",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastModified",{get:function(){return this.metadata.lastModified},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return w.a.hashToInt(this.url)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isImage",{get:function(){return"image"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isImportant",{get:function(){return!!this.dto.i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoUrl",{get:function(){return this.metadata.videoUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"poster",{get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1]:null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"qualities",{get:function(){return this.metadata.qualities},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternalVideo",{get:function(){return this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternal",{get:function(){return!0===this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideoPlaceholder",{get:function(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alt",{get:function(){return this.metadata.alt||this.title||this.description},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.metadata.title||""},set:function(e){this.metadata.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileName",{get:function(){return this.metadata.fileName||"file"},set:function(e){this.metadata.fileName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.metadata.description||""},set:function(e){this.metadata.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exif",{get:function(){return this.metadata.exif||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasLink",{get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"link",{get:function(){return this.metadata.link||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkData",{get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkType",{get:function(){return this.metadata.link&&!w.a.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:e,url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultLinkText",{get:function(){var e=this.linkData;switch(this.linkType){case"wix":if(!e)return"Go to Link";switch(e.type){case"PageLink":return"Go to Page "+e.pageName;case"AnchorLink":return"Scroll to "+e.anchorName;case"ExternalLink":return""+e.url;case"EmailLink":return"Email "+e.recipient;case"PhoneLink":return"Call "+e.phoneNumber;case"DocumentLink":return"Open "+e.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultLinkValue",{get:function(){var e=this.linkData;switch(this.linkType){case"wix":if(!e)return"Add a Link";switch(e.type){case"PageLink":return e.pageName?"PAGE - "+e.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+e.anchorName;case"ExternalLink":return"LINK - "+e.url;case"EmailLink":return"EMAIL - "+e.recipient;case"PhoneLink":return"PHONE - "+e.phoneNumber;case"DocumentLink":return"DOCUMENT - "+e.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkText",{get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkTitle",{get:function(){return this.metadata.link&&this.metadata.link.title},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkUrl",{get:function(){return this.metadata.link&&this.metadata.link.url},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWixUrl",{get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkTitleFromUrl",{get:function(){var e=/[^/]*\.\w+$/g.exec(this.linkUrl),t=e&&e[0];return t&&t.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unprotectedLinkOpenType",{get:function(){return w.a.get(this,"metadata.link.target")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkOpenType",{get:function(){return this.metadata.link&&!w.a.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!w.a.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialLinkObject",{get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDemo",{get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(e){this.metadata.isDemo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isText",{get:function(){return"text"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVideo",{get:function(){return"video"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRendered",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDimensionless",{get:function(){return!(this.maxWidth>1||this.maxHeight>1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTransparent",{get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"directLink",{get:function(){return this.dto.directLink||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"directShareLink",{get:function(){return this.dto.directShareLink||""},enumerable:!1,configurable:!0}),e}(),se=function(){function e(e){this.uniqueId=w.a.generateUUID(),this.isGalleryGroup=!0,e.dto&&e.dto.dto&&(e.dto=e.dto.dto,w.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},e.dto),e.scheme?this.processScheme(e.scheme):this.processScheme(new u({dto:e.dto}).scheme),e.items?this.items=e.items:console.warn("Pro Gallery created Gallery Group without items",e)}return e.prototype.processScheme=function(e){this.id=e.id,this.idx=e.idx,this.width=e.width,this.height=e.height,this.totalHeight=e.totalHeight,this.ratio=e.ratio,this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this.visible=e.visible,this.rendered=e.rendered,this.required=e.required},e.prototype.renderProps=function(e){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:e}},Object.defineProperty(e.prototype,"key",{get:function(){return"group_"+this.id},enumerable:!1,configurable:!0}),e}(),le=function(){function e(){}return e.convertDtoToLayoutItem=function(e){if(!!(e.id&&e.width>0&&e.height>0))return e;var t=e.metadata||e.metaData,i="object"==typeof t?t:w.a.parseStringObject(t)||{};return Object(r.a)({id:e.itemId||e.photoId,width:i.width,height:i.height},e)},e.convertToGalleryItems=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i=[]),e.galleryItems=[];for(var o=0;o<e.columns.length;o++){var n=e.columns[o];n.galleryGroups=[];for(var a=n.groups||n,s=0;s<a.length;s++){for(var l=a[s],h=[],c=0;c<l.items.length;c++){var u=l.items[c],p=Object(r.a)({scheme:u,dto:u.dto},t),d=i[u.idx],m=void 0;d&&d.id&&d.id===u.id?(m=d).update(p):m=new ae(p),h[c]=m,e.galleryItems[u.idx]=h[c]}n.galleryGroups[s]=new se({scheme:l,dto:l.dto,items:h})}}return e},e.convertExistingStructureToGalleryItems=function(e,t,i){void 0===i&&(i={}),w.a.isVerbose()&&console.time("convertToGalleryItems"),e.galleryItems||(e.galleryItems=[]);var r=e.columns.slice(-1)[0].galleryGroups.pop();r&&e.galleryItems.splice(-r.items.length);for(var o=0;o<t.columns.length;o++){var n=t.columns[o],a=e.columns[o]||n;a.galleryGroups||(a.galleryGroups=[]);for(var s=n.groups||n,l=0;l<s.length;l++){for(var h=s[l],c=[],u=0;u<h.items.length;u++){var p=h.items[u];e.galleryItems[p.idx]?e.galleryItems[p.idx].processScheme(p):(c[u]=new ae(Object.assign({scheme:p,dto:p.dto},i)),e.galleryItems[p.idx]=c[u])}a.galleryGroups[l]?a.galleryGroups[l].processScheme(h):a.galleryGroups[l]=new se({scheme:h,dto:h.dto,items:c})}n.galleryGroups=a.galleryGroups}return t.galleryItems=e.galleryItems,w.a.isVerbose()&&console.timeEnd("convertToGalleryItems"),t},e}(),he=new(function(){function e(){}return e.prototype.createBlueprint=function(e){var t=e.params,i=e.lastParams,r=e.existingBlueprint,o=e.blueprintManagerId,n=e.isUsingCustomInfoElements,a={};try{var s=t.dimensions,l=t.items,h=t.styles,c=i.dimensions,u=i.items,p=i.styles,d=this.formatItemsIfNeeded(l,u),m=d.formattedItems,g=d.changed,y=this.formatStylesIfNeeded(h,p,n),f=y.formattedStyles,v=y.changed,b=this.formatContainerIfNeeded(s,c,p,f||r.styles,v),I=b.formattedContainer,w=b.changed,S=g||v||w;if(a={itemsChanged:g,stylesChanged:v,containerChanged:w},S||!r){r||(r={});var O=this.createStructure({formattedContainer:I||r.container,formattedItems:m||r.items,formattedStyles:f||r.styles},S);f&&(r.styles=f),m&&(r.items=m),I&&(r.container=I),r.structure=O,!r.styles.oneRow&&r.styles.enableInfiniteScroll&&(r.container.height=r.container.galleryHeight=O.height)}}catch(x){console.error("Could not create blueprint, error:",x)}return{blueprint:r,changedParams:a,blueprintManagerId:o}},e.prototype.formatItemsIfNeeded=function(e,t){var i,r={items:"",itemsAdded:""},o=t,n=!1;return!function(e,t){if(e===t)return r.itemsAdded="items are the same object.",!1;if(!e)return r.itemsAdded="new items do not exist.",!1;if(!t||t&&0===t.length)return r.itemsAdded="old items do not exist.",!1;if(t.length>=e.length)return r.itemsAdded="more old items than new items.",!1;var i=t.reduce((function(t,i,r){return t&&i.id===e[r].itemId}),!0);return i||(r.itemsAdded="items ids were changed. "),i}(e,o)?function(e,t){return e===t?(r.items="items are the same object.",!1):e?!t||t&&0===t.length?(r.items="old items do not exist.",!0):t.length!==e.length?(r.items="more new items than old items (or vice versa).",!0):e.some((function(e,i){var o=t[i];try{var n=!e||!o||e.itemId!==o.itemId||e.mediaUrl!==o.mediaUrl||e.measured!==o.measured||e.metaData&&o.metaData&&(e.metaData.type!==o.metaData.type||e.metaData.title!==o.metaData.title||e.metaData.description!==o.metaData.description)||e.metaData&&"text"===e.metaData.type&&o.metaData&&"text"===o.metaData.type&&(e.metaData.width!==o.metaData.width||e.metaData.height!==o.metaData.height||e.metaData.html!==o.metaData.html||e.metaData.textStyle!==o.metaData.textStyle||e.metaData.editorHtml!==o.metaData.editorHtml);return n&&(r.items="items #"+i+" id was changed."),n}catch(a){return r.items="an error occured",!0}}),!1):(r.items="new items do not exist.",!1)}(e,o)&&(i=e.map((function(e){return Object.assign(le.convertDtoToLayoutItem(e))})),this.gettingMoreItems=!1,n=!0):(i=o.concat(e.slice(o.length).map((function(e){return le.convertDtoToLayoutItem(e)}))),this.gettingMoreItems=!1,n=!0),{formattedItems:i,changed:n}},e.prototype.formatStylesIfNeeded=function(e,t,i){var o,n={styles:""},a=!1;return function(e,t){if(!e)return n.styles="no new styles.",!1;if(!t)return n.styles="no old styles.",!0;try{var i={};Object.keys(t).sort().forEach((function(e){return i[e]=t[e]}));var r={};Object.keys(e).sort().forEach((function(t){return r[t]=e[t]}));var o=JSON.stringify(r)!==JSON.stringify(i);return o&&(n.styles="styles were changed."),o}catch(a){return console.error("Could not compare styles",a),!1}}(e,t)&&(e=Object(r.a)(Object(r.a)({},f),e),o=k(ie(e),i),a=!0),{formattedStyles:o,changed:a}},e.prototype.formatContainerIfNeeded=function(e,t,i,r,o){var n,a={dimensions:""},s=!1;return(o||function(e){var t=e.newDimensionsParams,i=e.oldDimensionsParams;if(!e.oldStylesParams||!i)return a.dimensions="no old dimensions or styles. ",!0;if(!t)return a.dimensions="no new dimensions.",!1;var o={height:!(!r.oneRow&&r.enableInfiniteScroll)&&(!!t.height&&t.height!==i.height),width:!i||!!t.width&&t.width!==i.width,scrollBase:!!t.scrollBase&&t.scrollBase!==i.scrollBase};return Object.keys(o).reduce((function(e,t){return o[t]&&(a.dimensions+="dimensions."+t+" has changed. "),e||o[t]}),!1)}({newDimensionsParams:e,oldDimensionsParams:t,oldStylesParams:i}))&&(re.a.updateParams({styles:r,container:e}),s=!0,n=Object.assign({},e,re.a.getGalleryDimensions())),{formattedContainer:n,changed:s}},e.prototype.createStructure=function(e){var t=e.formattedContainer,i=e.formattedStyles,r={items:e.formattedItems,container:t,styleParams:i,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return r.options.createLayoutOnInit=!1,this.layouter=new g(r),this.layouter.createLayout(r)},e}()),ce=i(312),ue=function(){function e(e){var t=e.id;this.id=t+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=function(){},this.loopingItems=!1}return e.prototype.init=function(e){this.api=e.api,this.currentState.totalItemsCount=e&&e.totalItemsCount||this.currentState.totalItemsCount,ce.f.setFormFactor(e.formFactor)},e.prototype.createBlueprint=function(e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,(function(){var t,i,o,n,a,s,l=this;return Object(r.d)(this,(function(h){switch(h.label){case 0:return this.currentState.totalItemsCount=e.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=e.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t=[Object(r.a)({},e)],[4,this.completeParams(e)];case 1:return e=r.a.apply(void 0,t.concat([h.sent()])),[4,function(e){return Object(r.b)(l,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.api.createBlueprintImp?[4,this.api.createBlueprintImp(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[4,he.createBlueprint(e)];case 3:return[2,t.sent()]}}))}))}({params:e,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements})];case 2:return i=h.sent(),o=i.blueprint,n=i.changedParams,a=Object.values(n).some((function(e){return!!e})),s=Object.keys(o).length>0,this.updateLastParamsIfNeeded(e,n,s),s&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:o,blueprintChanged:a}),[2,this.cache[e]=this.existingBlueprint=o]}}))}))},e.prototype.getMoreItems=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(i){switch(i.label){case 0:return e<this.currentState.totalItemsCount?[4,this.api.fetchMoreItems(e)]:[3,2];case 1:return(t=i.sent())&&this.createBlueprint({items:t}),[3,3];case 2:this.existingBlueprint.styles.slideshowLoop&&this.duplicateGalleryItems(),i.label=3;case 3:return[2]}}))}))},e.prototype.resetItemLooping=function(){this.loopingItems=!1},e.prototype.createInitialBlueprint=function(e){this.currentState.totalItemsCount=e.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=e.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,e=this.alignParamNamingOptions(e);var t=he.createBlueprint({params:e,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements}),i=t.blueprint,r=t.changedParams,o=Object.values(r).some((function(e){return!!e})),n=Object.keys(i).length>0;return this.updateLastParamsIfNeeded(e,r,n),n&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:o,initialBlueprint:!0}),n&&(this.cache[e]=this.existingBlueprint=i)},e.prototype.createSingleBlueprint=function(e){void 0===e&&(e={});var t=e.isUsingCustomInfoElements;return e=this.alignParamNamingOptions(e),he.createBlueprint({params:e,lastParams:{},existingBlueprint:{},blueprintManagerId:this.id+"_singleBlueprint",isUsingCustomInfoElements:t}).blueprint},e.prototype.duplicateGalleryItems=function(){var e,t=(e=this.currentState.items).concat.apply(e,this.currentState.items.slice(0,this.currentState.totalItemsCount));this.loopingItems=!0,this.createBlueprint({items:t})},e.prototype.completeParams=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,i,o,n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=this.alignParamNamingOptions(e),i=t.dimensions,o=t.items,n=t.styles,a=t.domId,[4,this.fetchDimensionsIfNeeded(i)];case 1:return i=r.sent(),[4,this.fetchItemsIfNeeded(o)];case 2:return o=r.sent(),[4,this.fetchStylesIfNeeded(n)];case 3:return n=r.sent(),[2,{dimensions:i,items:o,styles:n,domId:a}]}}))}))},e.prototype.alignParamNamingOptions=function(e){var t=e||{},i=t.dimensions,o=t.container,n=t.items,a=t.styles,s=t.styleParams,l=t.options,h=t.domId;return a=Object(r.a)(Object(r.a)(Object(r.a)({},l),a),s),{dimensions:i=Object(r.a)(Object(r.a)({},i),o),items:n,styles:a,domId:h}},e.prototype.fetchDimensionsIfNeeded=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(e){var t=!0;return e&&Object.keys(e).length>0&&(t=!1),t}(e)?(t=this.api.fetchDimensions)?[4,this.api.fetchDimensions()]:[3,2]:[3,3];case 1:t=i.sent(),i.label=2;case 2:e=t||this.currentState.dimensions,i.label=3;case 3:return[2,e]}}))}))},e.prototype.fetchItemsIfNeeded=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(e){var t=!0;return e&&e.length>0&&(t=!1),t}(e)?(t=!this.loopingItems&&this.api.fetchItems)?[4,this.api.fetchItems()]:[3,2]:[3,3];case 1:t=i.sent(),i.label=2;case 2:e=t||this.currentState.items,i.label=3;case 3:return[2,e]}}))}))},e.prototype.fetchStylesIfNeeded=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(i){switch(i.label){case 0:return function(e){var t=!0;return e&&Object.keys(e).length>0&&(t=!1),t}(e)?(t=this.api.fetchStyles)?[4,this.api.fetchStyles()]:[3,2]:[3,3];case 1:t=i.sent(),i.label=2;case 2:e=t||this.currentState.styles,i.label=3;case 3:return[2,e]}}))}))},e.prototype.updateLastParamsIfNeeded=function(e,t,i){var o=e.items,n=e.dimensions,a=e.styles;i&&(this.currentState.items=t.itemsChanged?o:this.currentState.items,this.currentState.dimensions=t.containerChanged?Object(r.a)({},n):this.currentState.dimensions,this.currentState.styles=t.stylesChanged?Object(r.a)({},a):this.currentState.styles)},e.prototype.needMoreItems=function(e){this.getMoreItems(e)},e}(),pe=i(180),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){if("true"!==w.a.getTopUrlParam("pgdebug"))return!1;var e=n.a.createElement("div",{className:"version-header "},"Pro Gallery Version #",S.a.staticsVersion),t="";try{t=" psw"+S.a.top.screen.width+" piw"+S.a.top.innerWidth+" pbw"+S.a.top.document.body.clientWidth}catch(r){}var i=n.a.createElement("div",{className:"version-header "},w.a.isLandscape()?"land":"port"," sw",S.a.screen.width,"sh",S.a.screen.height," iw",S.a.innerWidth," bw",S.a.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,t,"www",this.props.maxGalleryWidth);return n.a.createElement("div",null,e,i)},t}(pe.a),me=function(e){return"function"==typeof me.customImageRenderer?me.customImageRenderer(e):"string"==typeof e.src?n.a.createElement("img",Object(r.a)({alt:e.alt},e)):"object"==typeof e.src?n.a.createElement("picture",{id:"multi_picture_"+e.id,key:"multi_picture_"+e.id},e.src.map((function(e){return n.a.createElement("source",{srcSet:e.dpr||e.url,type:"image/"+e.type})})),n.a.createElement("img",Object(r.a)({alt:e.alt},e,{src:e.src[e.src.length-1].url}))):null},ge=me,ye=function(e){function t(t){var i=e.call(this,t)||this;return i.getImageContainer=i.getImageContainer.bind(i),i.getImageContainerClassNames=i.getImageContainerClassNames.bind(i),i.getImageElement=i.getImageElement.bind(i),i.state={isHighResImageLoaded:!1},i.removeLowResImageTimeoutId=void 0,i.handleHighResImageLoad=i.handleHighResImageLoad.bind(i),i}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(e){console.error(e)}},t.prototype.handleHighResImageLoad=function(){var e=this;this.removeLowResImageTimeoutId=setTimeout((function(){e.setState({isHighResImageLoaded:!0}),e.removeLowResImageTimeoutId=void 0}),1e3);try{this.props.actions.setItemLoaded()}catch(t){console.error("Failed to load high res image",t)}},t.prototype.componentWillUnmount=function(){void 0!==this.removeLowResImageTimeoutId&&clearTimeout(this.removeLowResImageTimeoutId)},t.prototype.getImageContainerClassNames=function(){var e=this.props.styleParams;return["gallery-item-content","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",e.cubeImages&&"fit"===e.cubeType?"grid-fit":"",e.imageLoadingMode===y.a.loadingMode.COLOR?"load-with-color":""].join(" ")},t.prototype.getImageContainer=function(e,t,i){var r=this.props,o=r.imageDimensions,a=r.id,s=r.actions;return n.a.createElement("div",{className:t,onTouchStart:s.handleItemMouseDown,onTouchEnd:s.handleItemMouseUp,key:"image_container-"+a,"data-hook":"image-item",style:o.borderRadius?{borderRadius:o.borderRadius}:{}},e(),i)},t.prototype.getImageAnimationOverlay=function(){var e=this.props,t=e.imageDimensions,i=e.styleParams,o=e.createUrl,a=e.id,s=null;switch(i.scrollAnimation){case y.a.scrollAnimations.BLUR:s=o(y.a.urlSizes.RESIZED,y.a.urlTypes.LOW_RES);break;case y.a.scrollAnimations.MAIN_COLOR:s=o(y.a.urlSizes.PIXEL,y.a.urlTypes.HIGH_RES)}return s&&n.a.createElement("div",{key:"image_container-overlay-"+a,"data-hook":"image-item-overlay",style:Object(r.a)(Object(r.a)({},t),{backgroundImage:"url("+s+")",backgroundSize:"cover",pointerEvents:"none",position:"absolute",top:0,left:0})})},t.prototype.getImageElement=function(){var e=this,t=this.props,i=t.alt,o=t.imageDimensions,a=t.createUrl,s=t.id,l=t.idx,h=t.settings,c=void 0===h?{}:h,u=t.styleParams,p=t.gotFirstScrollEvent,d=this.state.isHighResImageLoaded,m=c&&c.imageProps&&"function"==typeof c.imageProps?c.imageProps(s):{},g=o||{},f=(g.margin,Object(r.e)(g,["margin"]));return function(){var t=[],o=w.a.isMobile()&&!e.props.styleParams.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{},h=e.props.isPrerenderMode?{width:"100%",height:"100%"}:{};if(!d&&(p||c.forceImagePreload)){var g=null,v=Object(r.a)({className:"gallery-item-visible gallery-item gallery-item-preloaded",key:"gallery-item-image-img-preload","data-hook":"gallery-item-image-img-preload",loading:"eager"},m);switch(u.imageLoadingMode){case y.a.loadingMode.BLUR:g=n.a.createElement(ge,Object(r.a)({alt:"",key:"image_preload_blur-"+s,src:a(y.a.urlSizes.RESIZED,y.a.urlTypes.LOW_RES),style:Object(r.a)(Object(r.a)(Object(r.a)({},f),h),o)},v));break;case y.a.loadingMode.MAIN_COLOR:g=n.a.createElement(ge,Object(r.a)({alt:"",key:"image_preload_main_color-"+s,src:a(y.a.urlSizes.PIXEL,y.a.urlTypes.HIGH_RES),style:Object(r.a)(Object(r.a)(Object(r.a)({},f),h),o)},v))}t.push(g)}var b=!e.props.isPrerenderMode,I=Object(ce.d)()?a(y.a.urlSizes.RESIZED,y.a.urlTypes.SEO):a(y.a.urlSizes.MULTI,y.a.urlTypes.HIGH_RES),S=n.a.createElement(ge,Object(r.a)({key:"image_highres-"+s,className:"gallery-item-visible gallery-item gallery-item-preloaded","data-hook":"gallery-item-image-img","data-idx":l,src:I,alt:i||"untitled image",onLoad:e.handleHighResImageLoad,style:Object(r.a)(Object(r.a)(Object(r.a)({},f),o),!b&&h)},m));return t.push(S),t}},t.prototype.render=function(){var e=this.getImageElement(),t=this.getImageContainerClassNames(),i=this.getImageAnimationOverlay();return this.getImageContainer(e,t,i)},t}(pe.a),fe=function(e){function t(t){var i=e.call(this,t)||this;return"function"==typeof i.props.actions.setItemLoaded&&i.props.actions.setItemLoaded(),i}return Object(r.c)(t,e),t.prototype.getTextDimensions=function(){var e=this.props,t=e.style,i=e.styleParams,r=e.cubeRatio,o=t.ratio<r-.01,n=(o?t.height/t.maxHeight:t.width/t.maxWidth)*t.maxHeight,a=(o?t.height/t.maxHeight:t.width/t.maxWidth)*t.maxWidth,s="translate("+("fit"===i.cubeType?"0, 0":Math.round((t.width-a)/2)+"px, "+Math.round((t.height-n)/2)+"px")+") scale("+(o?t.height/t.maxHeight:t.width/t.maxWidth)+")";return{width:t.maxWidth+"px",height:t.maxHeight+"px",transformOrigin:"0 0",WebkitTransform:s,MsTransform:s,OTransform:s,transform:s}},t.prototype.processInnerhtml=function(e){try{return e.replace(/class="font_\d+"/gm,"")}catch(t){return e}},t.prototype.render=function(){var e=this.props,t=e.id,i=e.styleParams,o=e.html,a=e.style,s=e.actions,l=e.imageDimensions,h=this.processInnerhtml(o),c=this.getTextDimensions(),u={dangerouslySetInnerHTML:{__html:h}},p={style:Object.assign(c,"fit"===i.cubeType?{backgroundColor:a.bgColor}:{})},d=Object(r.a)(Object(r.a)({},u),p),m={height:l&&!this.props.isPrerenderMode?l.height:"inherit",backgroundColor:"fit"!==i.cubeType?a.bgColor:"inherit"};return l&&l.borderRadius&&(m.borderRadius=l.borderRadius),n.a.createElement("div",{className:"gallery-item-content",style:m},n.a.createElement("div",Object(r.a)({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+t,onTouchStart:s.handleItemMouseDown,onTouchEnd:s.handleItemMouseUp,"data-hook":"text-item"},d)))},t}(pe.a),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getHoverClass=function(){var e=this.props,t=e.styleParams,i=e.forceShowHover,r=["gallery-item-hover"];return r.push("fullscreen-"+(t.fullscreen?"enabled":"disabled")),w.a.isUndefined(t.itemOpacity)&&r.push("default"),i?r.push("force-hover"):w.a.isMobile()&&r.push("hide-hover"),r.join(" ")},t.prototype.shouldRenderHoverInnerIfExist=function(){var e=this.props,t=e.itemWasHovered,i=e.styleParams,r=i.hoveringBehaviour,o=i.overlayAnimation,n=i.alwaysShowHover,a=i.previewHover,s=y.a.infoBehaviourOnHover.APPEARS,l=y.a.overlayAnimations.NO_EFFECT;return!!n||(!(!Object(ce.a)()||!a)||(r!==s||o===l||t))},t.prototype.render=function(){var e=this.props,t=e.imageDimensions,i=e.actions,r=e.idx,o=e.renderCustomInfo,a=this.getHoverClass();return n.a.createElement("div",{className:a,key:"item-hover-"+r,"data-hook":"item-hover-"+r,"aria-hidden":!0,style:t&&t.borderRadius?{borderRadius:t.borderRadius}:{}},n.a.createElement("div",{style:{height:"100%"},onTouchStart:i.handleItemMouseDown,onTouchEnd:i.handleItemMouseUp},this.shouldRenderHoverInnerIfExist()&&o?n.a.createElement("div",{className:"gallery-item-hover-inner"},o()):null))},t}(pe.a),be=new(function(){function e(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(S.a.screen.width,S.a.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}return e.prototype.calcScrollPaddings=function(){var e=this;this.allPagePadding=function(){return[1/0,1/0]},this.inScreenPadding=function(){return[0,0]},this.aboveScreenPadding=function(){return[0,1/0]},this.justBelowScreenPadding=function(t){return[1/0,-1*(t+e.screenSize)]},this.justBelowAndAboveScreenPadding=function(){return[2560,1/0]},this.justBelowAndInScreenPadding=function(){return[5120,0]},this.belowScreenPadding=function(){return[1/0,0]},this.highResPadding=function(){return[5120,1/0]},this.lowResPadding=function(){return[10240,1/0]}},e.prototype.getSellectorDomId=function(e){var t=e.id,i=e.idx;return"pgi"+String(t).replace(/[\W]+/g,"")+"_"+i},e.prototype.buildScrollClassName=function(e,t,i){var r=String(e).replace(/[\W]+/g,"").slice(-8);return this.pgScrollClassName+"_"+r+"_"+i+"-"+(this.pgScrollSteps[t]+Number(i))},e.prototype.calcScrollClasses=function(e,t){var i=this;return this.pgScrollClassName+"-"+t+" "+this.pgScrollSteps.map((function(r,o){return i.buildScrollClassName(e,o,Math.floor(t/r)*r)})).join(" ")},e.prototype.calcScrollCss=function(e){var t=this,i=e.domId,r=e.items,o=e.styleParams,n=e.container;if(w.a.isVerbose()&&console.time("CSS Scroll"),!r||!r.length)return[];var a=o.scrollAnimation;if(!a||a===y.a.scrollAnimations.NO_EFFECT)return[];this.screenSize=o.oneRow?Math.min(S.a.outerWidth,S.a.screen.width,n.galleryWidth):Math.min(S.a.outerHeight,S.a.screen.height),!o.oneRow&&w.a.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings();var s=r.slice(-1)[0].offset,l=s.top,h=s.right,c=this.pgScrollSteps[0];this.minHeight=0-c,this.maxHeight=(Math.ceil(((o.oneRow?h:l)+this.screenSize)/c)+1)*c;var u=r.map((function(e){return t.calcScrollCssForItem({domId:i,item:e,styleParams:o})}));return w.a.isVerbose()&&console.timeEnd("CSS Scroll"),u},e.prototype.shouldCalcScrollCss=function(e){var t=e.type;return"video"!==t&&"text"!==t},e.prototype.createScrollSelectorsFunction=function(e){var t=this,i=e.domId,r=e.item,o=e.styleParams,n=o.oneRow?r.offset.left-this.screenSize:r.offset.top-this.screenSize,a=o.oneRow?r.offset.left+r.width:r.offset.top+r.height,s=this.pgScrollSteps[this.pgScrollSteps.length-1],l=this.getSellectorDomId(r);return function(e,r){var o=e[0],h=e[1];if(o===1/0&&h===1/0)return"#pro-gallery-"+i+" #"+l+" "+r;for(var c,u,p=(c=n-o,u=s,Math.floor(Math.max(t.minHeight,c)/u)*u),d=function(e,i){return Math.ceil(Math.min(t.maxHeight,e)/i)*i}(a+h,s),m=[];p<d;){var g=t.pgScrollSteps.findIndex((function(e){return p%e==0&&p+e<=d}));if(-1===g){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",p,"\nto =",d,"\npadding[0] =",e[0],"\npadding[1] =",e[1]);break}m.push("."+t.buildScrollClassName(i,g,p)+" ~ div #"+l+" "+r),p+=t.pgScrollSteps[g]}return m.join(", ")}},e.prototype.calcScrollCssForItem=function(e){var t=e.domId,i=e.item,r=e.styleParams,o=i.idx,n="",a=this.createScrollSelectorsFunction({domId:t,item:i,styleParams:r});return n+=this.createScrollAnimationsIfNeeded({idx:o,item:i,styleParams:r,createScrollSelectors:a}),this.scrollCss[o]=n||this.scrollCss[o],this.scrollCss[o]},e.prototype.createScrollAnimationsIfNeeded=function(e){var t=e.idx,i=e.styleParams,r=e.createScrollSelectors,o=i.isRTL,n=i.oneRow,a=i.scrollAnimation;if(!a||a===y.a.scrollAnimations.NO_EFFECT)return"";var s=100*(t%3+1),l=100*(t%3+1),h=this.allPagePadding(),c=this.aboveScreenPadding(),u="";if(a!==y.a.scrollAnimations.MAIN_COLOR&&a!==y.a.scrollAnimations.BLUR||(u+=r(h,' [data-hook="image-item-overlay"]')+"{filter: opacity(1); transition: filter 1."+l+"s ease-in "+s+"ms !important;}",u+=r(c,' [data-hook="image-item-overlay"]')+"{filter: opacity(0) !important;}"),a===y.a.scrollAnimations.FADE_IN&&(u+=r(h," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 1."+l+"s ease-in !important;}",u+=r(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"),a===y.a.scrollAnimations.GRAYSCALE&&(u+=r(h," .gallery-item-wrapper")+"{filter: grayscale(100%); transition: filter 1."+(200+l)+"s ease-in !important;}",u+=r(c," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),a===y.a.scrollAnimations.SLIDE_UP){var p=n?"X":"Y",d=o?"-":"";u+=r(h,"")+"{overflow: visible !important;}"+r(h," > div")+"{transform: translate"+p+"("+d+"100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}",u+=r(c," > div")+"{transform: translate"+p+"(0) !important;}"}if(a===y.a.scrollAnimations.EXPAND&&(u+=r(h," > div")+"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",u+=r(c," > div")+"{transform: scale(1) !important;}"),a===y.a.scrollAnimations.SHRINK&&(u+=r(h,"")+"{overflow: visible !important;}"+r(h," > div")+"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",u+=r(c," > div")+"{transform: scale(1) !important;}"),a===y.a.scrollAnimations.ZOOM_OUT&&(u+=r(h," .gallery-item-wrapper")+"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",u+=r(c," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),a===y.a.scrollAnimations.ONE_COLOR){var m=i.oneColorAnimationColor&&i.oneColorAnimationColor.value?i.oneColorAnimationColor.value:"transparent";u+=r(h,"")+"{background-color: "+m+";}",u+=r(h," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 0."+(600+l)+"s ease-in !important;}",u+=r(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return u},e}());function Ie(e){return Object(r.a)({},(e.imageInfoType===y.a.infoType.ATTACHED_BACKGROUND||y.a.hasHoverPlacement(e.titlePlacement))&&Object(r.a)(Object(r.a)({},Se(e.itemBorderRadius,e.itemBorderWidth,e.itemBorderColor)),function(e){var t={};if(e.itemEnableShadow){var i=e.itemShadowBlur,r=e.itemShadowDirection,o=e.itemShadowSize,n=-1*(Number(r)-90)/360*2*Math.PI;t={boxShadow:Math.round(o*Math.cos(n))+"px "+Math.round(-1*o*Math.sin(n))+"px "+i+"px "+w.a.formatColor(e.itemShadowOpacityAndColor)}}return t}(e)))}function we(e){return Object(r.a)({},!y.a.hasHoverPlacement(e.titlePlacement)&&(e.imageInfoType===y.a.infoType.NO_BACKGROUND||e.imageInfoType===y.a.infoType.SEPARATED_BACKGROUND)&&Object(r.a)({},Se(e.itemBorderRadius,e.itemBorderWidth,e.itemBorderColor)))}function Se(e,t,i){return Object(r.a)({overflow:"hidden",borderRadius:e,borderWidth:t+"px",borderColor:w.a.formatColor(i)},t&&{borderStyle:"solid"})}function Oe(e,t,i,o){var n=Object(r.a)(Object(r.a)({},y.a.hasHorizontalPlacement(e)&&{height:i,float:y.a.isRightPlacement(e)?"right":"left"}),y.a.hasVerticalPlacement(e)&&{height:o,boxSizing:"content-box"});return t.imageInfoType===y.a.infoType.SEPARATED_BACKGROUND?Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},n),Se(t.textBoxBorderRadius,t.textBoxBorderWidth,t.textBoxBorderColor)),y.a.hasAbovePlacement(e)&&{marginBottom:t.textImageSpace}),y.a.hasBelowPlacement(e)&&{marginTop:t.textImageSpace}):n}function xe(e,t,i,o){var n=Object(r.a)(Object(r.a)({},(t.imageInfoType===y.a.infoType.SEPARATED_BACKGROUND||t.imageInfoType===y.a.infoType.ATTACHED_BACKGROUND)&&t.textBoxFillColor&&t.textBoxFillColor.value&&{backgroundColor:t.textBoxFillColor.value}),{overflow:"hidden",boxSizing:"border-box"}),a=y.a.hasVerticalPlacement(e),s=y.a.hasHorizontalPlacement(e);return Object(r.a)(Object(r.a)(Object(r.a)({},n),a&&function(e,t){return{width:"100%",height:t}}(0,i)),s&&function(e,t){return{height:"100%",width:t}}(0,o))}var Ee=i(1),Ce=i.n(Ee),Pe=function(e){var t=e.size,i=Object(r.e)(e,["size"]);return n.a.createElement("svg",Object(r.a)({viewBox:"0 0 60 60",fill:"currentColor",width:t||"60",height:t||"60"},i),n.a.createElement("path",{d:"M30,0c16.6,0,30,13.4,30,30S46.6,60,30,60C13.4,60,0,46.6,0,30S13.4,0,30,0z",fillRule:"evenodd",clipRule:"evenodd"}))};Pe.displayName="play_background",Pe.propTypes={size:Ce.a.string};var Le=Pe,Te=function(e){var t=e.size,i=Object(r.e)(e,["size"]);return n.a.createElement("svg",Object(r.a)({viewBox:"0 0 60 60",fill:"currentColor",width:t||"60",height:t||"60"},i),n.a.createElement("path",{d:"M41.5,30l-17,10V20L41.5,30z"}))};Te.displayName="play_triangle",Te.propTypes={size:Ce.a.string};var Me=Te,Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.videoControls,t=this.getImageContainerClassNames()+" video-item gallery-item-video",i=this.getImageElement();return this.getImageContainer(i,t,e)},t}(ye),Ae=n.a.createElement("div",null,n.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},n.a.createElement(Me,null)),n.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},n.a.createElement(Le,null))),ke=function(e){function t(t){var i=e.call(this,t)||this;return i.mightPlayVideo=i.mightPlayVideo.bind(i),i.createVideoItemPlaceholder=i.createVideoItemPlaceholder.bind(i),i.state={VideoItemLoaded:!1},i}return Object(r.c)(t,e),t.prototype.mightPlayVideo=function(){var e=this.props.styleParams,t=e.videoPlay,i=e.itemClick,r=this.props.hasLink;return!this.props.isVideoPlaceholder&&("hover"===t||"auto"===t||("nothing"===i||"link"===i&&!r))},t.prototype.createVideoItemPlaceholder=function(e){var t=w.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings","actions"]);return n.a.createElement(Re,Object(r.a)({},t,{key:"videoPlaceholder",imageDimensions:this.props.imageDimensions,isThumbnail:!!this.props.thumbnailHighlightId,id:this.props.idx,videoControls:e&&!this.mightPlayVideo()&&Ae}))},t.prototype.componentDidMount=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:if(Object(ce.a)())return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i.e(66).then(i.bind(null,1003))];case 2:return e=t.sent(),this.VideoItem=e.default,this.mightPlayVideo()&&this.setState({VideoItemLoaded:!0}),[3,4];case 3:return t.sent(),console.error("Failed to fetch VideoItem"),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this.props.hover,t=!this.props.hidePlay&&this.props.styleParams.showVideoPlayButton,i=this.createVideoItemPlaceholder(t),o=this.VideoItem;return this.mightPlayVideo()&&o?n.a.createElement(o,Object(r.a)({},this.props,{videoPlaceholder:i,videoControls:t&&Ae})):n.a.createElement("div",null,i,e)},t}(ye),_e=function(e){function t(t){var i=e.call(this,t)||this;return i.shouldUseDirectLink=function(){var e=i.props.directLink||{},t=e.url,r=e.target,o=!(!t||!r||"link"!==i.props.styleParams.itemClick);return i.shouldShowHoverOnMobile()&&i.isClickOnCurrentHoveredItem()&&o?(i.props.actions.eventsListener(y.a.events.HOVER_SET,-1),!0):!(!o||i.shouldShowHoverOnMobile())},i.isClickOnCurrentHoveredItem=function(){return i.state.isCurrentHover},i.props.actions.eventsListener(y.a.events.ITEM_CREATED,i.props),i.init(),i.state={isCurrentHover:!1,itemWasHovered:!1},i.activeElement="",i}return Object(r.c)(t,e),t.prototype.init=function(){this.onItemClick=this.onItemClick.bind(this),this.onItemWrapperClick=this.onItemWrapperClick.bind(this),this.onItemInfoClick=this.onItemInfoClick.bind(this),this.onContainerKeyDown=this.onContainerKeyDown.bind(this),this.onAnchorKeyDown=this.onAnchorKeyDown.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.isHighlight=this.isHighlight.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.changeActiveElementIfNeeded=this.changeActiveElementIfNeeded.bind(this),this.checkIfCurrentHoverChanged=this.checkIfCurrentHoverChanged.bind(this),this.getCustomInfoRendererProps=this.getCustomInfoRendererProps.bind(this)},t.prototype.setItemLoaded=function(){this.props.actions.eventsListener(y.a.events.ITEM_LOADED,this.props),this.setState({loaded:!0})},t.prototype.isIconTag=function(e){return["button","i","a","svg","path"].indexOf(e.toLowerCase())>=0},t.prototype.onMouseOver=function(){w.a.isMobile()||this.props.actions.eventsListener(y.a.events.HOVER_SET,this.props.idx)},t.prototype.onMouseOut=function(){w.a.isMobile()||this.props.actions.eventsListener(y.a.events.HOVER_SET,-1)},t.prototype.onFocus=function(){this.props.styleParams.isAccessible&&this.props.actions.eventsListener(y.a.events.HOVER_SET,this.props.idx),this.props.actions.eventsListener(y.a.events.ITEM_FOCUSED,this.props)},t.prototype.onBlur=function(){this.props.styleParams.isAccessible&&this.props.actions.eventsListener(y.a.events.HOVER_SET,-1),this.props.actions.eventsListener(y.a.events.ITEM_LOST_FOCUS,this.props)},t.prototype.onContainerKeyDown=function(e){switch(e.keyCode||e.charCode){case 32:case 13:return e.stopPropagation(),this.onItemClick(e,"item-container",!1),this.shouldUseDirectLink()&&this.itemAnchor.click(),!1;default:return!0}},t.prototype.onAnchorKeyDown=function(e){switch(e.keyCode||e.charCode){case 32:case 13:return e.stopPropagation(),this.onItemClick(e,"item-container",!1),!1;default:return!0}},t.prototype.handleGalleryItemAction=function(e){this.props.actions.eventsListener(y.a.events.ITEM_ACTION_TRIGGERED,this.props,e)},t.prototype.onItemWrapperClick=function(e){this.onItemClick(e,"item-media")},t.prototype.onItemInfoClick=function(e){this.onItemClick(e,"item-info")},t.prototype.onItemClick=function(e,t,i){void 0===i&&(i=!0),w.a.isFunction(w.a.get(S.a,"galleryWixCodeApi.onItemClicked"))&&S.a.galleryWixCodeApi.onItemClicked(this.props),this.props.actions.eventsListener(y.a.events.ITEM_CLICKED,Object(r.a)(Object(r.a)({},this.props),{clickTarget:t}),e),this.shouldUseDirectLink()||(i&&e.preventDefault(),this.shouldShowHoverOnMobile()?this.handleHoverClickOnMobile(e):this.handleGalleryItemAction(e))},t.prototype.handleHoverClickOnMobile=function(e){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemAction(e),this.props.actions.eventsListener(y.a.events.HOVER_SET,-1)):this.props.actions.eventsListener(y.a.events.HOVER_SET,this.props.idx)},t.prototype.handleItemMouseDown=function(){return!0},t.prototype.handleItemMouseUp=function(){return w.a.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0},t.prototype.shouldShowHoverOnMobile=function(){if(w.a.isMobile()){var e=this.props.styleParams,t=e.titlePlacement,i=e.hoveringBehaviour,r=e.itemClick,o=e.alwaysShowHover,n=e.previewHover,a=e.allowDescription,s=e.allowTitle,l=e.isStoreGallery,h=O.supports.mobileSettings;if(i===y.a.infoBehaviourOnHover.NEVER_SHOW)return!1;if("nothing"===r&&"video"!==this.props.type)return!0;if(this.props.customHoverRenderer&&y.a.hasHoverPlacement(t)&&i!==y.a.infoBehaviourOnHover.NEVER_SHOW&&h&&(a||s||l))return!0;if(o)return!0;if(Object(ce.a)()&&n)return!0}return!1},t.prototype.isHighlight=function(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id},t.prototype.shouldHover=function(){var e=this.props.styleParams,t=e.alwaysShowHover,i=e.previewHover,r=e.hoveringBehaviour,o=e.overlayAnimation,n=y.a.infoBehaviourOnHover,a=n.NEVER_SHOW,s=n.APPEARS,l=y.a.overlayAnimations.NO_EFFECT;return r!==a&&(!0===t||(!(!Object(ce.a)()||!i)||!(r===s&&o===l&&!this.state.itemWasHovered)&&(!w.a.isMobile()||this.shouldShowHoverOnMobile())))},t.prototype.getImageDimensions=function(){var e=this.props,t=e.styleParams,i=e.cubeRatio,r=e.style,o=r.ratio>=i,n=Math.round((r.height*r.ratio-r.width)/-2),a=Math.round((r.width/r.ratio-r.height)/-2),s=t.cubeImages&&"fit"===t.cubeType,l={};return s?s&&o?l={height:r.height-2*a,width:r.width,margin:a+"px 0"}:s&&!o&&(l={width:r.width-2*n,height:r.height,margin:"0 "+n+"px"}):l={width:r.width,height:r.height},t.itemBorderRadius&&t.imageInfoType!==y.a.infoType.ATTACHED_BACKGROUND&&(l.borderRadius=t.itemBorderRadius+"px"),l},t.prototype.getItemHover=function(e){var t=this,i=this.props,o=i.customHoverRenderer,a=Object(r.e)(i,["customHoverRenderer"]);return this.shouldHover()&&n.a.createElement(ve,Object(r.a)({},a,{forceShowHover:this.simulateOverlayHover(),imageDimensions:e,itemWasHovered:this.state.itemWasHovered,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},renderCustomInfo:o?function(){return o(t.getCustomInfoRendererProps())}:null}))},t.prototype.getCustomInfoRendererProps=function(){return Object(r.a)(Object(r.a)({},this.props),{isMobile:w.a.isMobile()})},t.prototype.getImageItem=function(e){var t=w.a.pick(this.props,["gotFirstScrollEvent","alt","title","description","id","idx","styleParams","createUrl","settings","isPrerenderMode"]);return n.a.createElement(ye,Object(r.a)({},t,{key:"imageItem",imageDimensions:e,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},t.prototype.getVideoItem=function(e,t){return n.a.createElement(ke,Object(r.a)({},this.props,{playing:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:t,imageDimensions:e,hasLink:this.itemHasLink(),actions:Object(r.a)(Object(r.a)({},this.props.actions),{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))},t.prototype.getTextItem=function(e){var t=w.a.pick(this.props,["id","styleParams","style","html","cubeRatio","isPrerenderMode"]);return n.a.createElement(fe,Object(r.a)({},t,{key:"textItem",imageDimensions:e,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},t.prototype.getItemInner=function(){var e,t=this,i=this.props,o=i.styleParams,a=i.type,s=this.getImageDimensions(),l=s.width,h=s.height,c=s.margin,u={width:l,height:h},p=c&&Number(c.replace("0 ","").replace("px","")),d=p?{width:"calc(100% + "+2*p+"px)",margin:"0 -"+p+"px"}:{},m=null;switch((this.shouldHover()||o.isSlideshow)&&(m=this.getItemHover(u)),a){case"dummy":e=n.a.createElement("div",null);break;case"video":e=this.getVideoItem(u,m);break;case"text":e=[this.getTextItem(u),m];break;case"image":case"picture":default:e=this.props.isVideoPlaceholder?this.getVideoItem(u,m):[this.getImageItem(u),m]}if(o.isSlideshow){var g=this.props.customSlideshowInfoRenderer,y=this.getSlideAnimationStyles(),f=Object(r.a)(Object(r.a)(Object(r.a)({height:o.slideshowInfoSize+"px",bottom:"-"+o.slideshowInfoSize+"px"},d),y),{transition:"none"}),v=g?g(this.getCustomInfoRendererProps()):null,b=this.props,I=b.photoId,w=b.id,S=b.idx;e=n.a.createElement("div",null,n.a.createElement("a",Object(r.a)({ref:function(e){return t.itemAnchor=e},"data-id":I,"data-idx":S,key:"item-container-link-"+w},this.getLinkParams(),{tabIndex:-1,style:Object(r.a)(Object(r.a)({},y),{width:l,height:h})}),e),n.a.createElement("div",{className:"gallery-slideshow-info","data-hook":"gallery-slideshow-info-buttons",style:f},v))}return e},t.prototype.getRightInfoElementIfNeeded=function(){return y.a.hasRightPlacement(this.props.styleParams.titlePlacement,this.props.idx)?this.getExternalInfoElement(y.a.placements.SHOW_ON_THE_RIGHT,"gallery-item-right-info"):null},t.prototype.getLeftInfoElementIfNeeded=function(){return y.a.hasLeftPlacement(this.props.styleParams.titlePlacement,this.props.idx)?this.getExternalInfoElement(y.a.placements.SHOW_ON_THE_LEFT,"gallery-item-left-info"):null},t.prototype.getBottomInfoElementIfNeeded=function(){return y.a.hasBelowPlacement(this.props.styleParams.titlePlacement,this.props.idx)?this.getExternalInfoElement(y.a.placements.SHOW_BELOW,"gallery-item-bottom-info"):null},t.prototype.getTopInfoElementIfNeeded=function(){return y.a.hasAbovePlacement(this.props.styleParams.titlePlacement,this.props.idx)?this.getExternalInfoElement(y.a.placements.SHOW_ABOVE,"gallery-item-top-info"):null},t.prototype.getExternalInfoElement=function(e,t){var i=this.props,r=i.styleParams,o=i.customInfoRenderer,a=i.style;if(!o)return null;var s=r.textBoxHeight+(this.hasRequiredMediaUrl?0:a.height),l=a.infoWidth+(this.hasRequiredMediaUrl?0:a.width),h=o(this.getCustomInfoRendererProps(),e);return n.a.createElement("div",{style:Oe(e,r,a.height,r.textBoxHeight)},n.a.createElement("div",{style:xe(e,r,s,l),className:"gallery-item-common-info "+t,onClick:this.onItemInfoClick},h))},t.prototype.simulateHover=function(){return this.state.isCurrentHover||!0===this.props.styleParams.alwaysShowHover||Object(ce.a)()&&this.props.styleParams.previewHover},t.prototype.simulateOverlayHover=function(){return this.simulateHover()||this.props.styleParams.hoveringBehaviour===y.a.infoBehaviourOnHover.NO_CHANGE},t.prototype.itemHasLink=function(){var e=this.props,t=e.linkData,i=e.linkUrl;return!(void 0===t.type&&(void 0===i||""===i))},t.prototype.getItemContainerStyles=function(){var e,t=this.props,i=t.idx,o=t.currentIdx,n=t.offset,a=t.style,s=t.styleParams,l=t.settings,h=void 0===l?{}:l,c=s.oneRow,u=s.imageMargin,p=s.itemClick,d=s.isRTL,m=s.slideAnimation,g=Ie(s),f=!this.itemHasLink(),v={overflowY:s.isSlideshow?"visible":"hidden",position:"absolute",bottom:"auto",margin:c?u/2+"px":0,cursor:p===y.a.itemClick.NOTHING||p===y.a.itemClick.LINK&&f?"default":"pointer"},b=h.avoidInlineStyles,I=this.props.isPrerenderMode&&!this.props.settings.disableSSROpacity,w=b?{}:{opacity:I?0:1,display:I?"none":"block",transition:"opacity .2s ease"},S=b?{}:{top:n.top,left:d?"auto":n.left,right:d?n.left:"auto",width:a.width+a.infoWidth,height:a.height+a.infoHeight};switch(m){case y.a.slideAnimations.FADE:e={left:d?"auto":0,right:d?0:"auto",pointerEvents:o===i?"auto":"none",zIndex:o===i?0:1};break;case y.a.slideAnimations.DECK:e={left:d?"auto":0,right:d?0:"auto",pointerEvents:o===i?"auto":"none",zIndex:Math.sign(o-i)};break;default:e={}}var O=this.state.loaded&&(Object(ce.a)()||Object(ce.c)())?{transition:"all .4s ease",transitionProperty:"top, left, width, height, opacity"}:{transition:"none"};return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},v),S),g),O),w),e)},t.prototype.getItemWrapperStyles=function(){var e=this.props,t=e.styleParams,i=e.style,o=e.type,n=i.height,a={};a.backgroundColor="text"===o?"fit"!==t.cubeType?"transparent":"inherit":("fit"!==t.cubeType?i.bgColor:"inherit")||"transparent",a.margin=-t.itemBorderWidth+"px",a.height=n+"px";var s=this.getImageDimensions();return Object(r.a)(Object(r.a)(Object(r.a)({},a),s),!t.isSlideshow&&this.getSlideAnimationStyles())},t.prototype.getSlideAnimationStyles=function(){var e=this.props,t=e.idx,i=e.currentIdx,o=e.styleParams,n=e.container,a=o.isRTL,s={position:"absolute",display:"block"};switch(o.slideAnimation){case y.a.slideAnimations.FADE:return Object(r.a)(Object(r.a)({},s),{transition:"opacity 600ms ease",opacity:i===t?1:0});case y.a.slideAnimations.DECK:var l=a?1:-1;if(i<t)return Object(r.a)(Object(r.a)({},s),{transition:"opacity .2s ease 600ms",zIndex:-1,opacity:0});if(i===t)return Object(r.a)(Object(r.a)({},s),{zIndex:0,transition:"transform 600ms ease",transform:"translateX(0)"});if(i>t)return Object(r.a)(Object(r.a)({},s),{zIndex:1,transition:"transform 600ms ease",transform:"translateX("+l*Math.round(n.width)+"px)"});break;default:return{}}},t.prototype.getItemAriaLabel=function(){var e,t=this.props,i=t.type,r=t.alt,o=t.styleParams;switch(i){case"dummy":e="";break;case"text":e="Text item";break;case"video":e=r||"Untitled video";break;default:e=r||"Untitled image"}return e+(o.isStoreGallery?", Buy Now":"")},t.prototype.getItemContainerClass=function(){var e=this.props.styleParams,t=!e.isSlideshow,i=e.imagePlacementAnimation,r=e.overlayAnimation,o=e.imageHoverAnimation,n={"gallery-item-container":!0,visible:!0,highlight:this.isHighlight(),clickable:"nothing"!==e.itemClick,"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&w.a.isMobile(),"invert-hover":e.hoveringBehaviour===y.a.infoBehaviourOnHover.DISAPPEARS,"animation-slide":t&&i===y.a.imagePlacementAnimations.SLIDE,"hover-animation-fade-in":t&&r===y.a.overlayAnimations.FADE_IN,"hover-animation-expand":t&&r===y.a.overlayAnimations.EXPAND,"hover-animation-slide-up":t&&r===y.a.overlayAnimations.SLIDE_UP,"hover-animation-slide-right":t&&r===y.a.overlayAnimations.SLIDE_RIGHT,"zoom-in-on-hover":t&&o===y.a.imageHoverAnimations.ZOOM_IN,"blur-on-hover":t&&o===y.a.imageHoverAnimations.BLUR,"grayscale-on-hover":t&&o===y.a.imageHoverAnimations.GRAYSCALE,"shrink-on-hover":t&&o===y.a.imageHoverAnimations.SHRINK,"invert-on-hover":t&&o===y.a.imageHoverAnimations.INVERT,"color-in-on-hover":t&&o===y.a.imageHoverAnimations.COLOR_IN,"darkened-on-hover":t&&o===y.a.imageHoverAnimations.DARKENED,"pro-gallery-mobile-indicator":w.a.isMobile()};return Object.entries(n).map((function(e){var t=e[0];return!!e[1]&&t})).filter(Boolean).join(" ")},t.prototype.getItemWrapperClass=function(){var e=this.props,t=e.styleParams,i=e.type,r=["gallery-item-wrapper","visible"];return t.cubeImages&&r.push("cube-type-"+t.cubeType),"text"===i&&r.push("gallery-item-wrapper-text"),r.join(" ")},t.prototype.getItemContainerTabIndex=function(){return this.isHighlight()?w.a.getTabIndex("currentThumbnail"):this.props.currentIdx===this.props.idx?w.a.getTabIndex("currentGalleryItem"):-1},t.prototype.changeActiveElementIfNeeded=function(e){var t=this;try{if((Object(ce.e)()||Object(ce.d)())&&!w.a.isMobile()&&S.a.document&&S.a.document.activeElement&&S.a.document.activeElement.className){var i=S.a.document.activeElement;(String(i.className).indexOf("gallery-item-container")>=0&&S.a.document.querySelector("#pro-gallery-"+t.props.domId+" #"+String(i.id))||String(i.className).indexOf("show-more")>=0&&S.a.document.querySelector("#pro-gallery-"+t.props.domId+" #"+String(i.id)))&&(this.props.thumbnailHighlightId!==e.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id||this.props.currentIdx!==e.currentIdx&&this.props.currentIdx===this.props.idx)&&this.itemContainer.focus()}}catch(r){console.error("Could not set focus to active element",r)}},t.prototype.componentDidMount=function(){if(w.a.isMobile())try{n.a.initializeTouchEvents(!0)}catch(e){}S.a.addEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},t.prototype.componentWillUnmount=function(){clearTimeout(this.itemLoadedTimeout),S.a.removeEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},t.prototype.componentDidUpdate=function(e){this.changeActiveElementIfNeeded(e)},t.prototype.checkIfCurrentHoverChanged=function(e){e.domId===this.props.domId&&(this.state.isCurrentHover||e.currentHoverIdx!==this.props.idx?this.state.isCurrentHover&&e.currentHoverIdx!==this.props.idx&&this.setState({isCurrentHover:!1}):this.setState({isCurrentHover:!0,itemWasHovered:!0}))},t.prototype.onContextMenu=function(e){w.a.isDev()||this.props.styleParams.allowContextMenu||e.preventDefault(e)},t.prototype.getItemAriaRole=function(){switch(this.props.styleParams.itemClick){case"expand":case"fullscreen":return"button";case"link":return"link";default:return""}},t.prototype.getLinkParams=function(){var e=this.props,t=e.directLink,i=e.styleParams,o=e.directShareLink,n=Object(ce.d)();if(i.itemClick===y.a.itemClick.LINK){var a=t||{},s=a.url,l=a.target,h=this.props.noFollowForSEO,c=n&&h?{rel:"nofollow"}:{};return!(!s||!l)?Object(r.a)({href:s,target:l},c):{}}if(i.itemClick===y.a.itemClick.FULLSCREEN||i.itemClick===y.a.itemClick.EXPAND){var u=!!(s=o);c=!i.shouldIndexDirectShareLinkInSEO?{rel:"nofollow"}:{};return u?Object(r.a)({href:s,"data-cancel-link":!0},c):{}}},t.prototype.composeItem=function(){var e=this,t=this.props,i=t.photoId,o=t.id,a=t.hash,s=t.idx,l=t.styleParams,h=t.type,c=t.url;this.hasRequiredMediaUrl=c||"text"===h;var u=l.titlePlacement!==y.a.placements.SHOW_ON_HOVER&&!this.hasRequiredMediaUrl,p=n.a.createElement("div",{className:this.getItemContainerClass(),onContextMenu:function(t){return e.onContextMenu(t)},id:be.getSellectorDomId(this.props),ref:function(t){return e.itemContainer=t},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onContainerKeyDown,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":a,"data-id":i,"data-idx":s,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+o,style:this.getItemContainerStyles()},this.getTopInfoElementIfNeeded(),this.getLeftInfoElementIfNeeded(),n.a.createElement("div",{style:Object(r.a)(Object(r.a)(Object(r.a)({},!this.props.styleParams.isSlideshow&&we(this.props.styleParams)),y.a.hasRightPlacement(this.props.styleParams.titlePlacement,this.props.idx)&&{float:"left"}),y.a.hasLeftPlacement(this.props.styleParams.titlePlacement,this.props.idx)&&{float:"right"})},!u&&n.a.createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+o,id:"item-wrapper-"+o,style:this.getItemWrapperStyles(),onClick:this.onItemWrapperClick},this.getItemInner())),this.getRightInfoElementIfNeeded(),this.getBottomInfoElementIfNeeded());return l.isSlideshow?p:n.a.createElement("a",Object(r.a)({ref:function(t){return e.itemAnchor=t},"data-id":i,"data-idx":s,key:"item-container-link-"+o},this.getLinkParams(),{tabIndex:-1,onKeyDown:function(t){e.onAnchorKeyDown(t)}}),p)},t.prototype.render=function(){return this.composeItem()},t}(pe.a),He=function(e){function t(t){var i=e.call(this,t)||this;return i.handleArrowKeys=i.handleArrowKeys.bind(i),i.showMoreItems=i.showMoreItems.bind(i),i.createGalleryConfig=i.createGalleryConfig.bind(i),i.screenLogs=i.screenLogs.bind(i),i.createGallery=i.createGallery.bind(i),i.id=Date.now()+"|"+Math.floor(1e4*Math.random()),i.state={currentIdx:0},i}return Object(r.c)(t,e),t.prototype.handleArrowKeys=function(e){var t=S.a.document.activeElement.getAttribute("data-idx");if(t){var i=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||function(){},r=Number(t),o=-1;switch(e.keyCode||e.charCode){case 38:o=i(r,"up");break;case 37:o=i(r,this.props.styleParams.isRTL?"right":"left");break;case 40:o=i(r,"down");break;case 39:o=i(r,this.props.styleParams.isRTL?"left":"right")}if(o>this.lastVisibleItemIdx()&&(o=r),o>=0)return e.preventDefault(),e.stopPropagation(),w.a.setStateAndLog(this,"Set Gallery Current Item",{currentIdx:o}),!1}return!0},t.prototype.lastVisibleItemIdxInHeight=function(e){for(var t=this.props.galleryStructure.items.length-1;t>=0;t--){if(this.props.galleryStructure.items[t].offset.top<e)return t}return this.items.length-1},t.prototype.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)},t.prototype.showMoreItems=function(){var e=this;if(this.props.styleParams.isAccessible)try{var t=this.lastVisibleItemIdx();w.a.setStateAndLog(this,"Focus on Last Gallery Item",{currentIdx:t+1},(function(){e.props.actions.toggleLoadMoreItems()}))}catch(i){console.warn("Cannot find item to focus",i)}else this.props.actions.toggleLoadMoreItems()},t.prototype.createGallery=function(e){var t,i=this.props,o=i.itemsLoveData,a=i.styleParams,s=i.container,l=i.galleryStructure,h=i.getVisibleItems,c=this.createGalleryConfig(),u=n.a.createElement(de,Object(r.a)({},this.props.debug));t=e?s.galleryHeight-138:l.height+"px";var p=h(l.galleryItems,s).map((function(e,t){return n.a.createElement(_e,e.renderProps(Object(r.a)(Object(r.a)(Object(r.a)({},c),o[e.id]),{visible:e.isVisible,key:"itemView-"+e.id+"-"+t})))}));return n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles "+(a.oneRow?" one-row slider hide-scrollbars ":"")+(a.isAccessible?" accessible ":"")+(a.isRTL?" rtl ":" ltr "),style:{height:t,overflowX:"hidden"},onKeyDown:this.handleArrowKeys},n.a.createElement("div",{id:"pro-gallery-margin-container",style:{margin:a.galleryMargin+"px",height:t,width:this.props.container.galleryWidth-a.imageMargin,overflow:"visible",position:"relative"}},u,p))},t.prototype.createGalleryConfig=function(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,styleParams:this.props.styleParams,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,domId:this.props.domId,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,noFollowForSEO:this.props.noFollowForSEO,isPrerenderMode:this.props.isPrerenderMode,firstUserInteractionExecuted:this.props.firstUserInteractionExecuted,actions:{eventsListener:this.props.actions.eventsListener}}},t.prototype.screenLogs=function(){return w.a.shouldDebug("screenLogs")?n.a.createElement("div",{className:"screen-logs"},"URL width: ",w.a.parseGetParam("width"),", Container:"," ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",S.a.innerWidth,", window.screen.width:"," ",S.a.screen.width):""},t.prototype.createShowMoreButton=function(){if("function"==typeof this.props.customLoadMoreRenderer)return n.a.createElement("div",{onClick:this.showMoreItems},this.props.customLoadMoreRenderer(this.props));var e=this.props.styleParams,t=!1;if(this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height){var i=e.loadMoreButtonText||"Load More";t=n.a.createElement("div",{className:"show-more-container"+(w.a.isMobile()?" pro-gallery-mobile-indicator":"")},n.a.createElement("button",{tabIndex:w.a.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.domId,className:"show-more",onClick:this.showMoreItems,onMouseDown:function(e){return e.preventDefault()},"data-hook":"show-more","aria-label":i},i))}return t},t.prototype.render=function(){w.a.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView styleParams",this.props.styleParams),console.log("[DEBUG_RENDER] GalleryView props changed",w.a.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=Object(r.a)({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",w.a.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=Object(r.a)({},this.state),this.renderCount=(this.renderCount||0)+1);var e=this.createShowMoreButton(),t=this.createGallery(e);w.a.isVerbose()&&console.timeEnd("Rendering Gallery took ");var i=this.screenLogs();return n.a.createElement("div",{className:"pro-gallery-parent-container",key:"pro-gallery-"+this.id,role:"region","aria-label":this.props.proGalleryRegionLabel},i,t,e)},t}(pe.a),Ne=function(e){function t(t){var i=e.call(this,t)||this;return i.displayName="GroupView",i.dom=[],i.state={},i}return Object(r.c)(t,e),t.prototype.createDom=function(e){var t=this;return this.props.items.map((function(i){return n.a.createElement(_e,Object(r.a)(Object(r.a)({},i.renderProps(Object(r.a)(Object(r.a)({},t.props.galleryConfig),{visible:e}))),t.props.itemsLoveData[i.id]))}))},t.prototype.shouldRender=function(){var e=this.props.items;return!!(e&&e.length&&e[0])},t.prototype.isVisible=function(){var e=this.props,t=e.items,i=e.galleryConfig;if(this.props.allowLoop){var r=t[t.length-1].idx,o=i.currentIdx,n=i.totalItemsCount,a=o-r,s=Math.floor(n/2);return Math.abs(a)<=s}return!0},t.prototype.render=function(){return this.shouldRender()?n.a.createElement("div",{key:"group_"+this.props.idx+"_"+this.props.items[0].id,"data-hook":"group-view","aria-hidden":this.props.ariaHidden},this.createDom(this.isVisible())):null},t}(pe.a);var De=function(e){var t=e.size,i=Object(r.e)(e,["size"]);return n.a.createElement("svg",Object(r.a)({viewBox:"0 0 11 14",fill:"currentColor",width:t||"11",height:t||"14"},i),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};De.displayName="play",De.propTypes={size:Ce.a.string};var je=De,Ge=function(e){var t=e.size,i=Object(r.e)(e,["size"]);return n.a.createElement("svg",Object(r.a)({viewBox:"0 0 10 14",fill:"currentColor",width:t||"10",height:t||"14"},i),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};Ge.displayName="pause",Ge.propTypes={size:Ce.a.string};var ze=Ge,Fe=function(e){function t(t){var i=e.call(this,t)||this;return i.autoScrollToNextItem=function(){if(!Object(ce.a)()&&(function(e){try{var t=!!(e&&Number.isInteger(e.scrollBase)&&Number.isInteger(e.galleryHeight)&&S.a&&S.a.document&&S.a.document.documentElement&&(Number.isInteger(S.a.document.documentElement.scrollTop)||S.a.document.scrollingElement&&Number.isInteger(S.a.document.scrollingElement.scrollTop))&&Number.isInteger(S.a.document.documentElement.offsetHeight)),i=t&&e.scrollBase+e.galleryHeight>S.a.document.documentElement.scrollTop,r=t&&e.scrollBase<(S.a.document.documentElement.scrollTop||S.a.document.scrollingElement.scrollTop)+S.a.document.documentElement.offsetHeight;return i&&r||!t}catch(o){return console.warn("Could not calculate viewport",o),!0}}(i.props.container)||Object(ce.c)())){var e=i.props.styleParams.isRTL?-1:1;i._next({direction:e,isAutoTrigger:!0,scrollDuration:800})}},i.navigationOutHandler=i.navigationOutHandler.bind(i),i.navigationInHandler=i.navigationInHandler.bind(i),i.scrollToThumbnail=i.scrollToThumbnail.bind(i),i.stopAutoSlideshow=i.stopAutoSlideshow.bind(i),i.onAutoSlideShowButtonClick=i.onAutoSlideShowButtonClick.bind(i),i.startAutoSlideshowIfNeeded=i.startAutoSlideshowIfNeeded.bind(i),i.blockAutoSlideshowIfNeeded=i.blockAutoSlideshowIfNeeded.bind(i),i.shouldStartAutoSlideshow=i.shouldStartAutoSlideshow.bind(i),i.handleSlideshowKeyPress=i.handleSlideshowKeyPress.bind(i),i.onAutoSlideshowAutoPlayKeyPress=i.onAutoSlideshowAutoPlayKeyPress.bind(i),i.setCurrentItemByScroll=i.setCurrentItemByScroll.bind(i),i._setCurrentItemByScroll=w.a.throttle(i.setCurrentItemByScroll,600).bind(i),i._next=w.a.throttle(i.next.bind(i),400).bind(i),i.state={currentIdx:t.currentIdx||0,isInView:!0,pauseAutoSlideshowClicked:!1,hideLeftArrow:!t.isRTL,hideRightArrow:t.isRTL,shouldBlockAutoSlideshow:!1},i.lastCurrentItem=void 0,i.shouldCreateSlideShowPlayButton=!1,i.shouldCreateSlideShowNumbers=!1,i.skipFromSlide=Math.round(1.5*i.props.totalItemsCount),i}return Object(r.c)(t,e),t.prototype.isFirstItem=function(){return 0===this.state.currentIdx},t.prototype.isScrollStart=function(){return this.props.styleParams.slideAnimation===y.a.slideAnimations.SCROLL&&(!!this.container&&this.getScrollLeft()<=1)},t.prototype.isScrollEnd=function(){var e=this.props,t=e.totalItemsCount,i=e.getVisibleItems,r=e.galleryStructure,o=e.container,n=this.props.styleParams,a=n.slideshowLoop,s=n.slideAnimation;if(a||s===y.a.slideAnimations.FADE||s===y.a.slideAnimations.DECK)return!1;if(this.container){var l=this.container,h=l.scrollWidth,c=l.clientWidth,u=this.getScrollLeft();return i(r.galleryItems,o).length>=t&&u+c>=h-1}return!1},t.prototype.isFirstItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollStart()},t.prototype.isLastItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollEnd()},t.prototype.isLastItem=function(){return!this.props.styleParams.slideshowLoop&&this.state.currentIdx>=this.props.totalItemsCount-1},t.prototype.createNewItemsForSlideshowLoopThumbnails=function(){var e=this.props.items,t=[],i=Math.ceil(this.props.container.galleryWidth/this.props.styleParams.thumbnailSize);Object.keys(e).forEach((function(o){var n,a=Number(o);t[n=a+i]=Object(r.a)({},e[o]),a>e.length-i-1&&(n=a-e.length+i,t[n]=Object(r.a)({},e[o])),a<i&&(n=a+i+e.length,t[n]=Object(r.a)({},e[o]))})),t.forEach((function(e,t){e.loopIndex=t})),this.ItemsForSlideshowLoopThumbnails=t,this.numOfThumbnails=i},t.prototype.next=function(e){var t=e.direction,i=e.isAutoTrigger,r=e.scrollDuration,o=e.isKeyboardNavigation,n=void 0!==o&&o,a=document.activeElement,s=a.className&&a.className.includes("gallery-item-container"),l=!n||!(this.props.styleParams.isAccessible&&s),h=!1;this.props.styleParams.slideAnimation!==y.a.slideAnimations.SCROLL&&(r=0,h=!0),t*=this.props.styleParams.isRTL?-1:1,l&&this.props.styleParams.groupSize>1?this.nextGroup({direction:t,isAutoTrigger:i,scrollDuration:r}):(l&&this.props.styleParams.isGrid&&this.props.styleParams.numberOfImagesPerCol&&(t*=this.props.styleParams.numberOfImagesPerCol),this.nextItem({direction:t,isAutoTrigger:i,scrollDuration:r,avoidIndividualNavigation:l,ignoreScrollPosition:h})),this.removeArrowsIfNeeded()},t.prototype.nextItem=function(e){var t=this,i=e.direction,r=e.isAutoTrigger,o=e.scrollDuration,n=e.avoidIndividualNavigation,a=e.ignoreScrollPosition;if(!this.isSliding){this.isSliding=!0;var s=(a?this.state.currentIdx:!n||this.props.styleParams.groupSize>1?r?this.setCurrentItemByScroll():this.state.currentIdx:this.getCenteredItemIdxByScroll())+i;this.props.styleParams.slideshowLoop||(s=Math.min(this.props.galleryStructure.items.length-1,s),s=Math.max(0,s));var l=this.props.actions.scrollToItem;if(this.isAutoScrolling=!0,r);else if(this.startAutoSlideshowIfNeeded(this.props.styleParams),i>=1&&this.isLastItem()||i<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var h=!r&&(i>=1&&this.isLastItemFullyVisible()||i<=-1&&this.isFirstItemFullyVisible()),c=this.getStyles().margin||0,u=o||this.props.styleParams.scrollDuration||400;(!h&&l(a?0:s,!1,!0,u,c)).then((function(){if(1===t.props.styleParams.groupSize){var e=t.skipFromSlide-t.props.totalItemsCount;s>=t.skipFromSlide&&l(s=e)}w.a.setStateAndLog(t,"Next Item",{currentIdx:s},(function(){t.onCurrentItemChanged(),t.isSliding=!1})),a&&(t.props.getMoreItemsIfNeeded(t.props.galleryStructure.galleryItems[s].offset.left),t.props.setGotFirstScrollIfNeeded())}))}catch(p){return console.error("Cannot proceed to the next Item",p),void this.stopAutoSlideshow()}}},t.prototype.nextGroup=function(e){var t=this,i=e.direction,r=e.isAutoTrigger,o=e.scrollDuration;if(!this.isSliding){this.isSliding=!0;var n=this.getCenteredGroupIdxByScroll()+i,a=this.props.actions.scrollToGroup;if(this.isAutoScrolling=!0,r)this.isLastItem()&&(n=0,o=0);else if(i>=1&&this.isLastItem()||i<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var s=!r&&(i>=1&&this.isLastItemFullyVisible()||i<=-1&&this.isFirstItemFullyVisible()),l=this.getStyles().margin||0,h=o||this.props.styleParams.scrollDuration||400;!s&&a(n,!1,!0,h,l),w.a.setStateAndLog(this,"Next Item",{currentIdx:this.getCenteredItemIdxByScroll()+i},(function(){t.onCurrentItemChanged(),t.isSliding=!1}))}catch(c){return console.error("Cannot proceed to the next Group",c),void this.stopAutoSlideshow()}}},t.prototype.onCurrentItemChanged=function(){if(this.lastCurrentItem!==this.state.currentIdx){this.lastCurrentItem=this.state.currentIdx;var e=this.props.galleryStructure.galleryItems[this.state.currentIdx],t=this.props.items[this.state.currentIdx];t&&(t.idx=this.state.currentIdx,t.resizedImageSrc=e.createUrl(y.a.urlSizes.RESIZED,y.a.urlTypes.HIGH_RES),this.props.actions.eventsListener(y.a.events.CURRENT_ITEM_CHANGED,t))}this.removeArrowsIfNeeded()},t.prototype.stopAutoSlideshow=function(){clearInterval(this.autoSlideshowInterval)},t.prototype.shouldStartAutoSlideshow=function(e){var t=e.isAutoSlideshow,i=e.autoSlideshowInterval;return t&&i>0&&!this.state.shouldBlockAutoSlideshow},t.prototype.startAutoSlideshowIfNeeded=function(e){this.stopAutoSlideshow(),this.shouldStartAutoSlideshow(e)&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem.bind(this),1e3*e.autoSlideshowInterval))},t.prototype.scrollToThumbnail=function(e,t){this.props.actions.eventsListener(y.a.events.THUMBNAIL_CLICKED,this.props),this.props.setGotFirstScrollIfNeeded(),this.next({direction:e-this.state.currentIdx,isAutoTrigger:!1,scrollDuration:t,isKeyboardNavigation:!1})},t.prototype.handleSlideshowKeyPress=function(e){switch(e.stopPropagation(),e.charCode||e.keyCode){case 38:case 37:case 33:return e.preventDefault(),this._next({direction:-1,isKeyboardNavigation:!0}),!1;case 39:case 40:case 32:case 34:return e.preventDefault(),this._next({direction:1,isKeyboardNavigation:!0}),!1}return!0},t.prototype.createThumbnails=function(e){var t=this,i=this.props.items,o=this.state.currentIdx;this.props.styleParams.slideshowLoop&&(this.ItemsForSlideshowLoopThumbnails||this.createNewItemsForSlideshowLoopThumbnails(),o+=this.numOfThumbnails,i=this.ItemsForSlideshowLoopThumbnails),w.a.isVerbose()&&console.log("creating thumbnails for idx",o);var a,s,l,h=this.props.styleParams.thumbnailSize,c=this.props.styleParams.thumbnailSize;switch(e){case"top":case"bottom":h=this.props.container.galleryWidth+this.props.styleParams.thumbnailSpacings,c=this.props.styleParams.thumbnailSize+this.props.styleParams.thumbnailSpacings,a=!0,s=Math.ceil(h/this.props.styleParams.thumbnailSize),l=Math.floor((h+this.props.styleParams.thumbnailSpacings)/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings));break;case"left":case"right":c=this.props.container.galleryHeight+2*this.props.styleParams.thumbnailSpacings,h=this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings,a=!1,s=Math.ceil(c/this.props.styleParams.thumbnailSize),l=Math.floor(c/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings))}this.firstItemIdx=o-Math.floor(s/2)-1,this.lastItemIdx=this.firstItemIdx+s,this.firstItemIdx<0&&(this.lastItemIdx-=this.firstItemIdx,this.firstItemIdx=0),this.lastItemIdx>i.length-1&&(this.firstItemIdx-=this.lastItemIdx-(i.length-1),this.firstItemIdx<0&&(this.firstItemIdx=0),this.lastItemIdx=i.length-1),(s=this.lastItemIdx-this.firstItemIdx+1)%2==0&&i.length>s&&this.lastItemIdx<i.length-1&&(s+=1,this.lastItemIdx+=1);var u,p=s*this.props.styleParams.thumbnailSize+(2*(s-1)+1)*this.props.styleParams.thumbnailSpacings,d={width:h,height:c};if(i.length<=l||o<s/2-1)switch(e){case"top":case"bottom":d.width=p+"px",d.left=0;break;case"left":case"right":d.height=p+"px",d.marginTop=0}else if(o>s/2-1&&o<i.length-s/2)switch(e){case"top":case"bottom":d.width=p+"px",d.left=(h-p)/2+"px";break;case"left":case"right":d.height=p+"px",d.marginTop=(c-p)/2+"px"}else if(o>=i.length-s/2)switch(e){case"top":case"bottom":d.left=h-p+"px",d.overflow="visible";break;case"left":case"right":d.top=c-p+"px",d.overflow="visible"}this.props.styleParams.isRTL&&(d.right=d.left,delete d.left);var m=this.props.styleParams.thumbnailSpacings;switch(this.props.styleParams.galleryThumbnailsAlignment){case"bottom":u=m+"px -"+m+"px 0 -"+m+"px";break;case"left":u="-"+m+"px "+m+"px -"+m+"px 0";break;case"top":u="0 -"+m+"px "+m+"px -"+m+"px";break;case"right":u="-"+m+"px 0 -"+m+"px "+m+"px"}var g,f=Math.floor(s/2);g=this.props.styleParams.slideshowLoop?i.slice(this.firstItemIdx,this.lastItemIdx+1):this.props.galleryStructure.galleryItems.slice(this.firstItemIdx,this.lastItemIdx+1);var v=this.props.styleParams.thumbnailSize;return n.a.createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(a?" one-row hide-scrollbars ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr ")+(this.props.styleParams.isAccessible?" accessible ":""),style:{width:h,height:c,margin:u},"data-hook":"gallery-thumbnails"},n.a.createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign(d,{width:h,height:c})},g.map((function(e,i){var s,l,h=t.props.styleParams.slideshowLoop?(l=e.itemId||e.photoId,t.props.galleryStructure.galleryItems.find((function(e){return e.id===l}))):e,c=t.props.styleParams.slideshowLoop?i===f:h.idx===o,u={width:v,height:v,margin:m,backgroundImage:"url("+h.createUrl(y.a.urlSizes.THUMBNAIL,y.a.urlTypes.HIGH_RES)+")"},p=a?((s={})[t.props.styleParams.isRTL?"right":"left"]=v*i+2*i*m,s):{top:v*i+2*i*m};return Object.assign(u,p),n.a.createElement("div",{key:"thumbnail-"+h.id+(Number.isInteger(e.loopIndex)?"-"+e.loopIndex:""),className:"thumbnailItem"+(c?" pro-gallery-thumbnails-highlighted gallery-item-container highlight"+(w.a.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":h.id,style:u,onClick:function(){return t.scrollToThumbnail(h.idx)}},"text"===e.type?n.a.createElement(fe,Object(r.a)({},t.props,h.renderProps(),{actions:{},imageDimensions:u,style:Object(r.a)(Object(r.a)({},h.renderProps().style),u)})):null)}))))},t.prototype.getCenteredItemIdxByScroll=function(){var e,t=this.getScrollLeft(),i=this.props.galleryStructure.galleryItems,r=t+this.props.container.galleryWidth/2;if(0===r)e=0;else for(var o=void 0,n=0;o=i[n];n++)if(o.offset.left>r){e=n-1;break}return e>=0||(e=i.length-1),e},t.prototype.getCenteredGroupIdxByScroll=function(){var e,t=this.getScrollLeft(),i=this.props.galleryStructure.groups,r=t+this.props.container.galleryWidth/2;if(0===r)e=0;else for(var o=void 0,n=0;o=i[n];n++)if(o.left>r){e=n-1;break}return e>=0||(e=i.length-1),e},t.prototype.setCurrentItemByScroll=function(){var e=this;if(w.a.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)this.isAutoScrolling=!1;else{if(!("true"===(this.container&&this.container.getAttribute("data-scrolling")))){this.startAutoSlideshowIfNeeded(this.props.styleParams);var t=this.getCenteredItemIdxByScroll();return w.a.isUndefined(t)||w.a.setStateAndLog(this,"Set Current Item",{currentIdx:t},(function(){e.onCurrentItemChanged()})),t}this.stopAutoSlideshow()}},t.prototype.createDebugMsg=function(){return n.a.createElement(de,Object(r.a)({},this.props.debug))},t.prototype.createNavArrows=function(){var e,t=this,i=this.props.styleParams,o=i.isRTL,a=i.oneRow,s=i.arrowsColor,l=i.isSlideshow,h=i.slideshowInfoSize,c=i.imageMargin,u=i.arrowsSize,p=i.arrowsPadding,d=i.arrowsPosition,m=i.arrowsVerticalPosition,g=i.titlePlacement,f=i.textBoxHeight,v=i.showArrows,b=this.state,I=b.hideLeftArrow,S=b.hideRightArrow;if(this.props.isPrerenderMode||!v||this.props.galleryStructure.columns.some((function(e){var i=(e.groups.filter((function(e){return e.rendered}))||[]).reduce((function(e,t){return e+Math.max(0,t.width)}),0);return a&&t.props.container.galleryWidth>=i})))return null;var O,x,E=this.props.customNavArrowsRenderer;if(E)O=E,x=u;else{var C={transform:"scale("+u/23+")"},P={};w.a.isMobile()&&void 0!==s&&(P.fill=s.value),x=3*u,O=function(e){return"left"===e?n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:C},n.a.createElement("path",{className:"slideshow-arrow",style:P,d:"M154.994,259.522L153.477,261l-18.471-18,18.473-18,1.519,1.48L138.044,243Z",transform:"translate(-133 -225)"})):"right"===e?n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:C},n.a.createElement("path",{className:"slideshow-arrow",style:P,d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})):void 0}}var L=this.props.container.galleryHeight,T=(x-u)/2,M=l?h:f,R=l?L:L-M,A={width:x+"px",height:x+"px",padding:"0 "+T+"px 0 "+T+"px",top:"calc(50% - "+x/2+"px + "+c/4+"px - "+(l||y.a.hasVerticalPlacement(g)?(e={},e[y.a.arrowsVerticalPosition.ITEM_CENTER]=0,e[y.a.arrowsVerticalPosition.IMAGE_CENTER]=M,e[y.a.arrowsVerticalPosition.INFO_CENTER]=-R,e)[m]:0)/2+"px)"},k=a&&d===y.a.arrowsPosition.OUTSIDE_GALLERY?"-"+(u+x/2+10)+"px":c/2+(p||0)+"px",_={left:k},H={right:k};return[I?null:n.a.createElement("button",{className:"nav-arrows-container prev "+(w.a.isMobile()?"pro-gallery-mobile-indicator ":""),onClick:function(){return t._next({direction:-1})},"aria-label":(o?"Next":"Previous")+" Item",tabIndex:w.a.getTabIndex("slideshowPrev"),key:"nav-arrow-back","data-hook":"nav-arrow-back",style:Object(r.a)(Object(r.a)({},A),_)},O("left")),S?null:n.a.createElement("button",{className:"nav-arrows-container next",onClick:function(){return t._next({direction:1})},"aria-label":(o?"Previous":"Next")+" Item",tabIndex:w.a.getTabIndex("slideshowNext"),key:"nav-arrow-next","data-hook":"nav-arrow-next",style:Object(r.a)(Object(r.a)({},A),H)},O("right"))]},t.prototype.createLayout=function(){var e=this,t=this.props,i=t.itemsLoveData,o=t.getVisibleItems,a=t.galleryStructure,s=t.container,l={scrollingElement:this.props.scrollingElement,totalItemsCount:this.props.totalItemsCount,scroll:this.props.scroll,styleParams:this.props.styleParams,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,noFollowForSEO:this.props.noFollowForSEO,domId:this.props.domId,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,isPrerenderMode:this.props.isPrerenderMode,totalWidth:this.props.galleryStructure.width,firstUserInteractionExecuted:this.props.firstUserInteractionExecuted,actions:{eventsListener:this.props.actions.eventsListener}};return a.columns.map((function(t,a){var h={width:e.props.isPrerenderMode?"100%":t.width,height:s.galleryHeight};return e.props.styleParams.isSlideshow&&Object.assign(h,{paddingBottom:e.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{"data-hook":"gallery-column",id:"gallery-horizontal-scroll",className:"gallery-horizontal-scroll gallery-column hide-scrollbars "+(e.props.styleParams.isRTL?" rtl ":" ltr ")+" "+(e.props.styleParams.scrollSnap?" scroll-snap ":"")+" ",key:"column"+a,style:h},n.a.createElement("div",{className:"gallery-horizontal-scroll-inner"},function(t){var a=!!t.galleryGroups.length&&o(t.galleryGroups,s);return a&&a.map((function(t){return!!t.rendered&&n.a.createElement(Ne,Object(r.a)(Object(r.a)({allowLoop:e.props.styleParams.slideshowLoop&&e.props.galleryStructure.width>e.props.container.width,itemsLoveData:i},t.renderProps(l)),{ariaHidden:t.idx>e.skipFromSlide}))}))}(t)))}))},t.prototype.createGallery=function(){var e=this.props.styleParams.oneRow&&this.props.styleParams.arrowsPosition===y.a.arrowsPosition.OUTSIDE_GALLERY?{overflow:"visible",left:this.props.styleParams.arrowsSize+40+this.props.styleParams.imageMargin/2}:{},t=this.props.isPrerenderMode?{width:"100%",height:this.props.container.galleryHeight}:{height:this.props.container.galleryHeight,width:this.props.container.galleryWidth},i=Object(r.a)(Object(r.a)({},t),e);return this.props.styleParams.isSlideshow&&Object.assign(i,{paddingBottom:this.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.styleParams.enableScroll?" slider ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr "),style:i},this.createDebugMsg(),this.createNavArrows(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers())},t.prototype.onAutoSlideShowButtonClick=function(){var e=this;this.setState({pauseAutoSlideshowClicked:!this.state.pauseAutoSlideshowClicked},(function(){e.blockAutoSlideshowIfNeeded(e.props)}))},t.prototype.isFullWidthGallery=function(){return this.props.container.galleryWidth>=w.a.getWindowWidth()-10},t.prototype.onAutoSlideshowAutoPlayKeyPress=function(e){switch(e.keyCode||e.charCode){case 32:case 13:return e.preventDefault(),e.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}},t.prototype.calcSlideshowCounterWidth=function(){var e=this.props.totalItemsCount;return e<10?26:e<100?43:e<1e3?60:76},t.prototype.createAutoSlideShowPlayButton=function(){var e=this;if(!this.shouldCreateSlideShowPlayButton)return!1;var t=this.props.styleParams,i=t.galleryTextAlign,o=t.slideshowInfoSize,a=this.props.styleParams.imageMargin/2+(this.isFullWidthGallery()?50:0),s="right"===i?{left:a/2+"px"}:{right:a/2+(this.shouldCreateSlideShowNumbers?this.calcSlideshowCounterWidth():0)+"px"};return n.a.createElement("button",{className:"auto-slideshow-button",onClick:function(){e.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.pauseAutoSlideshowClicked,tabIndex:0,style:Object(r.a)({top:"calc(100% - "+o+"px + 3px)"},s)},this.state.pauseAutoSlideshowClicked?n.a.createElement(je,{width:"10px",height:"100%"}):n.a.createElement(ze,{width:"10px",height:"100%"}))},t.prototype.createSlideShowNumbers=function(){if(!this.shouldCreateSlideShowNumbers)return!1;var e=this.props,t=e.totalItemsCount,i=e.styleParams,o=i.galleryTextAlign,a=i.slideshowInfoSize,s=this.props.styleParams.imageMargin/2+(this.isFullWidthGallery()?50:0),l=this.shouldCreateSlideShowPlayButton?s/2+25:s/2,h="right"===o?{left:l+"px"}:{right:s/2+"px"};return n.a.createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:Object(r.a)({top:"calc(100% - "+a+"px + 3px)"},h)},n.a.createElement("div",null,this.state.currentIdx%t+1+"/"+t))},t.prototype.getThumbnails=function(){var e=this.props.styleParams.hasThumbnails,t=this.props.styleParams.galleryThumbnailsAlignment,i=!!e&&this.createThumbnails(t),r=[];switch(t){case"top":case"left":r[0]=i,r[1]=!1;break;case"right":case"bottom":r[0]=!1,r[1]=i}return r},t.prototype.getClassNames=function(){var e="pro-gallery-parent-container";return this.props.styleParams.isSlideshow?e+=" gallery-slideshow":this.props.styleParams.isSlider?e+=" gallery-slider":this.props.styleParams.hasThumbnails?e+=" gallery-thumbnails":this.props.styleParams.isColumns&&(e+=" gallery-columns"),this.isFullWidthGallery()&&(e+=" streched"),e},t.prototype.getStyles=function(){return{margin:-1*(this.props.styleParams.imageMargin/2-this.props.styleParams.galleryMargin)}},t.prototype.getScrollLeft=function(){return this.container?(this.props.styleParams.isRTL?-1:1)*this.container.scrollLeft:0},t.prototype.blockAutoSlideshowIfNeeded=function(e){var t=this;void 0===e&&(e=this.props);var i=e.isGalleryInHover,r=this.state,o=r.pauseAutoSlideshowClicked,n=r.shouldBlockAutoSlideshow,a=!1;(!r.isInView||o||i&&e.styleParams.pauseAutoSlideshowOnHover)&&(a=!0),n!==a&&this.setState({shouldBlockAutoSlideshow:a},(function(){t.startAutoSlideshowIfNeeded(e.styleParams)}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.items&&(this.ItemsForSlideshowLoopThumbnails=!1),this.props.isInDisplay!==e.isInDisplay&&this.setState({isInView:e.isInDisplay},(function(){return t.blockAutoSlideshowIfNeeded(e)})),this.props.isGalleryInHover!==e.isGalleryInHover&&this.blockAutoSlideshowIfNeeded(e),this.props.currentIdx!==e.currentIdx&&w.a.setStateAndLog(this,"Next Item",{currentIdx:e.currentIdx},(function(){t.onCurrentItemChanged()})),this.props.totalItemsCount!==e.totalItemsCount&&this.removeArrowsIfNeeded(),(Object(ce.a)()||Object(ce.c)())&&(this.props.styleParams.isAutoSlideshow===e.styleParams.isAutoSlideshow&&this.props.styleParams.autoSlideshowInterval===e.styleParams.autoSlideshowInterval||this.startAutoSlideshowIfNeeded(e.styleParams));var i=5===e.styleParams.galleryLayout&&e.styleParams.isSlideshow&&e.styleParams.isAutoSlideshow;this.shouldCreateSlideShowPlayButton=i&&e.styleParams.playButtonForAutoSlideShow,this.shouldCreateSlideShowNumbers=i&&e.styleParams.allowSlideshowCounter},t.prototype.removeArrowsIfNeeded=function(){var e=this;setTimeout((function(){var t=e.props.styleParams.isRTL,i=e.state,r=i.hideLeftArrow,o=i.hideRightArrow,n=e.isScrollStart(),a=e.isFirstItem(),s=e.isScrollEnd(),l=e.isLastItem(),h=n||a,c=s||l,u=!t&&h||t&&c,p=t&&h||!t&&c;(!!u!=!!r||!!p!=!!o)&&e.setState({hideLeftArrow:!!u,hideRightArrow:!!p})}),50)},t.prototype.navigationOutHandler=function(){w.a.setStateAndLog(this,"Next Item",{isInView:!1}),this.stopAutoSlideshow()},t.prototype.navigationInHandler=function(){w.a.setStateAndLog(this,"Next Item",{isInView:!0}),this.startAutoSlideshowIfNeeded(this.props.styleParams)},t.prototype.componentDidMount=function(){S.a.addEventListener("gallery_navigation_out",this.navigationOutHandler),S.a.addEventListener("gallery_navigation_in",this.navigationInHandler),this.container=S.a.document.querySelector("#pro-gallery-"+this.props.domId+" #gallery-horizontal-scroll"),this.container&&this.container.addEventListener("scroll",this._setCurrentItemByScroll),this.state.currentIdx>0?(this.props.actions.scrollToItem(this.state.currentIdx),this.onCurrentItemChanged()):this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.styleParams)},t.prototype.componentWillUnmount=function(){S.a.removeEventListener("gallery_navigation_out",this.navigationOutHandler),S.a.removeEventListener("gallery_navigation_in",this.navigationInHandler),this.container&&this.container.removeEventListener("scroll",this._setCurrentItemByScroll)},t.prototype.render=function(){w.a.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));var e=this.createGallery(),t=this.getThumbnails();return w.a.isVerbose()&&console.timeEnd("Rendering Gallery took "),n.a.createElement("div",{className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress,role:"region","aria-label":this.props.proGalleryRegionLabel},t[0],e,t[1])},t}(pe.a),Be=i(378),We=function(e){function t(t){var i=e.call(this)||this;return i.state={scrollTop:0,scrollLeft:0},i.debouncedOnScroll=w.a.debounce(t.onScroll,50),i}return Object(r.c)(t,e),t.prototype.removeScrollListener=function(){if(this.scrollEventListenerSet){var e=this.props.scrollingElement;try{e.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(t){}try{this.props.oneRow&&e.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(t){}this.scrollEventListenerSet=!1}},t.prototype.initScrollListener=function(){var e=this;this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;var t=this.props.scrollingElement;this.onHorizontalScrollTransition=function(t){var i=t.detail,r=Math.round(i);r>=0&&e.props.oneRow&&e.setState({scrollTop:e.state.scrollTop+r,scrollLeft:e.state.scrollLeft+r})},this.onHorizontalScroll=function(t){e.props.setGotFirstScrollIfNeeded();var i=t.currentTarget||t.target||t,r=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);e.props.isRTL&&(o=Math.abs(o)),o>=0&&e.props.oneRow&&(e.setState({scrollTop:o,scrollLeft:o}),e.props.getMoreItemsIfNeeded(o),e.debouncedOnScroll({top:r,left:o}))};try{t.horizontal().addEventListener("scroll",this.onHorizontalScroll),t.horizontal().addEventListener("scrollTransition",this.onHorizontalScrollTransition)}catch(i){}this.onVerticalScroll=function(t){e.props.setGotFirstScrollIfNeeded();var i=t.currentTarget||t.target||t,r=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);e.props.isRTL&&(o=e.props.totalWidth-o),r>=0&&(e.props.oneRow||(e.setState({scrollTop:r}),e.props.getMoreItemsIfNeeded(r),e.debouncedOnScroll({top:r,left:o})))};try{t.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(i){}},t.prototype.componentWillUnmount=function(){this.removeScrollListener()},t.prototype.componentDidMount=function(){this.initScrollListener()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){for(var t=!1,i=0,r=["domId","oneRow","isRTL","totalWidth","scrollBase"];i<r.length;i++){var o=r[i];if(e[o]!==this.props[o]){t=!0;break}}t&&this.initScrollListener()},t.prototype.render=function(){var e=!this.props.oneRow&&this.props.scrollBase>0?this.props.scrollBase:0,t=this.state.scrollTop-e,i=this.props.domId;return n.a.createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":e,"data-scroll-top":this.state.scrollTop,className:be.calcScrollClasses(i,t),style:{display:"none"}})},t}(pe.a),Ue=function(e,t,i){void 0===e&&(e="");var r=i.isRTL,o="";return t.forEach((function(t){var i=function(e,t){return"#pro-gallery-"+e+" #"+be.getSellectorDomId(t)}(e,t),n=function(e){return{top:e.offset.top,left:e.offset.left,width:e.width+e.infoWidth,height:e.height+e.infoHeight,innerHeight:e.height}}(t),a="top:"+n.top+"px;",s=r?"right:"+n.left+"px;left:auto;":"left:"+n.left+"px;",l="width:"+n.width+"px;",h="height:"+n.height+"px;";o+=i+" {"+a+s+l+h+"}"})),o},Ve=function(){function e(e){this.left=0,this.top=0,this.setPlayingIdxState=e,this.handleEvent=function(){},this.onScroll=this.onScroll.bind(this),this.trigger={SCROLL:this.onScroll,INIT_SCROLL:function(){}},this.stop=function(){},this.initializePlayState=function(){}}return e.prototype.onScroll=function(e){var t=e.top,i=e.left;this.top=t||this.top,this.left=i||this.left},e.prototype.initVideoScrollHelperIfNeeded=function(e,t){var r=this;if(t.some((function(e){return e.metaData&&"video"===e.metaData.type||e.metadata&&"video"===e.metadata.type}))){var o={setPlayingVideos:Object(ce.a)()?function(){}:this.setPlayingIdxState};i.e(67).then(i.bind(null,1002)).then((function(t){Object.assign(r,new t.default(o)),r.updateGalleryStructure(e),r.onScroll({top:r.top,left:r.left})})).catch((function(e){console.error("Failed to load videoScrollHelper. error: "+e)}))}},e.prototype.updateGalleryStructure=function(e,t,i){t&&this.initVideoScrollHelperIfNeeded(e,i)},e}();var Ke=function(e,t,i){var r,o=i[e],n=function(e,t,r){var o,n,a,s=null,l={};return i.forEach((function(i){o=i.offset.top+i.height/2,n=i.offset.left+i.width/2,a=Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2)),(null===s||a>0&&a<s)&&r(e,t,n,o)&&(s=a,l=i)})),l};switch(t){case"up":r=n(o.offset.left+o.width/2,o.offset.top,(function(e,t,i,r){return r<t}));break;case"left":r=n(o.offset.left,o.offset.top+o.height/2,(function(e,t,i){return i<e}));break;case"down":r=n(o.offset.left+o.width/2,o.offset.bottom,(function(e,t,i,r){return r>t}));break;default:case"right":r=n(o.offset.right,o.offset.top+o.height/2,(function(e,t,i){return i>e}))}return r.idx>=0?r.idx:(console.warn("Could not find offset for itemIdx",e,t),e)},qe=function(e){function t(t){var i=e.call(this,t)||this;i.findNeighborItem=function(e,t){return Ke(e,t,i.state.structure.items)},w.a.isVerbose()&&console.count("[OOISSR] galleryContainer constructor",S.a.isMock),i.getMoreItemsIfNeeded=i.getMoreItemsIfNeeded.bind(i),i.setGotFirstScrollIfNeeded=i.setGotFirstScrollIfNeeded.bind(i),i.toggleLoadMoreItems=i.toggleLoadMoreItems.bind(i),i.scrollToItem=i.scrollToItem.bind(i),i.scrollToGroup=i.scrollToGroup.bind(i),i._scrollingElement=i.getScrollingElement(),i.eventsListener=i.eventsListener.bind(i),i.onGalleryScroll=i.onGalleryScroll.bind(i),i.setPlayingIdxState=i.setPlayingIdxState.bind(i),i.getVisibleItems=i.getVisibleItems.bind(i),i.findNeighborItem=i.findNeighborItem.bind(i),i.setCurrentSlideshowViewIdx=i.setCurrentSlideshowViewIdx.bind(i),i.getIsScrollLessGallery=i.getIsScrollLessGallery.bind(i),i.onMouseEnter=i.onMouseEnter.bind(i),i.onMouseLeave=i.onMouseLeave.bind(i),i.videoScrollHelper=new Ve(i.setPlayingIdxState);var o={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,viewComponent:null,firstUserInteractionExecuted:!1,isScrollLessGallery:i.getIsScrollLessGallery(i.props.styles),isInHover:!1};i.state=o,i.layoutCss=[],i.initialGalleryState={};try{var n=i.propsToState(t);Object.keys(n).length>0&&(i.initialGalleryState=n)}catch(a){console.warn("Cannot create initial state from props",a)}return i.state=Object(r.a)(Object(r.a)({},o),i.initialGalleryState),i}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(y.a.events.APP_LOADED,{}),this.videoScrollHelper.initializePlayState();try{"function"==typeof S.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=S.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(e){console.error("could not create 'current_hover_change' customEvent. Error =",e)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;!this.currentHoverChangeEvent.domId&&e.domId&&(this.currentHoverChangeEvent.domId=e.domId),this.props.currentIdx!==e.currentIdx&&e.currentIdx!==this.currentSlideshowViewIdx&&this.scrollToItem(e.currentIdx,!1,!0,0);var i=function(e){return{domId:e.domId,styles:e.styles,container:e.container,items:e.items,watermark:e.watermark,isInDisplay:e.isInDisplay}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var r,o=!0;try{var n=i(this.props),a=i(e);o=JSON.stringify(n)!==JSON.stringify(a),w.a.isVerbose()&&o&&console.log("New props arrived",w.a.printableObjectsDiff(n,a))}catch(s){console.error("Cannot compare props",s)}o&&(r=t.propsToState(e),Object.keys(r).length>0&&t.setState(r,t.handleNewGalleryStructure),e.currentIdx&&e.currentIdx>0&&this.scrollToItem(e.currentIdx,!1,!0,0),this.props.isInDisplay!==e.isInDisplay&&this.handleNavigation(e.isInDisplay))},t.prototype.handleNavigation=function(e){e?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},t.prototype.handleNewGalleryStructure=function(){var e=this.state,t=e.container,i=e.needToHandleShowMoreClick,r=e.initialGalleryHeight,o=this.props.styles,n=this.state.items.length,a=this.props.structure.height,s=this.props.structure.items,l="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!l&&i){h=t.height+(r-138)}var c={numOfItems:n,container:t,styleParams:o,layoutHeight:a,layoutItems:s,isInfinite:l,updatedHeight:h};w.a.isVerbose()&&console.log("handleNewGalleryStructure",c),this.eventsListener(y.a.events.GALLERY_CHANGE,c),i&&this.setState({needToHandleShowMoreClick:!1})},t.prototype.isVerticalGallery=function(){return!this.state.styles.oneRow},t.prototype.getIsScrollLessGallery=function(e){var t=e.oneRow,i=e.slideAnimation;return t&&i!==y.a.slideAnimations.SCROLL},t.prototype.getVisibleItems=function(e,t){var i=this.state.gotFirstScrollEvent,r=S.a.scrollY,o=t.galleryHeight,n=t.scrollBase,a=t.galleryWidth;if(w.a.isSSR()&&!this.props.settings.renderVisibleItemsInSsr||Object(ce.d)()||Object(ce.a)()||i||r>0||this.props.currentIdx>0)return e;var s=e;try{var l=S.a.innerHeight,h=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:n+o,c=r+l,u=Math.min(h,c)-n;(s=u<0?[]:this.isVerticalGallery()?e.filter((function(e){return e.offset.top<u})):e.filter((function(e){return e.left<=a+20}))).length<2&&s.length<e.length&&(s=e.slice(0,2))}catch(p){console.error("Could not calculate visible items, returning original items",p),s=e}return s},t.prototype.propsToState=function(e){var t=e.items,i=e.styles,r=e.structure,o=e.container,n=e.domId,a=e.resizeMediaUrl,s=e.isPrerenderMode,l=e.customImageRenderer;t=t||this.props.items,i=i||this.props.styles,o=o||this.props.container,r=r||this.props.structure,n=n||this.props.domId,a=a||this.props.resizeMediaUrl,"function"==typeof l&&(ge.customImageRenderer=l),this.galleryStructure=le.convertToGalleryItems(r,{thumbnailSize:i.thumbnailSize,sharpParams:i.sharpParams,resizeMediaUrl:a}),!Object(ce.d)()&&(Object(ce.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:n,items:this.galleryStructure.galleryItems,styleParams:i,container:o});var h={galleryStructure:this.galleryStructure,scrollBase:o.scrollBase,videoPlay:i.videoPlay,videoLoop:i.videoLoop,itemClick:i.itemClick,oneRow:i.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(h,!w.a.isSSR(),t);var c={items:t,container:o,styleParams:i,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};return this.createCssLayoutsIfNeeded(c),this.createDynamicStyles(i,s),{items:t,styles:i,container:o,structure:r,isScrollLessGallery:this.getIsScrollLessGallery(i)}},t.prototype.getScrollingElement=function(){var e=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return e.props.scrollingElement}:function(){return S.a},horizontal:function(){return S.a.document.querySelector("#pro-gallery-"+e.props.domId+" #gallery-horizontal-scroll")}}},t.prototype.scrollToItem=function(e,t,i,r,o){if(void 0===r&&(r=0),e>=0){var n=this._scrollingElement,a=n.horizontal();try{var s={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:e,fixedScroll:t,isManual:i,scrollingElement:n,horizontalElement:a,durationInMS:r};return Object(Be.d)(s)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(ce.a)()," isPreviewMode =",Object(ce.c)()," isSiteMode =",Object(ce.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},t.prototype.scrollToGroup=function(e,t,i,r,o){if(void 0===r&&(r=0),e>=0){var n=this._scrollingElement,a=n.horizontal();try{var s={scrollMarginCorrection:o,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:e,fixedScroll:t,isManual:i,scrollingElement:n,horizontalElement:a,durationInMS:r};return Object(Be.c)(s)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(ce.a)()," isPreviewMode =",Object(ce.c)()," isSiteMode =",Object(ce.e)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},t.prototype.containerInfiniteGrowthDirection=function(e){void 0===e&&(e=!1);var t=e||this.props.styles,i=this.props.styles.enableInfiniteScroll,r=this.state.showMoreClickedAtLeastOnce,o=t.oneRow,n=t.loadMoreAmount;return o?"horizontal":i||r&&"all"===n?"vertical":"none"},t.prototype.setPlayingIdxState=function(e){this.setState({playingVideoIdx:e})},t.prototype.onGalleryScroll=function(e){var t=e.top,i=e.left;this.videoScrollHelper.trigger.SCROLL({top:t,left:i})},t.prototype.createDynamicStyles=function(e,t){var i=e.overlayBackground,r=t&&!this.props.settings.disableSSROpacity;this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(i?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background: "+i+" !important}":"")+"\n    ").trim()},t.prototype.createCssLayoutsIfNeeded=function(e){var t=this.props.settings;(void 0===t?{}:t).avoidInlineStyles&&(this.layoutCss=function(e){var t=e.galleryItems,i=e.layoutParams,r=e.domId,o=[];return o.push(Ue(r,t,i.styleParams)),o}({layoutParams:e,isMobile:w.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems}))},t.prototype.getScrollCss=function(e){var t=e.domId,i=e.items,r=e.styleParams,o=e.container;this.scrollCss=be.calcScrollCss({items:i,styleParams:r,domId:t,container:o})},t.prototype.toggleLoadMoreItems=function(){var e=this;this.eventsListener(y.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(function(){e.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles,container:this.state.container});var t=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:t,needToHandleShowMoreClick:true},(function(){e.handleNewGalleryStructure()}))}},t.prototype.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles,container:this.state.container}),this.setState({gotFirstScrollEvent:!0}))},t.prototype.setCurrentSlideshowViewIdx=function(e){this.currentSlideshowViewIdx=e},t.prototype.simulateScrollToItem=function(e){(null==e?void 0:e.offset)&&this.onGalleryScroll(e.offset)},t.prototype.eventsListener=function(e,t,i){if(this.videoScrollHelper.handleEvent({eventName:e,eventData:t}),e===y.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=t,S.a.dispatchEvent(this.currentHoverChangeEvent)),e===y.a.events.CURRENT_ITEM_CHANGED&&(this.setCurrentSlideshowViewIdx(t.idx),this.state.isScrollLessGallery&&this.simulateScrollToItem(this.galleryStructure.items[t.idx])),!this.state.firstUserInteractionExecuted)switch(e){case y.a.events.HOVER_SET:case y.a.events.LOAD_MORE_CLICKED:case y.a.events.ITEM_ACTION_TRIGGERED:this.setState({firstUserInteractionExecuted:!0})}"function"==typeof this.props.eventsListener&&this.props.eventsListener(e,t,i)},t.prototype.getMoreItemsIfNeeded=function(e){var t=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var i=this.state.styles,r=i.oneRow,o=i.isRTL,n=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),a=S.a.screen[r?"width":"height"];n<(e?3*a:0)+(r&&o?e-n+a:e+a)&&(this.gettingMoreItems=!0,this.eventsListener(y.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){t.gettingMoreItems=!1}),2e3))}},t.prototype.canRender=function(){var e=this.props.container&&this.props.styles&&this.state.items;return!e&&w.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",e,this.props.container,this.props.styles,this.state.items),e},t.prototype.onMouseEnter=function(){this.setState({isInHover:!0})},t.prototype.onMouseLeave=function(){this.setState({isInHover:!1})},t.prototype.render=function(){if(!this.canRender())return null;var e=this.props.styles.oneRow?Fe:He;w.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.props.container.scrollBase,{props:this.props,items:this.state.items}));var t="none"===this.containerInfiniteGrowthDirection();return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container",className:this.props.isPrerenderMode?"pro-gallery-prerender":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n.a.createElement(We,{domId:this.props.domId,oneRow:this.props.styles.oneRow,isRTL:this.props.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.props.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),n.a.createElement(e,Object(r.a)({isInDisplay:this.props.isInDisplay,isPrerenderMode:this.props.isPrerenderMode,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,gotFirstScrollEvent:this.state.gotFirstScrollEvent,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,items:this.state.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.props.styles,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,displayShowMore:t,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,customNavArrowsRenderer:this.props.customNavArrowsRenderer,playingVideoIdx:this.state.playingVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,firstUserInteractionExecuted:this.state.firstUserInteractionExecuted,isGalleryInHover:this.state.isInHover,actions:Object(r.a)(Object(r.a)({},this.props.actions),{findNeighborItem:this.findNeighborItem,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup})},this.props.gallery)),n.a.createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"layoutCss-"+t,key:"layoutCss-"+t,dangerouslySetInnerHTML:{__html:e}})})),(this.scrollCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"scrollCss_"+t,key:"scrollCss_"+t,dangerouslySetInnerHTML:{__html:e}})})),!!this.dynamicStyles&&n.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})))},t}(n.a.Component),Ye=function(e){function t(t){var i=e.call(this)||this;return i.init(t),w.a.isLocal()&&!w.a.isTest()&&console.log("PRO GALLERY DEV"),i}return Object(r.c)(t,e),t.prototype.init=function(e){void 0!==e.viewMode&&ce.f.setViewMode(e.viewMode),void 0!==e.formFactor&&ce.f.setFormFactor(e.formFactor)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.viewMode!==e.viewMode&&(w.a.dumpCache(),ce.f.setViewMode(e.viewMode)),this.props.formFactor!==e.formFactor&&(w.a.dumpCache(),ce.f.setFormFactor(e.formFactor))},t.prototype.renderProps=function(){return Object(r.a)(Object(r.a)({},this.props),{domId:this.props.domId,items:this.props.items||[],watermarkData:this.props.watermarkData,settings:this.props.settings||{},offsetTop:this.props.offsetTop,itemsLoveData:this.props.itemsLoveData||{},proGalleryRegionLabel:this.props.proGalleryRegionLabel||"Gallery. you can navigate the gallery with keyboard arrow keys."})},t.prototype.containerProps=function(){return{id:"pro-gallery-"+this.props.domId,className:"pro-gallery"}},t.prototype.render=function(){return n.a.createElement("div",Object(r.a)({},this.containerProps()),n.a.createElement(qe,Object(r.a)({},this.renderProps())))},t}(pe.a),Ze={items:Ce.a.array.isRequired,container:Ce.a.object.isRequired,domId:Ce.a.string,scrollingElement:Ce.a.any,options:Ce.a.object,eventsListener:Ce.a.func,totalItemsCount:Ce.a.number,resizeMediaUrl:Ce.a.func},Xe=function(e){function t(t){var i=e.call(this)||this;return i.blueprintsManager=new ue({id:"layoutingGallery"}),i.domId=t.domId||"default-dom-id",i.isUsingCustomInfoElements=t.customHoverRenderer||t.customInfoRenderer||t.customSlideshowInfoRenderer,i.blueprintsManager.init({api:{isUsingCustomInfoElements:function(){return i.isUsingCustomInfoElements},fetchMoreItems:function(e){"function"==typeof t.eventsListener&&t.eventsListener(y.a.events.NEED_MORE_ITEMS,e)},onBlueprintReady:function(e){var t=e.blueprint,r=e.blueprintChanged,o=e.initialBlueprint;r?i.setBlueprint(t,o):w.a.isVerbose()&&console.count(">>> Blueprint not changed, not setting it")}}}),i.state={blueprint:i.blueprintsManager.createInitialBlueprint(t)||null},i.onNewProps(t,"constructor"),i}return Object(r.c)(t,e),t.prototype.setBlueprint=function(e,t){t||this.setState({blueprint:e})},t.prototype.onNewProps=function(e,t){var i=this,o=e.eventsListener,n=Object(r.e)(e,["eventsListener"]);this.galleryProps=Object(r.a)(Object(r.a)({},n),{eventsListener:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],n=e[1];r===y.a.events.NEED_MORE_ITEMS?i.blueprintsManager.getMoreItems(n):"function"==typeof o&&o.apply(void 0,e)},domId:this.domId}),t||this.blueprintsManager.createBlueprint(this.galleryProps).catch((function(e){console.error("Could not create a blueprint from the new props",e)}))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.onNewProps(e)},t.prototype.render=function(){var e=this.state.blueprint;return e&&Object.keys(e).length>0?n.a.createElement(Ye,Object(r.a)({},this.galleryProps,e)):null},t.propTypes=Ze,t}(n.a.Component),Je=function(e){function t(t){var i=e.call(this,t)||this;return i.domId=t.domId||"default-dom-id",i}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,i=e.options,o=e.styleParams,a=e.eventsListener,s=Object(r.e)(e,["styles","options","styleParams","eventsListener"]),l=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},f),i),t),o),h=Object(r.a)(Object(r.a)({},s),{styles:l,eventsListener:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof a&&a.apply(void 0,e)},domId:this.domId});return w.a.logPlaygroundLink(h.styles),h.styles&&h.items&&h.container&&h.structure?n.a.createElement(Ye,Object(r.a)({},h)):null},t.propTypes=Ze,t}(n.a.Component)}}]);