"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("@babel/runtime/helpers/extends"),lodash=require("lodash"),_objectWithoutPropertiesLoose=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),uuid=require("uuid");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var _RICOS_NODE_TYPE_TO_D,_extends__default=_interopDefaultLegacy(_extends),_objectWithoutPropertiesLoose__default=_interopDefaultLegacy(_objectWithoutPropertiesLoose);Object.freeze({ONE:"header-one",TWO:"header-two",THREE:"header-three",FOUR:"header-four",FIVE:"header-five",SIX:"header-six",PARAGRAPH:"unstyled"}),Object.freeze(["header-one","header-two","header-three","header-four","header-five","header-six","unordered-list-item","ordered-list-item","blockquote","atomic","code-block","unstyled"]);var _FROM_DRAFT_LIST_TYPE,_TO_RICOS_NODE_TYPE,_TO_RICOS_DECORATION_,_ENTITY_DECORATION_TO,_DRAFT_BLOCK_TYPE_TO_,_ENTITY_DECORATION_TO2,_TO_DRAFT_PLUGIN_TYPE,_TO_RICOS_PLUGIN_TYPE,BlockType,HeaderLevel,LINK_BUTTON_TYPE="wix-draft-plugin-link-button",ACTION_BUTTON_TYPE="wix-draft-plugin-action-button",DIVIDER_TYPE="wix-draft-plugin-divider",EMOJI_TYPE="wix-draft-plugin-emoji",FILE_UPLOAD_TYPE="wix-draft-plugin-file-upload",GALLERY_TYPE="wix-draft-plugin-gallery",GIPHY_TYPE="wix-draft-plugin-giphy",HTML_TYPE="wix-draft-plugin-html",IMAGE_TYPE="wix-draft-plugin-image",COLLAPSIBLE_LIST_TYPE="wix-rich-content-plugin-collapsible-list",LINK_PREVIEW_TYPE="wix-draft-plugin-link-preview",MAP_TYPE="wix-draft-plugin-map",TEXT_COLOR_TYPE="wix-rich-content-text-color",TEXT_HIGHLIGHT_TYPE="wix-rich-content-text-highlight",APP_EMBED_TYPE="wix-draft-plugin-vertical-embed",VIDEO_TYPE="wix-draft-plugin-video",POLL_TYPE="wix-draft-plugin-poll",TABLE_TYPE="wix-rich-content-plugin-table",RICOS_NODE_TYPE_TO_DATA_FIELD=((_RICOS_NODE_TYPE_TO_D={}).BUTTON="buttonData",_RICOS_NODE_TYPE_TO_D.DIVIDER="dividerData",_RICOS_NODE_TYPE_TO_D.FILE="fileData",_RICOS_NODE_TYPE_TO_D.GALLERY="galleryData",_RICOS_NODE_TYPE_TO_D.GIF="gifData",_RICOS_NODE_TYPE_TO_D.HTML="htmlData",_RICOS_NODE_TYPE_TO_D.IMAGE="imageData",_RICOS_NODE_TYPE_TO_D.COLLAPSIBLE_LIST="collapsibleListData",_RICOS_NODE_TYPE_TO_D.LINK_PREVIEW="linkPreviewData",_RICOS_NODE_TYPE_TO_D.MAP="mapData",_RICOS_NODE_TYPE_TO_D.APP_EMBED="appEmbedData",_RICOS_NODE_TYPE_TO_D.VIDEO="videoData",_RICOS_NODE_TYPE_TO_D.POLL="pollData",_RICOS_NODE_TYPE_TO_D.TABLE="tableData",_RICOS_NODE_TYPE_TO_D.TABLE_CELL="tableCellData",_RICOS_NODE_TYPE_TO_D.PARAGRAPH="paragraphData",_RICOS_NODE_TYPE_TO_D.LIST_ITEM="paragraphData",_RICOS_NODE_TYPE_TO_D.HEADING="headingData",_RICOS_NODE_TYPE_TO_D.CODE_BLOCK="codeBlockData",_RICOS_NODE_TYPE_TO_D.BLOCKQUOTE="paragraphData",_RICOS_NODE_TYPE_TO_D.EMBED="embedData",_RICOS_NODE_TYPE_TO_D.EXTERNAL="externalData",_RICOS_NODE_TYPE_TO_D);function fromEntries(iterable){return[].concat(iterable).reduce((function(obj,_ref){var key=_ref[0],val=_ref[1];return obj[key]=val,obj}),{})}!function(BlockType){BlockType.Unstyled="unstyled",BlockType.HeaderOne="header-one",BlockType.HeaderTwo="header-two",BlockType.HeaderThree="header-three",BlockType.HeaderFour="header-four",BlockType.HeaderFive="header-five",BlockType.HeaderSix="header-six",BlockType.UnorderedListItem="unordered-list-item",BlockType.OrderedListItem="ordered-list-item",BlockType.Blockquote="blockquote",BlockType.CodeBlock="code-block",BlockType.Atomic="atomic"}(BlockType||(BlockType={})),function(HeaderLevel){HeaderLevel[HeaderLevel["header-one"]=1]="header-one",HeaderLevel[HeaderLevel["header-two"]=2]="header-two",HeaderLevel[HeaderLevel["header-three"]=3]="header-three",HeaderLevel[HeaderLevel["header-four"]=4]="header-four",HeaderLevel[HeaderLevel["header-five"]=5]="header-five",HeaderLevel[HeaderLevel["header-six"]=6]="header-six"}(HeaderLevel||(HeaderLevel={}));var FROM_DRAFT_LIST_TYPE=((_FROM_DRAFT_LIST_TYPE={})[BlockType.UnorderedListItem]="BULLETED_LIST",_FROM_DRAFT_LIST_TYPE[BlockType.OrderedListItem]="ORDERED_LIST",_FROM_DRAFT_LIST_TYPE),TO_DRAFT_LIST_TYPE=fromEntries(Object.entries(FROM_DRAFT_LIST_TYPE).map((function(_ref){var key=_ref[0];return[_ref[1],key]}))),TO_RICOS_NODE_TYPE=((_TO_RICOS_NODE_TYPE={})[LINK_BUTTON_TYPE]="BUTTON",_TO_RICOS_NODE_TYPE[ACTION_BUTTON_TYPE]="BUTTON",_TO_RICOS_NODE_TYPE[DIVIDER_TYPE]="DIVIDER",_TO_RICOS_NODE_TYPE[FILE_UPLOAD_TYPE]="FILE",_TO_RICOS_NODE_TYPE[GALLERY_TYPE]="GALLERY",_TO_RICOS_NODE_TYPE[GIPHY_TYPE]="GIF",_TO_RICOS_NODE_TYPE[HTML_TYPE]="HTML",_TO_RICOS_NODE_TYPE[IMAGE_TYPE]="IMAGE",_TO_RICOS_NODE_TYPE.IMAGE="IMAGE",_TO_RICOS_NODE_TYPE[COLLAPSIBLE_LIST_TYPE]="COLLAPSIBLE_LIST",_TO_RICOS_NODE_TYPE[LINK_PREVIEW_TYPE]="LINK_PREVIEW",_TO_RICOS_NODE_TYPE[MAP_TYPE]="MAP",_TO_RICOS_NODE_TYPE[APP_EMBED_TYPE]="APP_EMBED",_TO_RICOS_NODE_TYPE[VIDEO_TYPE]="VIDEO",_TO_RICOS_NODE_TYPE["VIDEO-EMBED"]="VIDEO",_TO_RICOS_NODE_TYPE[POLL_TYPE]="POLL",_TO_RICOS_NODE_TYPE[TABLE_TYPE]="TABLE",_TO_RICOS_NODE_TYPE.EMBED="EMBED",_TO_RICOS_NODE_TYPE.EXTERNAL="EXTERNAL",_TO_RICOS_NODE_TYPE),DUPLICATE_KEYS=["IMAGE","VIDEO-EMBED"],FROM_RICOS_ENTITY_TYPE=fromEntries(Object.entries(TO_RICOS_NODE_TYPE).filter((function(_ref2){var key=_ref2[0];return!DUPLICATE_KEYS.includes(key)})).map((function(_ref3){var key=_ref3[0];return[_ref3[1],key]}))),TO_RICOS_DECORATION_TYPE=((_TO_RICOS_DECORATION_={BOLD:"BOLD",ITALIC:"ITALIC",UNDERLINE:"UNDERLINE"})["wix-rich-content-plugin-spoiler"]="SPOILER",_TO_RICOS_DECORATION_.ANCHOR="ANCHOR",_TO_RICOS_DECORATION_.mention="MENTION",_TO_RICOS_DECORATION_.LINK="LINK",_TO_RICOS_DECORATION_.EXTERNAL="EXTERNAL",_TO_RICOS_DECORATION_),TO_RICOS_INLINE_STYLE_TYPE={BOLD:{type:"BOLD",fontWeightValue:700},NOT_BOLD:{type:"BOLD",fontWeightValue:400},ITALIC:{type:"ITALIC",italicData:!0},NOT_ITALIC:{type:"ITALIC",italicData:!1},UNDERLINE:{type:"UNDERLINE",underlineData:!0},NOT_UNDERLINE:{type:"UNDERLINE",underlineData:!1}},TO_RICOS_PLUGIN_TYPE=_extends__default.default({},TO_RICOS_NODE_TYPE,TO_RICOS_DECORATION_TYPE),FROM_RICOS_DECORATION_TYPE=fromEntries(Object.entries(TO_RICOS_DECORATION_TYPE).map((function(_ref4){var key=_ref4[0];return[_ref4[1],key]}))),ENTITY_DECORATION_TO_MUTABILITY=((_ENTITY_DECORATION_TO={}).ANCHOR="MUTABLE",_ENTITY_DECORATION_TO.LINK="MUTABLE",_ENTITY_DECORATION_TO.mention="SEGMENTED",_ENTITY_DECORATION_TO.EMOJI_TYPE="IMMUTABLE",_ENTITY_DECORATION_TO),DRAFT_BLOCK_TYPE_TO_DATA_FIELD=((_DRAFT_BLOCK_TYPE_TO_={})[BlockType.Unstyled]="paragraphData",_DRAFT_BLOCK_TYPE_TO_[BlockType.UnorderedListItem]="paragraphData",_DRAFT_BLOCK_TYPE_TO_[BlockType.OrderedListItem]="paragraphData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderOne]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderTwo]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderThree]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderFour]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderFive]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.HeaderSix]="headingData",_DRAFT_BLOCK_TYPE_TO_[BlockType.CodeBlock]="codeBlockData",_DRAFT_BLOCK_TYPE_TO_[BlockType.Blockquote]="paragraphData",_DRAFT_BLOCK_TYPE_TO_),DRAFT_PLUGIN_TYPE_TO_DATA_FIELD=fromEntries(Object.entries(TO_RICOS_NODE_TYPE).map((function(_ref5){var key=_ref5[0],value=_ref5[1];return[key,RICOS_NODE_TYPE_TO_DATA_FIELD[value]]}))),ENTITY_DECORATION_TO_DATA_FIELD=((_ENTITY_DECORATION_TO2={}).ANCHOR="anchorData",_ENTITY_DECORATION_TO2.LINK="linkData",_ENTITY_DECORATION_TO2.mention="mentionData",_ENTITY_DECORATION_TO2.EMOJI_TYPE="emojiData",_ENTITY_DECORATION_TO2),TO_RICOS_DECORATION_DATA_FIELD=_extends__default.default({},ENTITY_DECORATION_TO_DATA_FIELD,{COLOR:"colorData"}),TO_RICOS_DATA_FIELD=_extends__default.default({},TO_RICOS_DECORATION_DATA_FIELD,DRAFT_PLUGIN_TYPE_TO_DATA_FIELD,DRAFT_BLOCK_TYPE_TO_DATA_FIELD);(_TO_DRAFT_PLUGIN_TYPE={})["ricos-divider"]=DIVIDER_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-file"]=FILE_UPLOAD_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-gallery"]=GALLERY_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-giphy"]=GIPHY_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-html"]=HTML_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-image"]=IMAGE_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-video"]=VIDEO_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-poll"]=POLL_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-link"]="LINK",_TO_DRAFT_PLUGIN_TYPE["ricos-mention"]="mention",_TO_DRAFT_PLUGIN_TYPE["ricos-text-highlight"]=TEXT_HIGHLIGHT_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-text-color"]=TEXT_COLOR_TYPE,_TO_DRAFT_PLUGIN_TYPE[DIVIDER_TYPE]=DIVIDER_TYPE,_TO_DRAFT_PLUGIN_TYPE[FILE_UPLOAD_TYPE]=FILE_UPLOAD_TYPE,_TO_DRAFT_PLUGIN_TYPE[GALLERY_TYPE]=GALLERY_TYPE,_TO_DRAFT_PLUGIN_TYPE[GIPHY_TYPE]=GIPHY_TYPE,_TO_DRAFT_PLUGIN_TYPE[HTML_TYPE]=HTML_TYPE,_TO_DRAFT_PLUGIN_TYPE[IMAGE_TYPE]=IMAGE_TYPE,_TO_DRAFT_PLUGIN_TYPE[VIDEO_TYPE]=VIDEO_TYPE,_TO_DRAFT_PLUGIN_TYPE[POLL_TYPE]=POLL_TYPE,_TO_DRAFT_PLUGIN_TYPE[TEXT_HIGHLIGHT_TYPE]=TEXT_HIGHLIGHT_TYPE,_TO_DRAFT_PLUGIN_TYPE[TEXT_COLOR_TYPE]=TEXT_COLOR_TYPE,_TO_DRAFT_PLUGIN_TYPE["ricos-indent"]="ricos-indent",_TO_DRAFT_PLUGIN_TYPE["ricos-line-spacing"]="ricos-line-spacing",_TO_DRAFT_PLUGIN_TYPE.EXTERNAL="EXTERNAL",(_TO_RICOS_PLUGIN_TYPE={})[DIVIDER_TYPE]="ricos-divider",_TO_RICOS_PLUGIN_TYPE[FILE_UPLOAD_TYPE]="ricos-file",_TO_RICOS_PLUGIN_TYPE[GALLERY_TYPE]="ricos-gallery",_TO_RICOS_PLUGIN_TYPE[GIPHY_TYPE]="ricos-giphy",_TO_RICOS_PLUGIN_TYPE[HTML_TYPE]="ricos-html",_TO_RICOS_PLUGIN_TYPE[IMAGE_TYPE]="ricos-image",_TO_RICOS_PLUGIN_TYPE[VIDEO_TYPE]="ricos-video",_TO_RICOS_PLUGIN_TYPE[POLL_TYPE]="ricos-poll",_TO_RICOS_PLUGIN_TYPE.LINK="ricos-link",_TO_RICOS_PLUGIN_TYPE.mention="ricos-mention",_TO_RICOS_PLUGIN_TYPE[COLLAPSIBLE_LIST_TYPE]="ricos-collapsible-list",_TO_RICOS_PLUGIN_TYPE[ACTION_BUTTON_TYPE]="ricos-action-button",_TO_RICOS_PLUGIN_TYPE[LINK_BUTTON_TYPE]="ricos-link-button",_TO_RICOS_PLUGIN_TYPE["code-block"]="ricos-code-block",_TO_RICOS_PLUGIN_TYPE[EMOJI_TYPE]="ricos-emoji",_TO_RICOS_PLUGIN_TYPE["wix-draft-plugin-hashtag"]="ricos-hashtag",_TO_RICOS_PLUGIN_TYPE["wix-draft-plugin-headers-markdown"]="ricos-headers-markdown",_TO_RICOS_PLUGIN_TYPE["wix-rich-content-plugin-indent"]="ricos-indent",_TO_RICOS_PLUGIN_TYPE["line-spacing"]="ricos-line-spacing",_TO_RICOS_PLUGIN_TYPE[TABLE_TYPE]="ricos-table",_TO_RICOS_PLUGIN_TYPE["wix-draft-plugin-external-link"]="ricos-external-link",_TO_RICOS_PLUGIN_TYPE[LINK_PREVIEW_TYPE]="ricos-link-preview",_TO_RICOS_PLUGIN_TYPE["wix-rich-content-plugin-spoiler"]="ricos-spoiler",_TO_RICOS_PLUGIN_TYPE["wix-rich-content-undo-redo"]="ricos-undo-redo",_TO_RICOS_PLUGIN_TYPE["wix-rich-content-plugin-headings"]="ricos-heading-dropdown",_TO_RICOS_PLUGIN_TYPE[MAP_TYPE]="ricos-map",_TO_RICOS_PLUGIN_TYPE["wix-draft-plugin-sound-cloud"]="ricos-sound-cloud",_TO_RICOS_PLUGIN_TYPE[TEXT_COLOR_TYPE]="ricos-text-color",_TO_RICOS_PLUGIN_TYPE[TEXT_HIGHLIGHT_TYPE]="ricos-text-highlight",_TO_RICOS_PLUGIN_TYPE["wix-draft-plugin-vertical-embed"]="ricos-vertical-embed";var __assign$s=function(){return(__assign$s=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseTextStyle={textAlignment:"AUTO"},TextStyle_fromJSON=function(object){var message=__assign$s({},baseTextStyle);return void 0!==object.textAlignment&&null!==object.textAlignment?message.textAlignment=function(object){switch(object){case 0:case"AUTO":return"AUTO";case 1:case"LEFT":return"LEFT";case 2:case"RIGHT":return"RIGHT";case 3:case"CENTER":return"CENTER";case 4:case"JUSTIFY":return"JUSTIFY";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.textAlignment):message.textAlignment="AUTO",void 0!==object.lineHeight&&null!==object.lineHeight?message.lineHeight=String(object.lineHeight):message.lineHeight=void 0,message},TextStyle_toJSON=function(message){var obj={};return void 0!==message.textAlignment&&(obj.textAlignment=function(object){switch(object){case"AUTO":return"AUTO";case"LEFT":return"LEFT";case"RIGHT":return"RIGHT";case"CENTER":return"CENTER";case"JUSTIFY":return"JUSTIFY";default:return"UNKNOWN"}}(message.textAlignment)),void 0!==message.lineHeight&&(obj.lineHeight=message.lineHeight),obj},baseLink={target:"SELF"},Link_fromJSON=function(object){var message=__assign$s({},baseLink);return void 0!==object.url&&null!==object.url?message.url=String(object.url):message.url=void 0,void 0!==object.anchor&&null!==object.anchor?message.anchor=String(object.anchor):message.anchor=void 0,void 0!==object.target&&null!==object.target?message.target=function(object){switch(object){case 0:case"SELF":return"SELF";case 1:case"BLANK":return"BLANK";case 2:case"PARENT":return"PARENT";case 3:case"TOP":return"TOP";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.target):message.target="SELF",void 0!==object.rel&&null!==object.rel?message.rel=Link_Rel.fromJSON(object.rel):message.rel=void 0,void 0!==object.customData&&null!==object.customData?message.customData=String(object.customData):message.customData=void 0,message},Link_toJSON=function(message){var obj={};return void 0!==message.url&&(obj.url=message.url),void 0!==message.anchor&&(obj.anchor=message.anchor),void 0!==message.target&&(obj.target=function(object){switch(object){case"SELF":return"SELF";case"BLANK":return"BLANK";case"PARENT":return"PARENT";case"TOP":return"TOP";default:return"UNKNOWN"}}(message.target)),void 0!==message.rel&&(obj.rel=message.rel?Link_Rel.toJSON(message.rel):void 0),void 0!==message.customData&&(obj.customData=message.customData),obj},baseLink_Rel={},Link_Rel={fromJSON:function(object){var message=__assign$s({},baseLink_Rel);return void 0!==object.nofollow&&null!==object.nofollow?message.nofollow=Boolean(object.nofollow):message.nofollow=void 0,void 0!==object.sponsored&&null!==object.sponsored?message.sponsored=Boolean(object.sponsored):message.sponsored=void 0,void 0!==object.ugc&&null!==object.ugc?message.ugc=Boolean(object.ugc):message.ugc=void 0,message},toJSON:function(message){var obj={};return void 0!==message.nofollow&&(obj.nofollow=message.nofollow),void 0!==message.sponsored&&(obj.sponsored=message.sponsored),void 0!==message.ugc&&(obj.ugc=message.ugc),obj}},basePluginContainerData={alignment:"CENTER"},PluginContainerData_fromJSON=function(object){var message=__assign$s({},basePluginContainerData);return void 0!==object.width&&null!==object.width?message.width=PluginContainerData_Width.fromJSON(object.width):message.width=void 0,void 0!==object.alignment&&null!==object.alignment?message.alignment=function(object){switch(object){case 0:case"CENTER":return"CENTER";case 1:case"LEFT":return"LEFT";case 2:case"RIGHT":return"RIGHT";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.alignment):message.alignment="CENTER",void 0!==object.spoiler&&null!==object.spoiler?message.spoiler=PluginContainerData_Spoiler.fromJSON(object.spoiler):message.spoiler=void 0,void 0!==object.height&&null!==object.height?message.height=PluginContainerData_Height.fromJSON(object.height):message.height=void 0,void 0!==object.textWrap&&null!==object.textWrap?message.textWrap=Boolean(object.textWrap):message.textWrap=void 0,message},PluginContainerData_toJSON=function(message){var obj={};return void 0!==message.width&&(obj.width=message.width?PluginContainerData_Width.toJSON(message.width):void 0),void 0!==message.alignment&&(obj.alignment=function(object){switch(object){case"CENTER":return"CENTER";case"LEFT":return"LEFT";case"RIGHT":return"RIGHT";default:return"UNKNOWN"}}(message.alignment)),void 0!==message.spoiler&&(obj.spoiler=message.spoiler?PluginContainerData_Spoiler.toJSON(message.spoiler):void 0),void 0!==message.height&&(obj.height=message.height?PluginContainerData_Height.toJSON(message.height):void 0),void 0!==message.textWrap&&(obj.textWrap=message.textWrap),obj},basePluginContainerData_Spoiler={},PluginContainerData_Spoiler={fromJSON:function(object){var message=__assign$s({},basePluginContainerData_Spoiler);return void 0!==object.enabled&&null!==object.enabled?message.enabled=Boolean(object.enabled):message.enabled=void 0,void 0!==object.description&&null!==object.description?message.description=String(object.description):message.description=void 0,void 0!==object.buttonText&&null!==object.buttonText?message.buttonText=String(object.buttonText):message.buttonText=void 0,message},toJSON:function(message){var obj={};return void 0!==message.enabled&&(obj.enabled=message.enabled),void 0!==message.description&&(obj.description=message.description),void 0!==message.buttonText&&(obj.buttonText=message.buttonText),obj}},basePluginContainerData_Width={},PluginContainerData_Width={fromJSON:function(object){var message=__assign$s({},basePluginContainerData_Width);return void 0!==object.size&&null!==object.size?message.size=function(object){switch(object){case 0:case"CONTENT":return"CONTENT";case 1:case"SMALL":return"SMALL";case 2:case"ORIGINAL":return"ORIGINAL";case 3:case"FULL_WIDTH":return"FULL_WIDTH";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.size):message.size=void 0,void 0!==object.custom&&null!==object.custom?message.custom=String(object.custom):message.custom=void 0,message},toJSON:function(message){var obj={};return void 0!==message.size&&(obj.size=void 0!==message.size?function(object){switch(object){case"CONTENT":return"CONTENT";case"SMALL":return"SMALL";case"ORIGINAL":return"ORIGINAL";case"FULL_WIDTH":return"FULL_WIDTH";default:return"UNKNOWN"}}(message.size):void 0),void 0!==message.custom&&(obj.custom=message.custom),obj}},basePluginContainerData_Height={},PluginContainerData_Height={fromJSON:function(object){var message=__assign$s({},basePluginContainerData_Height);return void 0!==object.custom&&null!==object.custom?message.custom=String(object.custom):message.custom=void 0,message},toJSON:function(message){var obj={};return void 0!==message.custom&&(obj.custom=message.custom),obj}},baseFileSource={},FileSource_fromJSON=function(object){var message=__assign$s({},baseFileSource);return void 0!==object.url&&null!==object.url?message.url=String(object.url):message.url=void 0,void 0!==object.custom&&null!==object.custom?message.custom=String(object.custom):message.custom=void 0,void 0!==object.id&&null!==object.id?message.id=String(object.id):message.id=void 0,void 0!==object.private&&null!==object.private?message.private=Boolean(object.private):message.private=void 0,message},FileSource_toJSON=function(message){var obj={};return void 0!==message.url&&(obj.url=message.url),void 0!==message.custom&&(obj.custom=message.custom),void 0!==message.id&&(obj.id=message.id),void 0!==message.private&&(obj.private=message.private),obj},baseMedia={},Media_fromJSON=function(object){var message=__assign$s({},baseMedia);return void 0!==object.src&&null!==object.src?message.src=FileSource_fromJSON(object.src):message.src=void 0,void 0!==object.width&&null!==object.width?message.width=Number(object.width):message.width=void 0,void 0!==object.height&&null!==object.height?message.height=Number(object.height):message.height=void 0,message},Media_toJSON=function(message){var obj={};return void 0!==message.src&&(obj.src=message.src?FileSource_toJSON(message.src):void 0),void 0!==message.width&&(obj.width=message.width),void 0!==message.height&&(obj.height=message.height),obj},baseOembed={},Oembed_fromJSON=function(object){var message=__assign$s({},baseOembed);return void 0!==object.type&&null!==object.type?message.type=String(object.type):message.type=void 0,void 0!==object.width&&null!==object.width?message.width=Number(object.width):message.width=void 0,void 0!==object.height&&null!==object.height?message.height=Number(object.height):message.height=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,void 0!==object.url&&null!==object.url?message.url=String(object.url):message.url=void 0,void 0!==object.html&&null!==object.html?message.html=String(object.html):message.html=void 0,void 0!==object.authorName&&null!==object.authorName?message.authorName=String(object.authorName):message.authorName=void 0,void 0!==object.authorUrl&&null!==object.authorUrl?message.authorUrl=String(object.authorUrl):message.authorUrl=void 0,void 0!==object.providerName&&null!==object.providerName?message.providerName=String(object.providerName):message.providerName=void 0,void 0!==object.providerUrl&&null!==object.providerUrl?message.providerUrl=String(object.providerUrl):message.providerUrl=void 0,void 0!==object.thumbnailUrl&&null!==object.thumbnailUrl?message.thumbnailUrl=String(object.thumbnailUrl):message.thumbnailUrl=void 0,void 0!==object.thumbnailWidth&&null!==object.thumbnailWidth?message.thumbnailWidth=String(object.thumbnailWidth):message.thumbnailWidth=void 0,void 0!==object.thumbnailHeight&&null!==object.thumbnailHeight?message.thumbnailHeight=String(object.thumbnailHeight):message.thumbnailHeight=void 0,void 0!==object.videoUrl&&null!==object.videoUrl?message.videoUrl=String(object.videoUrl):message.videoUrl=void 0,void 0!==object.version&&null!==object.version?message.version=String(object.version):message.version=void 0,message},Oembed_toJSON=function(message){var obj={};return void 0!==message.type&&(obj.type=message.type),void 0!==message.width&&(obj.width=message.width),void 0!==message.height&&(obj.height=message.height),void 0!==message.title&&(obj.title=message.title),void 0!==message.url&&(obj.url=message.url),void 0!==message.html&&(obj.html=message.html),void 0!==message.authorName&&(obj.authorName=message.authorName),void 0!==message.authorUrl&&(obj.authorUrl=message.authorUrl),void 0!==message.providerName&&(obj.providerName=message.providerName),void 0!==message.providerUrl&&(obj.providerUrl=message.providerUrl),void 0!==message.thumbnailUrl&&(obj.thumbnailUrl=message.thumbnailUrl),void 0!==message.thumbnailWidth&&(obj.thumbnailWidth=message.thumbnailWidth),void 0!==message.thumbnailHeight&&(obj.thumbnailHeight=message.thumbnailHeight),void 0!==message.videoUrl&&(obj.videoUrl=message.videoUrl),void 0!==message.version&&(obj.version=message.version),obj},__assign$r=function(){return(__assign$r=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseAnchorData={anchor:""},AnchorData_fromJSON=function(object){var message=__assign$r({},baseAnchorData);return void 0!==object.anchor&&null!==object.anchor?message.anchor=String(object.anchor):message.anchor="",message},AnchorData_toJSON=function(message){var obj={};return void 0!==message.anchor&&(obj.anchor=message.anchor),obj},__assign$q=function(){return(__assign$q=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseColorData={},ColorData_fromJSON=function(object){var message=__assign$q({},baseColorData);return void 0!==object.background&&null!==object.background?message.background=String(object.background):message.background=void 0,void 0!==object.foreground&&null!==object.foreground?message.foreground=String(object.foreground):message.foreground=void 0,message},ColorData_toJSON=function(message){var obj={};return void 0!==message.background&&(obj.background=message.background),void 0!==message.foreground&&(obj.foreground=message.foreground),obj},__assign$p=function(){return(__assign$p=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseFontSizeData={unit:"PX"},FontSizeData_fromJSON=function(object){var message=__assign$p({},baseFontSizeData);return void 0!==object.unit&&null!==object.unit?message.unit=function(object){switch(object){case 0:case"PX":return"PX";case 1:case"EM":return"EM";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.unit):message.unit="PX",void 0!==object.value&&null!==object.value?message.value=Number(object.value):message.value=void 0,message},FontSizeData_toJSON=function(message){var obj={};return void 0!==message.unit&&(obj.unit=function(object){switch(object){case"PX":return"PX";case"EM":return"EM";default:return"UNKNOWN"}}(message.unit)),void 0!==message.value&&(obj.value=message.value),obj},__assign$o=function(){return(__assign$o=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseLinkData={},LinkData_fromJSON=function(object){var message=__assign$o({},baseLinkData);return void 0!==object.link&&null!==object.link?message.link=Link_fromJSON(object.link):message.link=void 0,message},LinkData_toJSON=function(message){var obj={};return void 0!==message.link&&(obj.link=message.link?Link_toJSON(message.link):void 0),obj},__assign$n=function(){return(__assign$n=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseMentionData={name:"",slug:""},MentionData_fromJSON=function(object){var message=__assign$n({},baseMentionData);return void 0!==object.name&&null!==object.name?message.name=String(object.name):message.name="",void 0!==object.slug&&null!==object.slug?message.slug=String(object.slug):message.slug="",message},MentionData_toJSON=function(message){var obj={};return void 0!==message.name&&(obj.name=message.name),void 0!==message.slug&&(obj.slug=message.slug),obj},__assign$m=function(){return(__assign$m=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseCodeBlockData={},CodeBlockData_fromJSON=function(object){var message=__assign$m({},baseCodeBlockData);return void 0!==object.textStyle&&null!==object.textStyle?message.textStyle=TextStyle_fromJSON(object.textStyle):message.textStyle=void 0,message},CodeBlockData_toJSON=function(message){var obj={};return void 0!==message.textStyle&&(obj.textStyle=message.textStyle?TextStyle_toJSON(message.textStyle):void 0),obj},__assign$l=function(){return(__assign$l=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseHeadingData={level:0},HeadingData_fromJSON=function(object){var message=__assign$l({},baseHeadingData);return void 0!==object.level&&null!==object.level?message.level=Number(object.level):message.level=0,void 0!==object.textStyle&&null!==object.textStyle?message.textStyle=TextStyle_fromJSON(object.textStyle):message.textStyle=void 0,void 0!==object.indentation&&null!==object.indentation?message.indentation=Number(object.indentation):message.indentation=void 0,message},HeadingData_toJSON=function(message){var obj={};return void 0!==message.level&&(obj.level=message.level),void 0!==message.textStyle&&(obj.textStyle=message.textStyle?TextStyle_toJSON(message.textStyle):void 0),void 0!==message.indentation&&(obj.indentation=message.indentation),obj},__assign$k=function(){return(__assign$k=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseParagraphData={},ParagraphData_fromJSON=function(object){var message=__assign$k({},baseParagraphData);return void 0!==object.textStyle&&null!==object.textStyle?message.textStyle=TextStyle_fromJSON(object.textStyle):message.textStyle=void 0,void 0!==object.indentation&&null!==object.indentation?message.indentation=Number(object.indentation):message.indentation=void 0,message},ParagraphData_toJSON=function(message){var obj={};return void 0!==message.textStyle&&(obj.textStyle=message.textStyle?TextStyle_toJSON(message.textStyle):void 0),void 0!==message.indentation&&(obj.indentation=message.indentation),obj},__assign$j=function(){return(__assign$j=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseAppEmbedData={type:"PRODUCT"},AppEmbedData={fromJSON:function(object){var message=__assign$j({},baseAppEmbedData);return void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"PRODUCT":return"PRODUCT";case 1:case"EVENT":return"EVENT";case 2:case"BOOKING":return"BOOKING";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="PRODUCT",void 0!==object.itemId&&null!==object.itemId?message.itemId=String(object.itemId):message.itemId=void 0,void 0!==object.name&&null!==object.name?message.name=String(object.name):message.name=void 0,void 0!==object.imageSrc&&null!==object.imageSrc?message.imageSrc=String(object.imageSrc):message.imageSrc=void 0,void 0!==object.url&&null!==object.url?message.url=String(object.url):message.url=void 0,void 0!==object.bookingData&&null!==object.bookingData?message.bookingData=AppEmbedData_BookingData.fromJSON(object.bookingData):message.bookingData=void 0,void 0!==object.eventData&&null!==object.eventData?message.eventData=AppEmbedData_EventData.fromJSON(object.eventData):message.eventData=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"PRODUCT":return"PRODUCT";case"EVENT":return"EVENT";case"BOOKING":return"BOOKING";default:return"UNKNOWN"}}(message.type)),void 0!==message.itemId&&(obj.itemId=message.itemId),void 0!==message.name&&(obj.name=message.name),void 0!==message.imageSrc&&(obj.imageSrc=message.imageSrc),void 0!==message.url&&(obj.url=message.url),void 0!==message.bookingData&&(obj.bookingData=message.bookingData?AppEmbedData_BookingData.toJSON(message.bookingData):void 0),void 0!==message.eventData&&(obj.eventData=message.eventData?AppEmbedData_EventData.toJSON(message.eventData):void 0),obj}},baseAppEmbedData_BookingData={},AppEmbedData_BookingData={fromJSON:function(object){var message=__assign$j({},baseAppEmbedData_BookingData);return void 0!==object.durations&&null!==object.durations?message.durations=String(object.durations):message.durations=void 0,message},toJSON:function(message){var obj={};return void 0!==message.durations&&(obj.durations=message.durations),obj}},baseAppEmbedData_EventData={},AppEmbedData_EventData={fromJSON:function(object){var message=__assign$j({},baseAppEmbedData_EventData);return void 0!==object.scheduling&&null!==object.scheduling?message.scheduling=String(object.scheduling):message.scheduling=void 0,void 0!==object.location&&null!==object.location?message.location=String(object.location):message.location=void 0,message},toJSON:function(message){var obj={};return void 0!==message.scheduling&&(obj.scheduling=message.scheduling),void 0!==message.location&&(obj.location=message.location),obj}},__assign$i=function(){return(__assign$i=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseButtonData={type:"LINK"},ButtonData={fromJSON:function(object){var message=__assign$i({},baseButtonData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"LINK":return"LINK";case 1:case"ACTION":return"ACTION";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="LINK",void 0!==object.styles&&null!==object.styles?message.styles=ButtonData_Styles.fromJSON(object.styles):message.styles=void 0,void 0!==object.text&&null!==object.text?message.text=String(object.text):message.text=void 0,void 0!==object.link&&null!==object.link?message.link=Link_fromJSON(object.link):message.link=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.type&&(obj.type=function(object){switch(object){case"LINK":return"LINK";case"ACTION":return"ACTION";default:return"UNKNOWN"}}(message.type)),void 0!==message.styles&&(obj.styles=message.styles?ButtonData_Styles.toJSON(message.styles):void 0),void 0!==message.text&&(obj.text=message.text),void 0!==message.link&&(obj.link=message.link?Link_toJSON(message.link):void 0),obj}},baseButtonData_Styles={},ButtonData_Styles={fromJSON:function(object){var message=__assign$i({},baseButtonData_Styles);return void 0!==object.border&&null!==object.border?message.border=ButtonData_Styles_Border.fromJSON(object.border):message.border=void 0,void 0!==object.colors&&null!==object.colors?message.colors=ButtonData_Styles_Colors.fromJSON(object.colors):message.colors=void 0,message},toJSON:function(message){var obj={};return void 0!==message.border&&(obj.border=message.border?ButtonData_Styles_Border.toJSON(message.border):void 0),void 0!==message.colors&&(obj.colors=message.colors?ButtonData_Styles_Colors.toJSON(message.colors):void 0),obj}},baseButtonData_Styles_Colors={},ButtonData_Styles_Colors={fromJSON:function(object){var message=__assign$i({},baseButtonData_Styles_Colors);return void 0!==object.text&&null!==object.text?message.text=String(object.text):message.text=void 0,void 0!==object.border&&null!==object.border?message.border=String(object.border):message.border=void 0,void 0!==object.background&&null!==object.background?message.background=String(object.background):message.background=void 0,message},toJSON:function(message){var obj={};return void 0!==message.text&&(obj.text=message.text),void 0!==message.border&&(obj.border=message.border),void 0!==message.background&&(obj.background=message.background),obj}},baseButtonData_Styles_Border={},ButtonData_Styles_Border={fromJSON:function(object){var message=__assign$i({},baseButtonData_Styles_Border);return void 0!==object.width&&null!==object.width?message.width=Number(object.width):message.width=void 0,void 0!==object.radius&&null!==object.radius?message.radius=Number(object.radius):message.radius=void 0,message},toJSON:function(message){var obj={};return void 0!==message.width&&(obj.width=message.width),void 0!==message.radius&&(obj.radius=message.radius),obj}},__assign$h=function(){return(__assign$h=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseCollapsibleListData={initialExpandedItems:"FIRST",direction:"LTR"},CollapsibleListData={fromJSON:function(object){var message=__assign$h({},baseCollapsibleListData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.expandOnlyOne&&null!==object.expandOnlyOne?message.expandOnlyOne=Boolean(object.expandOnlyOne):message.expandOnlyOne=void 0,void 0!==object.initialExpandedItems&&null!==object.initialExpandedItems?message.initialExpandedItems=function(object){switch(object){case 0:case"FIRST":return"FIRST";case 1:case"ALL":return"ALL";case 2:case"NONE":return"NONE";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.initialExpandedItems):message.initialExpandedItems="FIRST",void 0!==object.direction&&null!==object.direction?message.direction=function(object){switch(object){case 0:case"LTR":return"LTR";case 1:case"RTL":return"RTL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.direction):message.direction="LTR",message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.expandOnlyOne&&(obj.expandOnlyOne=message.expandOnlyOne),void 0!==message.initialExpandedItems&&(obj.initialExpandedItems=function(object){switch(object){case"FIRST":return"FIRST";case"ALL":return"ALL";case"NONE":return"NONE";default:return"UNKNOWN"}}(message.initialExpandedItems)),void 0!==message.direction&&(obj.direction=function(object){switch(object){case"LTR":return"LTR";case"RTL":return"RTL";default:return"UNKNOWN"}}(message.direction)),obj}},__assign$g=function(){return(__assign$g=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseDividerData={lineStyle:"SINGLE",width:"LARGE",alignment:"CENTER"},DividerData={fromJSON:function(object){var message=__assign$g({},baseDividerData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.lineStyle&&null!==object.lineStyle?message.lineStyle=function(object){switch(object){case 0:case"SINGLE":return"SINGLE";case 1:case"DOUBLE":return"DOUBLE";case 2:case"DASHED":return"DASHED";case 3:case"DOTTED":return"DOTTED";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.lineStyle):message.lineStyle="SINGLE",void 0!==object.width&&null!==object.width?message.width=function(object){switch(object){case 0:case"LARGE":return"LARGE";case 1:case"MEDIUM":return"MEDIUM";case 2:case"SMALL":return"SMALL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.width):message.width="LARGE",void 0!==object.alignment&&null!==object.alignment?message.alignment=function(object){switch(object){case 0:case"CENTER":return"CENTER";case 1:case"LEFT":return"LEFT";case 2:case"RIGHT":return"RIGHT";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.alignment):message.alignment="CENTER",message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.lineStyle&&(obj.lineStyle=function(object){switch(object){case"SINGLE":return"SINGLE";case"DOUBLE":return"DOUBLE";case"DASHED":return"DASHED";case"DOTTED":return"DOTTED";default:return"UNKNOWN"}}(message.lineStyle)),void 0!==message.width&&(obj.width=function(object){switch(object){case"LARGE":return"LARGE";case"MEDIUM":return"MEDIUM";case"SMALL":return"SMALL";default:return"UNKNOWN"}}(message.width)),void 0!==message.alignment&&(obj.alignment=function(object){switch(object){case"CENTER":return"CENTER";case"LEFT":return"LEFT";case"RIGHT":return"RIGHT";default:return"UNKNOWN"}}(message.alignment)),obj}},__assign$f=function(){return(__assign$f=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseEmbedData={},EmbedData={fromJSON:function(object){var message=__assign$f({},baseEmbedData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.oembed&&null!==object.oembed?message.oembed=Oembed_fromJSON(object.oembed):message.oembed=void 0,void 0!==object.src&&null!==object.src?message.src=String(object.src):message.src=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.oembed&&(obj.oembed=message.oembed?Oembed_toJSON(message.oembed):void 0),void 0!==message.src&&(obj.src=message.src),obj}},__assign$e=function(){return(__assign$e=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseFileData={},FileData={fromJSON:function(object){var message=__assign$e({},baseFileData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.src&&null!==object.src?message.src=FileSource_fromJSON(object.src):message.src=void 0,void 0!==object.name&&null!==object.name?message.name=String(object.name):message.name=void 0,void 0!==object.type&&null!==object.type?message.type=String(object.type):message.type=void 0,void 0!==object.size&&null!==object.size?message.size=Number(object.size):message.size=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.src&&(obj.src=message.src?FileSource_toJSON(message.src):void 0),void 0!==message.name&&(obj.name=message.name),void 0!==message.type&&(obj.type=message.type),void 0!==message.size&&(obj.size=message.size),obj}},__assign$d=function(){return(__assign$d=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseGalleryOptions={},GalleryOptions_fromJSON=function(object){var message=__assign$d({},baseGalleryOptions);return void 0!==object.layout&&null!==object.layout?message.layout=GalleryOptions_Layout.fromJSON(object.layout):message.layout=void 0,void 0!==object.item&&null!==object.item?message.item=GalleryOptions_ItemStyle.fromJSON(object.item):message.item=void 0,void 0!==object.thumbnails&&null!==object.thumbnails?message.thumbnails=GalleryOptions_Thumbnails.fromJSON(object.thumbnails):message.thumbnails=void 0,message},GalleryOptions_toJSON=function(message){var obj={};return void 0!==message.layout&&(obj.layout=message.layout?GalleryOptions_Layout.toJSON(message.layout):void 0),void 0!==message.item&&(obj.item=message.item?GalleryOptions_ItemStyle.toJSON(message.item):void 0),void 0!==message.thumbnails&&(obj.thumbnails=message.thumbnails?GalleryOptions_Thumbnails.toJSON(message.thumbnails):void 0),obj},baseGalleryOptions_Layout={type:"COLLAGE",orientation:"ROWS"},GalleryOptions_Layout={fromJSON:function(object){var message=__assign$d({},baseGalleryOptions_Layout);return void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"COLLAGE":return"COLLAGE";case 1:case"MASONRY":return"MASONRY";case 2:case"GRID":return"GRID";case 3:case"THUMBNAIL":return"THUMBNAIL";case 4:case"SLIDER":return"SLIDER";case 5:case"SLIDESHOW":return"SLIDESHOW";case 6:case"PANORAMA":return"PANORAMA";case 7:case"COLUMN":return"COLUMN";case 8:case"MAGIC":return"MAGIC";case 9:case"FULLSIZE":return"FULLSIZE";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="COLLAGE",void 0!==object.horizontalScroll&&null!==object.horizontalScroll?message.horizontalScroll=Boolean(object.horizontalScroll):message.horizontalScroll=void 0,void 0!==object.orientation&&null!==object.orientation?message.orientation=function(object){switch(object){case 0:case"ROWS":return"ROWS";case 1:case"COLUMNS":return"COLUMNS";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.orientation):message.orientation="ROWS",void 0!==object.numberOfColumns&&null!==object.numberOfColumns?message.numberOfColumns=Number(object.numberOfColumns):message.numberOfColumns=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"COLLAGE":return"COLLAGE";case"MASONRY":return"MASONRY";case"GRID":return"GRID";case"THUMBNAIL":return"THUMBNAIL";case"SLIDER":return"SLIDER";case"SLIDESHOW":return"SLIDESHOW";case"PANORAMA":return"PANORAMA";case"COLUMN":return"COLUMN";case"MAGIC":return"MAGIC";case"FULLSIZE":return"FULLSIZE";default:return"UNKNOWN"}}(message.type)),void 0!==message.horizontalScroll&&(obj.horizontalScroll=message.horizontalScroll),void 0!==message.orientation&&(obj.orientation=function(object){switch(object){case"ROWS":return"ROWS";case"COLUMNS":return"COLUMNS";default:return"UNKNOWN"}}(message.orientation)),void 0!==message.numberOfColumns&&(obj.numberOfColumns=message.numberOfColumns),obj}},baseGalleryOptions_ItemStyle={crop:"FILL"},GalleryOptions_ItemStyle={fromJSON:function(object){var message=__assign$d({},baseGalleryOptions_ItemStyle);return void 0!==object.targetSize&&null!==object.targetSize?message.targetSize=Number(object.targetSize):message.targetSize=void 0,void 0!==object.ratio&&null!==object.ratio?message.ratio=Number(object.ratio):message.ratio=void 0,void 0!==object.crop&&null!==object.crop?message.crop=function(object){switch(object){case 0:case"FILL":return"FILL";case 1:case"FIT":return"FIT";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.crop):message.crop="FILL",void 0!==object.spacing&&null!==object.spacing?message.spacing=Number(object.spacing):message.spacing=void 0,message},toJSON:function(message){var obj={};return void 0!==message.targetSize&&(obj.targetSize=message.targetSize),void 0!==message.ratio&&(obj.ratio=message.ratio),void 0!==message.crop&&(obj.crop=function(object){switch(object){case"FILL":return"FILL";case"FIT":return"FIT";default:return"UNKNOWN"}}(message.crop)),void 0!==message.spacing&&(obj.spacing=message.spacing),obj}},baseGalleryOptions_Thumbnails={placement:"TOP"},GalleryOptions_Thumbnails={fromJSON:function(object){var message=__assign$d({},baseGalleryOptions_Thumbnails);return void 0!==object.placement&&null!==object.placement?message.placement=function(object){switch(object){case 0:case"TOP":return"TOP";case 1:case"RIGHT":return"RIGHT";case 2:case"BOTTOM":return"BOTTOM";case 3:case"LEFT":return"LEFT";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.placement):message.placement="TOP",void 0!==object.spacing&&null!==object.spacing?message.spacing=Number(object.spacing):message.spacing=void 0,message},toJSON:function(message){var obj={};return void 0!==message.placement&&(obj.placement=function(object){switch(object){case"TOP":return"TOP";case"RIGHT":return"RIGHT";case"BOTTOM":return"BOTTOM";case"LEFT":return"LEFT";default:return"UNKNOWN"}}(message.placement)),void 0!==message.spacing&&(obj.spacing=message.spacing),obj}},baseGalleryData={},GalleryData={fromJSON:function(object){var message=__assign$d({},baseGalleryData);if(message.items=[],void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.items&&null!==object.items)for(var _i=0,_a=object.items;_i<_a.length;_i++){var e=_a[_i];message.items.push(GalleryData_Item.fromJSON(e))}return void 0!==object.options&&null!==object.options?message.options=GalleryOptions_fromJSON(object.options):message.options=void 0,void 0!==object.disableExpand&&null!==object.disableExpand?message.disableExpand=Boolean(object.disableExpand):message.disableExpand=void 0,void 0!==object.disableDownload&&null!==object.disableDownload?message.disableDownload=Boolean(object.disableDownload):message.disableDownload=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),message.items?obj.items=message.items.map((function(e){return e?GalleryData_Item.toJSON(e):void 0})):obj.items=[],void 0!==message.options&&(obj.options=message.options?GalleryOptions_toJSON(message.options):void 0),void 0!==message.disableExpand&&(obj.disableExpand=message.disableExpand),void 0!==message.disableDownload&&(obj.disableDownload=message.disableDownload),obj}},baseGalleryData_Item={},GalleryData_Item={fromJSON:function(object){var message=__assign$d({},baseGalleryData_Item);return void 0!==object.image&&null!==object.image?message.image=GalleryData_Item_Image.fromJSON(object.image):message.image=void 0,void 0!==object.video&&null!==object.video?message.video=GalleryData_Item_Video.fromJSON(object.video):message.video=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,void 0!==object.altText&&null!==object.altText?message.altText=String(object.altText):message.altText=void 0,message},toJSON:function(message){var obj={};return void 0!==message.image&&(obj.image=message.image?GalleryData_Item_Image.toJSON(message.image):void 0),void 0!==message.video&&(obj.video=message.video?GalleryData_Item_Video.toJSON(message.video):void 0),void 0!==message.title&&(obj.title=message.title),void 0!==message.altText&&(obj.altText=message.altText),obj}},baseGalleryData_Item_Video={},GalleryData_Item_Video={fromJSON:function(object){var message=__assign$d({},baseGalleryData_Item_Video);return void 0!==object.media&&null!==object.media?message.media=Media_fromJSON(object.media):message.media=void 0,void 0!==object.thumbnail&&null!==object.thumbnail?message.thumbnail=Media_fromJSON(object.thumbnail):message.thumbnail=void 0,message},toJSON:function(message){var obj={};return void 0!==message.media&&(obj.media=message.media?Media_toJSON(message.media):void 0),void 0!==message.thumbnail&&(obj.thumbnail=message.thumbnail?Media_toJSON(message.thumbnail):void 0),obj}},baseGalleryData_Item_Image={},GalleryData_Item_Image={fromJSON:function(object){var message=__assign$d({},baseGalleryData_Item_Image);return void 0!==object.media&&null!==object.media?message.media=Media_fromJSON(object.media):message.media=void 0,void 0!==object.link&&null!==object.link?message.link=Link_fromJSON(object.link):message.link=void 0,message},toJSON:function(message){var obj={};return void 0!==message.media&&(obj.media=message.media?Media_toJSON(message.media):void 0),void 0!==message.link&&(obj.link=message.link?Link_toJSON(message.link):void 0),obj}},__assign$c=function(){return(__assign$c=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseGIFData={height:0,width:0},GIFData={fromJSON:function(object){var message=__assign$c({},baseGIFData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.original&&null!==object.original?message.original=GIF.fromJSON(object.original):message.original=void 0,void 0!==object.downsized&&null!==object.downsized?message.downsized=GIF.fromJSON(object.downsized):message.downsized=void 0,void 0!==object.height&&null!==object.height?message.height=Number(object.height):message.height=0,void 0!==object.width&&null!==object.width?message.width=Number(object.width):message.width=0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.original&&(obj.original=message.original?GIF.toJSON(message.original):void 0),void 0!==message.downsized&&(obj.downsized=message.downsized?GIF.toJSON(message.downsized):void 0),void 0!==message.height&&(obj.height=message.height),void 0!==message.width&&(obj.width=message.width),obj}},baseGIF={},GIF={fromJSON:function(object){var message=__assign$c({},baseGIF);return void 0!==object.gif&&null!==object.gif?message.gif=String(object.gif):message.gif=void 0,void 0!==object.mp4&&null!==object.mp4?message.mp4=String(object.mp4):message.mp4=void 0,void 0!==object.still&&null!==object.still?message.still=String(object.still):message.still=void 0,message},toJSON:function(message){var obj={};return void 0!==message.gif&&(obj.gif=message.gif),void 0!==message.mp4&&(obj.mp4=message.mp4),void 0!==message.still&&(obj.still=message.still),obj}},__assign$b=function(){return(__assign$b=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseHTMLData={},HTMLData={fromJSON:function(object){var message=__assign$b({},baseHTMLData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.url&&null!==object.url?message.url=String(object.url):message.url=void 0,void 0!==object.html&&null!==object.html?message.html=String(object.html):message.html=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.url&&(obj.url=message.url),void 0!==message.html&&(obj.html=message.html),obj}},__assign$a=function(){return(__assign$a=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseImageData={},ImageData={fromJSON:function(object){var message=__assign$a({},baseImageData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.image&&null!==object.image?message.image=Media_fromJSON(object.image):message.image=void 0,void 0!==object.link&&null!==object.link?message.link=Link_fromJSON(object.link):message.link=void 0,void 0!==object.disableExpand&&null!==object.disableExpand?message.disableExpand=Boolean(object.disableExpand):message.disableExpand=void 0,void 0!==object.altText&&null!==object.altText?message.altText=String(object.altText):message.altText=void 0,void 0!==object.caption&&null!==object.caption?message.caption=String(object.caption):message.caption=void 0,void 0!==object.disableDownload&&null!==object.disableDownload?message.disableDownload=Boolean(object.disableDownload):message.disableDownload=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.image&&(obj.image=message.image?Media_toJSON(message.image):void 0),void 0!==message.link&&(obj.link=message.link?Link_toJSON(message.link):void 0),void 0!==message.disableExpand&&(obj.disableExpand=message.disableExpand),void 0!==message.altText&&(obj.altText=message.altText),void 0!==message.caption&&(obj.caption=message.caption),void 0!==message.disableDownload&&(obj.disableDownload=message.disableDownload),obj}},__assign$9=function(){return(__assign$9=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseLinkPreviewData={},LinkPreviewData={fromJSON:function(object){var message=__assign$9({},baseLinkPreviewData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.link&&null!==object.link?message.link=Link_fromJSON(object.link):message.link=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,void 0!==object.thumbnailUrl&&null!==object.thumbnailUrl?message.thumbnailUrl=String(object.thumbnailUrl):message.thumbnailUrl=void 0,void 0!==object.description&&null!==object.description?message.description=String(object.description):message.description=void 0,void 0!==object.html&&null!==object.html?message.html=String(object.html):message.html=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.link&&(obj.link=message.link?Link_toJSON(message.link):void 0),void 0!==message.title&&(obj.title=message.title),void 0!==message.thumbnailUrl&&(obj.thumbnailUrl=message.thumbnailUrl),void 0!==message.description&&(obj.description=message.description),void 0!==message.html&&(obj.html=message.html),obj}},__assign$8=function(){return(__assign$8=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseMapData={},MapData={fromJSON:function(object){var message=__assign$8({},baseMapData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.mapSettings&&null!==object.mapSettings?message.mapSettings=MapSettings.fromJSON(object.mapSettings):message.mapSettings=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.mapSettings&&(obj.mapSettings=message.mapSettings?MapSettings.toJSON(message.mapSettings):void 0),obj}},baseMapSettings={mapType:"ROADMAP"},MapSettings={fromJSON:function(object){var message=__assign$8({},baseMapSettings);return void 0!==object.address&&null!==object.address?message.address=String(object.address):message.address=void 0,void 0!==object.draggable&&null!==object.draggable?message.draggable=Boolean(object.draggable):message.draggable=void 0,void 0!==object.marker&&null!==object.marker?message.marker=Boolean(object.marker):message.marker=void 0,void 0!==object.streetViewControl&&null!==object.streetViewControl?message.streetViewControl=Boolean(object.streetViewControl):message.streetViewControl=void 0,void 0!==object.zoomControl&&null!==object.zoomControl?message.zoomControl=Boolean(object.zoomControl):message.zoomControl=void 0,void 0!==object.lat&&null!==object.lat?message.lat=Number(object.lat):message.lat=void 0,void 0!==object.lng&&null!==object.lng?message.lng=Number(object.lng):message.lng=void 0,void 0!==object.locationName&&null!==object.locationName?message.locationName=String(object.locationName):message.locationName=void 0,void 0!==object.viewModeControl&&null!==object.viewModeControl?message.viewModeControl=Boolean(object.viewModeControl):message.viewModeControl=void 0,void 0!==object.initialZoom&&null!==object.initialZoom?message.initialZoom=Number(object.initialZoom):message.initialZoom=void 0,void 0!==object.mapType&&null!==object.mapType?message.mapType=function(object){switch(object){case 0:case"ROADMAP":return"ROADMAP";case 1:case"SATELITE":return"SATELITE";case 2:case"HYBRID":return"HYBRID";case 3:case"TERRAIN":return"TERRAIN";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.mapType):message.mapType="ROADMAP",message},toJSON:function(message){var obj={};return void 0!==message.address&&(obj.address=message.address),void 0!==message.draggable&&(obj.draggable=message.draggable),void 0!==message.marker&&(obj.marker=message.marker),void 0!==message.streetViewControl&&(obj.streetViewControl=message.streetViewControl),void 0!==message.zoomControl&&(obj.zoomControl=message.zoomControl),void 0!==message.lat&&(obj.lat=message.lat),void 0!==message.lng&&(obj.lng=message.lng),void 0!==message.locationName&&(obj.locationName=message.locationName),void 0!==message.viewModeControl&&(obj.viewModeControl=message.viewModeControl),void 0!==message.initialZoom&&(obj.initialZoom=message.initialZoom),void 0!==message.mapType&&(obj.mapType=function(object){switch(object){case"ROADMAP":return"ROADMAP";case"SATELITE":return"SATELITE";case"HYBRID":return"HYBRID";case"TERRAIN":return"TERRAIN";default:return"UNKNOWN"}}(message.mapType)),obj}},__assign$7=function(){return(__assign$7=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var basePollData={},PollData={fromJSON:function(object){var message=__assign$7({},basePollData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.poll&&null!==object.poll?message.poll=PollData_Poll.fromJSON(object.poll):message.poll=void 0,void 0!==object.layout&&null!==object.layout?message.layout=PollData_Layout.fromJSON(object.layout):message.layout=void 0,void 0!==object.design&&null!==object.design?message.design=PollData_Design.fromJSON(object.design):message.design=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.poll&&(obj.poll=message.poll?PollData_Poll.toJSON(message.poll):void 0),void 0!==message.layout&&(obj.layout=message.layout?PollData_Layout.toJSON(message.layout):void 0),void 0!==message.design&&(obj.design=message.design?PollData_Design.toJSON(message.design):void 0),obj}},basePollData_Poll={},PollData_Poll={fromJSON:function(object){var message=__assign$7({},basePollData_Poll);if(message.options=[],void 0!==object.id&&null!==object.id?message.id=String(object.id):message.id=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,void 0!==object.creatorId&&null!==object.creatorId?message.creatorId=String(object.creatorId):message.creatorId=void 0,void 0!==object.image&&null!==object.image?message.image=Media_fromJSON(object.image):message.image=void 0,void 0!==object.options&&null!==object.options)for(var _i=0,_a=object.options;_i<_a.length;_i++){var e=_a[_i];message.options.push(PollData_Poll_Option.fromJSON(e))}return void 0!==object.settings&&null!==object.settings?message.settings=PollData_Poll_Settings.fromJSON(object.settings):message.settings=void 0,message},toJSON:function(message){var obj={};return void 0!==message.id&&(obj.id=message.id),void 0!==message.title&&(obj.title=message.title),void 0!==message.creatorId&&(obj.creatorId=message.creatorId),void 0!==message.image&&(obj.image=message.image?Media_toJSON(message.image):void 0),message.options?obj.options=message.options.map((function(e){return e?PollData_Poll_Option.toJSON(e):void 0})):obj.options=[],void 0!==message.settings&&(obj.settings=message.settings?PollData_Poll_Settings.toJSON(message.settings):void 0),obj}},basePollData_Poll_Option={},PollData_Poll_Option={fromJSON:function(object){var message=__assign$7({},basePollData_Poll_Option);return void 0!==object.id&&null!==object.id?message.id=String(object.id):message.id=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,void 0!==object.image&&null!==object.image?message.image=Media_fromJSON(object.image):message.image=void 0,message},toJSON:function(message){var obj={};return void 0!==message.id&&(obj.id=message.id),void 0!==message.title&&(obj.title=message.title),void 0!==message.image&&(obj.image=message.image?Media_toJSON(message.image):void 0),obj}},basePollData_Poll_Settings={},PollData_Poll_Settings={fromJSON:function(object){var message=__assign$7({},basePollData_Poll_Settings);return void 0!==object.permissions&&null!==object.permissions?message.permissions=PollData_Poll_Settings_Permissions.fromJSON(object.permissions):message.permissions=void 0,void 0!==object.showVoters&&null!==object.showVoters?message.showVoters=Boolean(object.showVoters):message.showVoters=void 0,void 0!==object.showVotesCount&&null!==object.showVotesCount?message.showVotesCount=Boolean(object.showVotesCount):message.showVotesCount=void 0,message},toJSON:function(message){var obj={};return void 0!==message.permissions&&(obj.permissions=message.permissions?PollData_Poll_Settings_Permissions.toJSON(message.permissions):void 0),void 0!==message.showVoters&&(obj.showVoters=message.showVoters),void 0!==message.showVotesCount&&(obj.showVotesCount=message.showVotesCount),obj}},basePollData_Poll_Settings_Permissions={view:"CREATOR",vote:"SITE_MEMBERS"},PollData_Poll_Settings_Permissions={fromJSON:function(object){var message=__assign$7({},basePollData_Poll_Settings_Permissions);return void 0!==object.view&&null!==object.view?message.view=function(object){switch(object){case 0:case"CREATOR":return"CREATOR";case 1:case"VOTERS":return"VOTERS";case 2:case"EVERYONE":return"EVERYONE";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.view):message.view="CREATOR",void 0!==object.vote&&null!==object.vote?message.vote=function(object){switch(object){case 0:case"SITE_MEMBERS":return"SITE_MEMBERS";case 1:case"ALL":return"ALL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.vote):message.vote="SITE_MEMBERS",void 0!==object.allowMultipleVotes&&null!==object.allowMultipleVotes?message.allowMultipleVotes=Boolean(object.allowMultipleVotes):message.allowMultipleVotes=void 0,message},toJSON:function(message){var obj={};return void 0!==message.view&&(obj.view=function(object){switch(object){case"CREATOR":return"CREATOR";case"VOTERS":return"VOTERS";case"EVERYONE":return"EVERYONE";default:return"UNKNOWN"}}(message.view)),void 0!==message.vote&&(obj.vote=function(object){switch(object){case"SITE_MEMBERS":return"SITE_MEMBERS";case"ALL":return"ALL";default:return"UNKNOWN"}}(message.vote)),void 0!==message.allowMultipleVotes&&(obj.allowMultipleVotes=message.allowMultipleVotes),obj}},basePollData_Layout={},PollData_Layout={fromJSON:function(object){var message=__assign$7({},basePollData_Layout);return void 0!==object.poll&&null!==object.poll?message.poll=PollData_Layout_PollLayout.fromJSON(object.poll):message.poll=void 0,void 0!==object.options&&null!==object.options?message.options=PollData_Layout_OptionLayout.fromJSON(object.options):message.options=void 0,message},toJSON:function(message){var obj={};return void 0!==message.poll&&(obj.poll=message.poll?PollData_Layout_PollLayout.toJSON(message.poll):void 0),void 0!==message.options&&(obj.options=message.options?PollData_Layout_OptionLayout.toJSON(message.options):void 0),obj}},basePollData_Layout_PollLayout={type:"LIST",direction:"LTR"},PollData_Layout_PollLayout={fromJSON:function(object){var message=__assign$7({},basePollData_Layout_PollLayout);return void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"LIST":return"LIST";case 1:case"GRID":return"GRID";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="LIST",void 0!==object.direction&&null!==object.direction?message.direction=function(object){switch(object){case 0:case"LTR":return"LTR";case 1:case"RTL":return"RTL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.direction):message.direction="LTR",void 0!==object.enableImage&&null!==object.enableImage?message.enableImage=Boolean(object.enableImage):message.enableImage=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"LIST":return"LIST";case"GRID":return"GRID";default:return"UNKNOWN"}}(message.type)),void 0!==message.direction&&(obj.direction=function(object){switch(object){case"LTR":return"LTR";case"RTL":return"RTL";default:return"UNKNOWN"}}(message.direction)),void 0!==message.enableImage&&(obj.enableImage=message.enableImage),obj}},basePollData_Layout_OptionLayout={},PollData_Layout_OptionLayout={fromJSON:function(object){var message=__assign$7({},basePollData_Layout_OptionLayout);return void 0!==object.enableImage&&null!==object.enableImage?message.enableImage=Boolean(object.enableImage):message.enableImage=void 0,message},toJSON:function(message){var obj={};return void 0!==message.enableImage&&(obj.enableImage=message.enableImage),obj}},basePollData_Design={},PollData_Design={fromJSON:function(object){var message=__assign$7({},basePollData_Design);return void 0!==object.poll&&null!==object.poll?message.poll=PollData_Design_PollDesign.fromJSON(object.poll):message.poll=void 0,void 0!==object.options&&null!==object.options?message.options=PollData_Design_OptionDesign.fromJSON(object.options):message.options=void 0,message},toJSON:function(message){var obj={};return void 0!==message.poll&&(obj.poll=message.poll?PollData_Design_PollDesign.toJSON(message.poll):void 0),void 0!==message.options&&(obj.options=message.options?PollData_Design_OptionDesign.toJSON(message.options):void 0),obj}},basePollData_Design_PollDesign={},PollData_Design_PollDesign={fromJSON:function(object){var message=__assign$7({},basePollData_Design_PollDesign);return void 0!==object.background&&null!==object.background?message.background=PollData_Design_PollDesign_Background.fromJSON(object.background):message.background=void 0,void 0!==object.borderRadius&&null!==object.borderRadius?message.borderRadius=Number(object.borderRadius):message.borderRadius=void 0,message},toJSON:function(message){var obj={};return void 0!==message.background&&(obj.background=message.background?PollData_Design_PollDesign_Background.toJSON(message.background):void 0),void 0!==message.borderRadius&&(obj.borderRadius=message.borderRadius),obj}},basePollData_Design_PollDesign_Background={type:"COLOR"},PollData_Design_PollDesign_Background={fromJSON:function(object){var message=__assign$7({},basePollData_Design_PollDesign_Background);return void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"COLOR":return"COLOR";case 1:case"IMAGE":return"IMAGE";case 2:case"GRADIENT":return"GRADIENT";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="COLOR",void 0!==object.color&&null!==object.color?message.color=String(object.color):message.color=void 0,void 0!==object.image&&null!==object.image?message.image=Media_fromJSON(object.image):message.image=void 0,void 0!==object.gradient&&null!==object.gradient?message.gradient=PollData_Design_PollDesign_Background_Gradient.fromJSON(object.gradient):message.gradient=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"COLOR":return"COLOR";case"IMAGE":return"IMAGE";case"GRADIENT":return"GRADIENT";default:return"UNKNOWN"}}(message.type)),void 0!==message.color&&(obj.color=message.color),void 0!==message.image&&(obj.image=message.image?Media_toJSON(message.image):void 0),void 0!==message.gradient&&(obj.gradient=message.gradient?PollData_Design_PollDesign_Background_Gradient.toJSON(message.gradient):void 0),obj}},basePollData_Design_PollDesign_Background_Gradient={},PollData_Design_PollDesign_Background_Gradient={fromJSON:function(object){var message=__assign$7({},basePollData_Design_PollDesign_Background_Gradient);return void 0!==object.angle&&null!==object.angle?message.angle=Number(object.angle):message.angle=void 0,void 0!==object.startColor&&null!==object.startColor?message.startColor=String(object.startColor):message.startColor=void 0,void 0!==object.lastColor&&null!==object.lastColor?message.lastColor=String(object.lastColor):message.lastColor=void 0,message},toJSON:function(message){var obj={};return void 0!==message.angle&&(obj.angle=message.angle),void 0!==message.startColor&&(obj.startColor=message.startColor),void 0!==message.lastColor&&(obj.lastColor=message.lastColor),obj}},basePollData_Design_OptionDesign={},PollData_Design_OptionDesign={fromJSON:function(object){var message=__assign$7({},basePollData_Design_OptionDesign);return void 0!==object.borderRadius&&null!==object.borderRadius?message.borderRadius=Number(object.borderRadius):message.borderRadius=void 0,message},toJSON:function(message){var obj={};return void 0!==message.borderRadius&&(obj.borderRadius=message.borderRadius),obj}},__assign$6=function(){return(__assign$6=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseTableData={},TableData={fromJSON:function(object){var message=__assign$6({},baseTableData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.dimensions&&null!==object.dimensions?message.dimensions=TableData_Dimensions.fromJSON(object.dimensions):message.dimensions=void 0,void 0!==object.header&&null!==object.header?message.header=Boolean(object.header):message.header=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.dimensions&&(obj.dimensions=message.dimensions?TableData_Dimensions.toJSON(message.dimensions):void 0),void 0!==message.header&&(obj.header=message.header),obj}},baseTableData_Dimensions={colsWidthRatio:0,rowsHeight:0,colsMinWidth:0},TableData_Dimensions={fromJSON:function(object){var message=__assign$6({},baseTableData_Dimensions);if(message.colsWidthRatio=[],message.rowsHeight=[],message.colsMinWidth=[],void 0!==object.colsWidthRatio&&null!==object.colsWidthRatio)for(var _i=0,_a=object.colsWidthRatio;_i<_a.length;_i++){var e=_a[_i];message.colsWidthRatio.push(Number(e))}if(void 0!==object.rowsHeight&&null!==object.rowsHeight)for(var _b=0,_c=object.rowsHeight;_b<_c.length;_b++){e=_c[_b];message.rowsHeight.push(Number(e))}if(void 0!==object.colsMinWidth&&null!==object.colsMinWidth)for(var _d=0,_e=object.colsMinWidth;_d<_e.length;_d++){e=_e[_d];message.colsMinWidth.push(Number(e))}return message},toJSON:function(message){var obj={};return message.colsWidthRatio?obj.colsWidthRatio=message.colsWidthRatio.map((function(e){return e})):obj.colsWidthRatio=[],message.rowsHeight?obj.rowsHeight=message.rowsHeight.map((function(e){return e})):obj.rowsHeight=[],message.colsMinWidth?obj.colsMinWidth=message.colsMinWidth.map((function(e){return e})):obj.colsMinWidth=[],obj}},__assign$5=function(){return(__assign$5=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseTableCellData={},TableCellData_fromJSON=function(object){var message=__assign$5({},baseTableCellData);return void 0!==object.cellStyle&&null!==object.cellStyle?message.cellStyle=TableCellData_CellStyle.fromJSON(object.cellStyle):message.cellStyle=void 0,void 0!==object.borderColors&&null!==object.borderColors?message.borderColors=TableCellData_BorderColors.fromJSON(object.borderColors):message.borderColors=void 0,message},TableCellData_toJSON=function(message){var obj={};return void 0!==message.cellStyle&&(obj.cellStyle=message.cellStyle?TableCellData_CellStyle.toJSON(message.cellStyle):void 0),void 0!==message.borderColors&&(obj.borderColors=message.borderColors?TableCellData_BorderColors.toJSON(message.borderColors):void 0),obj},baseTableCellData_CellStyle={verticalAlignment:"TOP"},TableCellData_CellStyle={fromJSON:function(object){var message=__assign$5({},baseTableCellData_CellStyle);return void 0!==object.verticalAlignment&&null!==object.verticalAlignment?message.verticalAlignment=function(object){switch(object){case 0:case"TOP":return"TOP";case 1:case"MIDDLE":return"MIDDLE";case 2:case"BOTTOM":return"BOTTOM";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.verticalAlignment):message.verticalAlignment="TOP",void 0!==object.backgroundColor&&null!==object.backgroundColor?message.backgroundColor=String(object.backgroundColor):message.backgroundColor=void 0,message},toJSON:function(message){var obj={};return void 0!==message.verticalAlignment&&(obj.verticalAlignment=function(object){switch(object){case"TOP":return"TOP";case"MIDDLE":return"MIDDLE";case"BOTTOM":return"BOTTOM";default:return"UNKNOWN"}}(message.verticalAlignment)),void 0!==message.backgroundColor&&(obj.backgroundColor=message.backgroundColor),obj}},baseTableCellData_BorderColors={},TableCellData_BorderColors={fromJSON:function(object){var message=__assign$5({},baseTableCellData_BorderColors);return void 0!==object.left&&null!==object.left?message.left=String(object.left):message.left=void 0,void 0!==object.right&&null!==object.right?message.right=String(object.right):message.right=void 0,void 0!==object.top&&null!==object.top?message.top=String(object.top):message.top=void 0,void 0!==object.bottom&&null!==object.bottom?message.bottom=String(object.bottom):message.bottom=void 0,message},toJSON:function(message){var obj={};return void 0!==message.left&&(obj.left=message.left),void 0!==message.right&&(obj.right=message.right),void 0!==message.top&&(obj.top=message.top),void 0!==message.bottom&&(obj.bottom=message.bottom),obj}},__assign$4=function(){return(__assign$4=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseVideoData={},VideoData={fromJSON:function(object){var message=__assign$4({},baseVideoData);return void 0!==object.containerData&&null!==object.containerData?message.containerData=PluginContainerData_fromJSON(object.containerData):message.containerData=void 0,void 0!==object.video&&null!==object.video?message.video=Media_fromJSON(object.video):message.video=void 0,void 0!==object.thumbnail&&null!==object.thumbnail?message.thumbnail=Media_fromJSON(object.thumbnail):message.thumbnail=void 0,void 0!==object.disableDownload&&null!==object.disableDownload?message.disableDownload=Boolean(object.disableDownload):message.disableDownload=void 0,void 0!==object.title&&null!==object.title?message.title=String(object.title):message.title=void 0,message},toJSON:function(message){var obj={};return void 0!==message.containerData&&(obj.containerData=message.containerData?PluginContainerData_toJSON(message.containerData):void 0),void 0!==message.video&&(obj.video=message.video?Media_toJSON(message.video):void 0),void 0!==message.thumbnail&&(obj.thumbnail=message.thumbnail?Media_toJSON(message.thumbnail):void 0),void 0!==message.disableDownload&&(obj.disableDownload=message.disableDownload),void 0!==message.title&&(obj.title=message.title),obj}},__assign$3=function(){return(__assign$3=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},baseTimestamp={seconds:0,nanos:0},Timestamp_fromJSON=function(object){var message=__assign$3({},baseTimestamp);return void 0!==object.seconds&&null!==object.seconds?message.seconds=Number(object.seconds):message.seconds=0,void 0!==object.nanos&&null!==object.nanos?message.nanos=Number(object.nanos):message.nanos=0,message},__assign$2=function(){return(__assign$2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseStruct={},Struct_fromJSON=function(object){var message=__assign$2({},baseStruct);return message.fields={},void 0!==object.fields&&null!==object.fields&&Object.entries(object.fields).forEach((function(_a){var key=_a[0],value=_a[1];message.fields[key]=Value.fromJSON(value)})),message},Struct_toJSON=function(message){var obj={fields:{}};return message.fields&&Object.entries(message.fields).forEach((function(_a){var k=_a[0],v=_a[1];obj.fields[k]=Value.toJSON(v)})),obj},baseValue={},Value={fromJSON:function(object){var message=__assign$2({},baseValue);return void 0!==object.nullValue&&null!==object.nullValue?message.nullValue=function(object){switch(object){case 0:case"NULL_VALUE":return"NULL_VALUE";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.nullValue):message.nullValue=void 0,void 0!==object.numberValue&&null!==object.numberValue?message.numberValue=Number(object.numberValue):message.numberValue=void 0,void 0!==object.stringValue&&null!==object.stringValue?message.stringValue=String(object.stringValue):message.stringValue=void 0,void 0!==object.boolValue&&null!==object.boolValue?message.boolValue=Boolean(object.boolValue):message.boolValue=void 0,void 0!==object.structValue&&null!==object.structValue?message.structValue=Struct_fromJSON(object.structValue):message.structValue=void 0,void 0!==object.listValue&&null!==object.listValue?message.listValue=ListValue.fromJSON(object.listValue):message.listValue=void 0,message},toJSON:function(message){var obj={};return void 0!==message.nullValue&&(obj.nullValue=void 0!==message.nullValue?function(object){switch(object){case"NULL_VALUE":return"NULL_VALUE";default:return"UNKNOWN"}}(message.nullValue):void 0),void 0!==message.numberValue&&(obj.numberValue=message.numberValue),void 0!==message.stringValue&&(obj.stringValue=message.stringValue),void 0!==message.boolValue&&(obj.boolValue=message.boolValue),void 0!==message.structValue&&(obj.structValue=message.structValue?Struct_toJSON(message.structValue):void 0),void 0!==message.listValue&&(obj.listValue=message.listValue?ListValue.toJSON(message.listValue):void 0),obj}},baseListValue={},ListValue={fromJSON:function(object){var message=__assign$2({},baseListValue);if(message.values=[],void 0!==object.values&&null!==object.values)for(var _i=0,_a=object.values;_i<_a.length;_i++){var e=_a[_i];message.values.push(Value.fromJSON(e))}return message},toJSON:function(message){var obj={};return message.values?obj.values=message.values.map((function(e){return e?Value.toJSON(e):void 0})):obj.values=[],obj}},__assign$1=function(){return(__assign$1=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var baseRichContent={},RichContent_fromJSON=function(object){var message=__assign$1({},baseRichContent);if(message.nodes=[],void 0!==object.nodes&&null!==object.nodes)for(var _i=0,_a=object.nodes;_i<_a.length;_i++){var e=_a[_i];message.nodes.push(Node.fromJSON(e))}return void 0!==object.metadata&&null!==object.metadata?message.metadata=Metadata.fromJSON(object.metadata):message.metadata=void 0,void 0!==object.documentStyle&&null!==object.documentStyle?message.documentStyle=DocumentStyle.fromJSON(object.documentStyle):message.documentStyle=void 0,message},baseNode={type:"PARAGRAPH",id:""},Node={fromJSON:function(object){var message=__assign$1({},baseNode);if(message.nodes=[],void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"PARAGRAPH":return"PARAGRAPH";case 1:case"TEXT":return"TEXT";case 2:case"HEADING":return"HEADING";case 3:case"BULLETED_LIST":return"BULLETED_LIST";case 4:case"ORDERED_LIST":return"ORDERED_LIST";case 5:case"LIST_ITEM":return"LIST_ITEM";case 6:case"BLOCKQUOTE":return"BLOCKQUOTE";case 7:case"CODE_BLOCK":return"CODE_BLOCK";case 8:case"VIDEO":return"VIDEO";case 9:case"DIVIDER":return"DIVIDER";case 10:case"FILE":return"FILE";case 11:case"GALLERY":return"GALLERY";case 12:case"GIF":return"GIF";case 13:case"HTML":return"HTML";case 14:case"IMAGE":return"IMAGE";case 15:case"LINK_PREVIEW":return"LINK_PREVIEW";case 16:case"MAP":return"MAP";case 17:case"POLL":return"POLL";case 18:case"APP_EMBED":return"APP_EMBED";case 19:case"BUTTON":return"BUTTON";case 20:case"COLLAPSIBLE_LIST":return"COLLAPSIBLE_LIST";case 21:case"TABLE":return"TABLE";case 22:case"EMBED":return"EMBED";case 23:case"COLLAPSIBLE_ITEM":return"COLLAPSIBLE_ITEM";case 24:case"COLLAPSIBLE_ITEM_TITLE":return"COLLAPSIBLE_ITEM_TITLE";case 25:case"COLLAPSIBLE_ITEM_BODY":return"COLLAPSIBLE_ITEM_BODY";case 26:case"TABLE_CELL":return"TABLE_CELL";case 27:case"TABLE_ROW":return"TABLE_ROW";case 28:case"EXTERNAL":return"EXTERNAL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="PARAGRAPH",void 0!==object.id&&null!==object.id?message.id=String(object.id):message.id="",void 0!==object.nodes&&null!==object.nodes)for(var _i=0,_a=object.nodes;_i<_a.length;_i++){var e=_a[_i];message.nodes.push(Node.fromJSON(e))}return void 0!==object.style&&null!==object.style?message.style=NodeStyle.fromJSON(object.style):message.style=void 0,void 0!==object.buttonData&&null!==object.buttonData?message.buttonData=ButtonData.fromJSON(object.buttonData):message.buttonData=void 0,void 0!==object.codeBlockData&&null!==object.codeBlockData?message.codeBlockData=CodeBlockData_fromJSON(object.codeBlockData):message.codeBlockData=void 0,void 0!==object.dividerData&&null!==object.dividerData?message.dividerData=DividerData.fromJSON(object.dividerData):message.dividerData=void 0,void 0!==object.fileData&&null!==object.fileData?message.fileData=FileData.fromJSON(object.fileData):message.fileData=void 0,void 0!==object.galleryData&&null!==object.galleryData?message.galleryData=GalleryData.fromJSON(object.galleryData):message.galleryData=void 0,void 0!==object.gifData&&null!==object.gifData?message.gifData=GIFData.fromJSON(object.gifData):message.gifData=void 0,void 0!==object.headingData&&null!==object.headingData?message.headingData=HeadingData_fromJSON(object.headingData):message.headingData=void 0,void 0!==object.htmlData&&null!==object.htmlData?message.htmlData=HTMLData.fromJSON(object.htmlData):message.htmlData=void 0,void 0!==object.imageData&&null!==object.imageData?message.imageData=ImageData.fromJSON(object.imageData):message.imageData=void 0,void 0!==object.linkPreviewData&&null!==object.linkPreviewData?message.linkPreviewData=LinkPreviewData.fromJSON(object.linkPreviewData):message.linkPreviewData=void 0,void 0!==object.mapData&&null!==object.mapData?message.mapData=MapData.fromJSON(object.mapData):message.mapData=void 0,void 0!==object.paragraphData&&null!==object.paragraphData?message.paragraphData=ParagraphData_fromJSON(object.paragraphData):message.paragraphData=void 0,void 0!==object.pollData&&null!==object.pollData?message.pollData=PollData.fromJSON(object.pollData):message.pollData=void 0,void 0!==object.textData&&null!==object.textData?message.textData=TextData.fromJSON(object.textData):message.textData=void 0,void 0!==object.appEmbedData&&null!==object.appEmbedData?message.appEmbedData=AppEmbedData.fromJSON(object.appEmbedData):message.appEmbedData=void 0,void 0!==object.videoData&&null!==object.videoData?message.videoData=VideoData.fromJSON(object.videoData):message.videoData=void 0,void 0!==object.embedData&&null!==object.embedData?message.embedData=EmbedData.fromJSON(object.embedData):message.embedData=void 0,void 0!==object.collapsibleListData&&null!==object.collapsibleListData?message.collapsibleListData=CollapsibleListData.fromJSON(object.collapsibleListData):message.collapsibleListData=void 0,void 0!==object.tableData&&null!==object.tableData?message.tableData=TableData.fromJSON(object.tableData):message.tableData=void 0,void 0!==object.tableCellData&&null!==object.tableCellData?message.tableCellData=TableCellData_fromJSON(object.tableCellData):message.tableCellData=void 0,void 0!==object.externalData&&null!==object.externalData?message.externalData=Struct_fromJSON(object.externalData):message.externalData=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"PARAGRAPH":return"PARAGRAPH";case"TEXT":return"TEXT";case"HEADING":return"HEADING";case"BULLETED_LIST":return"BULLETED_LIST";case"ORDERED_LIST":return"ORDERED_LIST";case"LIST_ITEM":return"LIST_ITEM";case"BLOCKQUOTE":return"BLOCKQUOTE";case"CODE_BLOCK":return"CODE_BLOCK";case"VIDEO":return"VIDEO";case"DIVIDER":return"DIVIDER";case"FILE":return"FILE";case"GALLERY":return"GALLERY";case"GIF":return"GIF";case"HTML":return"HTML";case"IMAGE":return"IMAGE";case"LINK_PREVIEW":return"LINK_PREVIEW";case"MAP":return"MAP";case"POLL":return"POLL";case"APP_EMBED":return"APP_EMBED";case"BUTTON":return"BUTTON";case"COLLAPSIBLE_LIST":return"COLLAPSIBLE_LIST";case"TABLE":return"TABLE";case"EMBED":return"EMBED";case"COLLAPSIBLE_ITEM":return"COLLAPSIBLE_ITEM";case"COLLAPSIBLE_ITEM_TITLE":return"COLLAPSIBLE_ITEM_TITLE";case"COLLAPSIBLE_ITEM_BODY":return"COLLAPSIBLE_ITEM_BODY";case"TABLE_CELL":return"TABLE_CELL";case"TABLE_ROW":return"TABLE_ROW";case"EXTERNAL":return"EXTERNAL";default:return"UNKNOWN"}}(message.type)),void 0!==message.id&&(obj.id=message.id),message.nodes?obj.nodes=message.nodes.map((function(e){return e?Node.toJSON(e):void 0})):obj.nodes=[],void 0!==message.style&&(obj.style=message.style?NodeStyle.toJSON(message.style):void 0),void 0!==message.buttonData&&(obj.buttonData=message.buttonData?ButtonData.toJSON(message.buttonData):void 0),void 0!==message.codeBlockData&&(obj.codeBlockData=message.codeBlockData?CodeBlockData_toJSON(message.codeBlockData):void 0),void 0!==message.dividerData&&(obj.dividerData=message.dividerData?DividerData.toJSON(message.dividerData):void 0),void 0!==message.fileData&&(obj.fileData=message.fileData?FileData.toJSON(message.fileData):void 0),void 0!==message.galleryData&&(obj.galleryData=message.galleryData?GalleryData.toJSON(message.galleryData):void 0),void 0!==message.gifData&&(obj.gifData=message.gifData?GIFData.toJSON(message.gifData):void 0),void 0!==message.headingData&&(obj.headingData=message.headingData?HeadingData_toJSON(message.headingData):void 0),void 0!==message.htmlData&&(obj.htmlData=message.htmlData?HTMLData.toJSON(message.htmlData):void 0),void 0!==message.imageData&&(obj.imageData=message.imageData?ImageData.toJSON(message.imageData):void 0),void 0!==message.linkPreviewData&&(obj.linkPreviewData=message.linkPreviewData?LinkPreviewData.toJSON(message.linkPreviewData):void 0),void 0!==message.mapData&&(obj.mapData=message.mapData?MapData.toJSON(message.mapData):void 0),void 0!==message.paragraphData&&(obj.paragraphData=message.paragraphData?ParagraphData_toJSON(message.paragraphData):void 0),void 0!==message.pollData&&(obj.pollData=message.pollData?PollData.toJSON(message.pollData):void 0),void 0!==message.textData&&(obj.textData=message.textData?TextData.toJSON(message.textData):void 0),void 0!==message.appEmbedData&&(obj.appEmbedData=message.appEmbedData?AppEmbedData.toJSON(message.appEmbedData):void 0),void 0!==message.videoData&&(obj.videoData=message.videoData?VideoData.toJSON(message.videoData):void 0),void 0!==message.embedData&&(obj.embedData=message.embedData?EmbedData.toJSON(message.embedData):void 0),void 0!==message.collapsibleListData&&(obj.collapsibleListData=message.collapsibleListData?CollapsibleListData.toJSON(message.collapsibleListData):void 0),void 0!==message.tableData&&(obj.tableData=message.tableData?TableData.toJSON(message.tableData):void 0),void 0!==message.tableCellData&&(obj.tableCellData=message.tableCellData?TableCellData_toJSON(message.tableCellData):void 0),void 0!==message.externalData&&(obj.externalData=message.externalData?Struct_toJSON(message.externalData):void 0),obj}},baseNodeStyle={},NodeStyle={fromJSON:function(object){var message=__assign$1({},baseNodeStyle);return void 0!==object.paddingTop&&null!==object.paddingTop?message.paddingTop=String(object.paddingTop):message.paddingTop=void 0,void 0!==object.paddingBottom&&null!==object.paddingBottom?message.paddingBottom=String(object.paddingBottom):message.paddingBottom=void 0,void 0!==object.backgroundColor&&null!==object.backgroundColor?message.backgroundColor=String(object.backgroundColor):message.backgroundColor=void 0,message},toJSON:function(message){var obj={};return void 0!==message.paddingTop&&(obj.paddingTop=message.paddingTop),void 0!==message.paddingBottom&&(obj.paddingBottom=message.paddingBottom),void 0!==message.backgroundColor&&(obj.backgroundColor=message.backgroundColor),obj}},baseTextData={text:""},TextData={fromJSON:function(object){var message=__assign$1({},baseTextData);if(message.decorations=[],void 0!==object.text&&null!==object.text?message.text=String(object.text):message.text="",void 0!==object.decorations&&null!==object.decorations)for(var _i=0,_a=object.decorations;_i<_a.length;_i++){var e=_a[_i];message.decorations.push(Decoration.fromJSON(e))}return message},toJSON:function(message){var obj={};return void 0!==message.text&&(obj.text=message.text),message.decorations?obj.decorations=message.decorations.map((function(e){return e?Decoration.toJSON(e):void 0})):obj.decorations=[],obj}},baseDecoration={type:"BOLD"},Decoration={fromJSON:function(object){var message=__assign$1({},baseDecoration);return void 0!==object.type&&null!==object.type?message.type=function(object){switch(object){case 0:case"BOLD":return"BOLD";case 1:case"ITALIC":return"ITALIC";case 2:case"UNDERLINE":return"UNDERLINE";case 3:case"SPOILER":return"SPOILER";case 4:case"ANCHOR":return"ANCHOR";case 5:case"MENTION":return"MENTION";case 6:case"LINK":return"LINK";case 7:case"COLOR":return"COLOR";case 8:case"FONT_SIZE":return"FONT_SIZE";case 9:case"EXTERNAL":return"EXTERNAL";case-1:case"UNRECOGNIZED":default:return"UNRECOGNIZED"}}(object.type):message.type="BOLD",void 0!==object.anchorData&&null!==object.anchorData?message.anchorData=AnchorData_fromJSON(object.anchorData):message.anchorData=void 0,void 0!==object.colorData&&null!==object.colorData?message.colorData=ColorData_fromJSON(object.colorData):message.colorData=void 0,void 0!==object.linkData&&null!==object.linkData?message.linkData=LinkData_fromJSON(object.linkData):message.linkData=void 0,void 0!==object.mentionData&&null!==object.mentionData?message.mentionData=MentionData_fromJSON(object.mentionData):message.mentionData=void 0,void 0!==object.fontSizeData&&null!==object.fontSizeData?message.fontSizeData=FontSizeData_fromJSON(object.fontSizeData):message.fontSizeData=void 0,void 0!==object.fontWeightValue&&null!==object.fontWeightValue?message.fontWeightValue=Number(object.fontWeightValue):message.fontWeightValue=void 0,void 0!==object.italicData&&null!==object.italicData?message.italicData=Boolean(object.italicData):message.italicData=void 0,void 0!==object.underlineData&&null!==object.underlineData?message.underlineData=Boolean(object.underlineData):message.underlineData=void 0,message},toJSON:function(message){var obj={};return void 0!==message.type&&(obj.type=function(object){switch(object){case"BOLD":return"BOLD";case"ITALIC":return"ITALIC";case"UNDERLINE":return"UNDERLINE";case"SPOILER":return"SPOILER";case"ANCHOR":return"ANCHOR";case"MENTION":return"MENTION";case"LINK":return"LINK";case"COLOR":return"COLOR";case"FONT_SIZE":return"FONT_SIZE";case"EXTERNAL":return"EXTERNAL";default:return"UNKNOWN"}}(message.type)),void 0!==message.anchorData&&(obj.anchorData=message.anchorData?AnchorData_toJSON(message.anchorData):void 0),void 0!==message.colorData&&(obj.colorData=message.colorData?ColorData_toJSON(message.colorData):void 0),void 0!==message.linkData&&(obj.linkData=message.linkData?LinkData_toJSON(message.linkData):void 0),void 0!==message.mentionData&&(obj.mentionData=message.mentionData?MentionData_toJSON(message.mentionData):void 0),void 0!==message.fontSizeData&&(obj.fontSizeData=message.fontSizeData?FontSizeData_toJSON(message.fontSizeData):void 0),void 0!==message.fontWeightValue&&(obj.fontWeightValue=message.fontWeightValue),void 0!==message.italicData&&(obj.italicData=message.italicData),void 0!==message.underlineData&&(obj.underlineData=message.underlineData),obj}},baseMetadata={version:0},Metadata={fromJSON:function(object){var message=__assign$1({},baseMetadata);return void 0!==object.version&&null!==object.version?message.version=Number(object.version):message.version=0,void 0!==object.createdTimestamp&&null!==object.createdTimestamp?message.createdTimestamp=fromJsonTimestamp(object.createdTimestamp):message.createdTimestamp=void 0,void 0!==object.updatedTimestamp&&null!==object.updatedTimestamp?message.updatedTimestamp=fromJsonTimestamp(object.updatedTimestamp):message.updatedTimestamp=void 0,void 0!==object.id&&null!==object.id?message.id=String(object.id):message.id=void 0,message},toJSON:function(message){var obj={};return void 0!==message.version&&(obj.version=message.version),void 0!==message.createdTimestamp&&(obj.createdTimestamp=void 0!==message.createdTimestamp?message.createdTimestamp.toISOString():null),void 0!==message.updatedTimestamp&&(obj.updatedTimestamp=void 0!==message.updatedTimestamp?message.updatedTimestamp.toISOString():null),void 0!==message.id&&(obj.id=message.id),obj}},baseTextNodeStyle={},TextNodeStyle_fromJSON=function(object){var message=__assign$1({},baseTextNodeStyle);if(message.decorations=[],void 0!==object.decorations&&null!==object.decorations)for(var _i=0,_a=object.decorations;_i<_a.length;_i++){var e=_a[_i];message.decorations.push(Decoration.fromJSON(e))}return message},TextNodeStyle_toJSON=function(message){var obj={};return message.decorations?obj.decorations=message.decorations.map((function(e){return e?Decoration.toJSON(e):void 0})):obj.decorations=[],obj},baseDocumentStyle={},DocumentStyle={fromJSON:function(object){var message=__assign$1({},baseDocumentStyle);return void 0!==object.headerOne&&null!==object.headerOne?message.headerOne=TextNodeStyle_fromJSON(object.headerOne):message.headerOne=void 0,void 0!==object.headerTwo&&null!==object.headerTwo?message.headerTwo=TextNodeStyle_fromJSON(object.headerTwo):message.headerTwo=void 0,void 0!==object.headerThree&&null!==object.headerThree?message.headerThree=TextNodeStyle_fromJSON(object.headerThree):message.headerThree=void 0,void 0!==object.headerFour&&null!==object.headerFour?message.headerFour=TextNodeStyle_fromJSON(object.headerFour):message.headerFour=void 0,void 0!==object.headerFive&&null!==object.headerFive?message.headerFive=TextNodeStyle_fromJSON(object.headerFive):message.headerFive=void 0,void 0!==object.headerSix&&null!==object.headerSix?message.headerSix=TextNodeStyle_fromJSON(object.headerSix):message.headerSix=void 0,void 0!==object.paragraph&&null!==object.paragraph?message.paragraph=TextNodeStyle_fromJSON(object.paragraph):message.paragraph=void 0,message},toJSON:function(message){var obj={};return void 0!==message.headerOne&&(obj.headerOne=message.headerOne?TextNodeStyle_toJSON(message.headerOne):void 0),void 0!==message.headerTwo&&(obj.headerTwo=message.headerTwo?TextNodeStyle_toJSON(message.headerTwo):void 0),void 0!==message.headerThree&&(obj.headerThree=message.headerThree?TextNodeStyle_toJSON(message.headerThree):void 0),void 0!==message.headerFour&&(obj.headerFour=message.headerFour?TextNodeStyle_toJSON(message.headerFour):void 0),void 0!==message.headerFive&&(obj.headerFive=message.headerFive?TextNodeStyle_toJSON(message.headerFive):void 0),void 0!==message.headerSix&&(obj.headerSix=message.headerSix?TextNodeStyle_toJSON(message.headerSix):void 0),void 0!==message.paragraph&&(obj.paragraph=message.paragraph?TextNodeStyle_toJSON(message.paragraph):void 0),obj}};function fromJsonTimestamp(o){return o instanceof Date?o:"string"==typeof o?new Date(o):(t=Timestamp_fromJSON(o),millis=1e3*t.seconds,millis+=t.nanos/1e6,new Date(millis));var t,millis}var _TO_RICOS_DATA,seenKeys={},MULTIPLIER=Math.pow(2,24);function generateId(){for(var key;void 0===key||seenKeys.hasOwnProperty(key)||!isNaN(Number(key));)key=Math.floor(Math.random()*MULTIPLIER).toString(32);return seenKeys[key]=!0,key}var TO_RICOS_DATA=((_TO_RICOS_DATA={})[LINK_BUTTON_TYPE]=ButtonData,_TO_RICOS_DATA[ACTION_BUTTON_TYPE]=ButtonData,_TO_RICOS_DATA[DIVIDER_TYPE]=DividerData,_TO_RICOS_DATA[FILE_UPLOAD_TYPE]=FileData,_TO_RICOS_DATA[GALLERY_TYPE]=GalleryData,_TO_RICOS_DATA[GIPHY_TYPE]=GIFData,_TO_RICOS_DATA[HTML_TYPE]=HTMLData,_TO_RICOS_DATA[IMAGE_TYPE]=ImageData,_TO_RICOS_DATA.IMAGE=ImageData,_TO_RICOS_DATA[LINK_PREVIEW_TYPE]=LinkPreviewData,_TO_RICOS_DATA[MAP_TYPE]=MapData,_TO_RICOS_DATA[APP_EMBED_TYPE]=AppEmbedData,_TO_RICOS_DATA[VIDEO_TYPE]=VideoData,_TO_RICOS_DATA["VIDEO-EMBED"]=VideoData,_TO_RICOS_DATA[POLL_TYPE]=PollData,_TO_RICOS_DATA.EMBED=EmbedData,_TO_RICOS_DATA[COLLAPSIBLE_LIST_TYPE]=CollapsibleListData,_TO_RICOS_DATA[TABLE_TYPE]=TableData,_TO_RICOS_DATA.EXTERNAL={fromJSON:function(data){return data}},_TO_RICOS_DATA);function identity(a){return a}function flow(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}}function pipe$1(a,ab,bc,cd,de,ef,fg,gh,hi,ij,jk,kl,lm,mn,no,op,pq,qr,rs,st){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));case 11:return jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))));case 12:return kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))));case 13:return lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))));case 14:return mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))));case 15:return no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))));case 16:return op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))));case 17:return pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))));case 18:return qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))));case 19:return rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))))));case 20:return st(rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))))))}}var SK=function(_,b){return b},isSome=function(fa){return"Some"===fa._tag},isLeft$1=function(ma){return"Left"===ma._tag},left$1=function(e){return{_tag:"Left",left:e}},right$1=function(a){return{_tag:"Right",right:a}},has=Object.prototype.hasOwnProperty,first=function(){return{concat:identity}},concatAll$1=function(M){return function(startWith){return function(as){return as.reduce((function(a,acc){return M.concat(a,acc)}),startWith)}}},Ord={equals:function(first,second){return first===second},compare:function(first,second){return first<second?-1:first>second?1:0}},toUpperCase=function(s){return s.toUpperCase()},createNode=function(type,_ref){var nodes=_ref.nodes,data=_ref.data,style=_ref.style,id=_ref.id;return _extends__default.default({type:type,id:null!=id?id:generateId(),nodes:nodes},dataByNodeType(type,data),{style:style})},dataByNodeType=function(type,data){var _CODE_BLOCK$DIVIDER$H;return(_CODE_BLOCK$DIVIDER$H={},_CODE_BLOCK$DIVIDER$H.CODE_BLOCK={codeBlockData:data},_CODE_BLOCK$DIVIDER$H.DIVIDER={dividerData:data},_CODE_BLOCK$DIVIDER$H.HEADING={headingData:data},_CODE_BLOCK$DIVIDER$H.FILE={fileData:data},_CODE_BLOCK$DIVIDER$H.GALLERY={galleryData:data},_CODE_BLOCK$DIVIDER$H.GIF={gifData:data},_CODE_BLOCK$DIVIDER$H.HTML={htmlData:data},_CODE_BLOCK$DIVIDER$H.IMAGE={imageData:data},_CODE_BLOCK$DIVIDER$H.BUTTON={buttonData:data},_CODE_BLOCK$DIVIDER$H.LINK_PREVIEW={LinkPreviewData:data},_CODE_BLOCK$DIVIDER$H.MAP={mapData:data},_CODE_BLOCK$DIVIDER$H.PARAGRAPH={paragraphData:data},_CODE_BLOCK$DIVIDER$H.POLL={pollData:data},_CODE_BLOCK$DIVIDER$H.TEXT={textData:data},_CODE_BLOCK$DIVIDER$H.VIDEO={videoData:data},_CODE_BLOCK$DIVIDER$H.APP_EMBED={appEmbedData:data},_CODE_BLOCK$DIVIDER$H.LINK_PREVIEW={linkPreviewData:data},_CODE_BLOCK$DIVIDER$H.TABLE={tableData:data},_CODE_BLOCK$DIVIDER$H.TABLE_CELL={tableCellData:data},_CODE_BLOCK$DIVIDER$H.COLLAPSIBLE_LIST={collapsibleListData:data},_CODE_BLOCK$DIVIDER$H)[type]},initializeMetadata=function(_temp){var _ref2=void 0===_temp?{}:_temp,version=_ref2.version,_ref2$id=_ref2.id,id=void 0===_ref2$id?uuid.v4():_ref2$id,createdTimestamp=_ref2.createdTimestamp,updatedTimestamp=_ref2.updatedTimestamp;return{version:version||1,createdTimestamp:createdTimestamp||new Date,updatedTimestamp:updatedTimestamp||new Date,id:id}},toLinkTarget=function(target){return void 0===target&&(target="SELF"),pipe$1(target,toUpperCase,(searchValue="_",replaceValue="",function(s){return s.replace(searchValue,replaceValue)}));var searchValue,replaceValue},createLink=function(_ref4){var url=_ref4.url,rel=_ref4.rel,target=_ref4.target,anchor=_ref4.anchor,relValues=(null==rel?void 0:rel.split(" ").filter((function(key){return["nofollow","sponsored","ugc"].includes(key)})).map((function(key){return[key,!0]})))||[];return{anchor:anchor,url:url,rel:relValues.length>0?fromEntries(relValues):void 0,target:toLinkTarget(target)}},parseLink=function(_ref5){var url=_ref5.url,rel=_ref5.rel,target=_ref5.target,anchor=_ref5.anchor,customData=_ref5.customData;return{anchor:anchor,url:url,rel:rel&&Object.entries(rel).flatMap((function(_ref6){var key=_ref6[0];return _ref6[1]?key:[]})).join(" "),target:target&&"_"+target.toLowerCase(),customData:customData}},toNoCase_1=function(string){return hasSpace.test(string)?string.toLowerCase():hasSeparator.test(string)?(function(string){return string.replace(separatorSplitter,(function(m,next){return next?" "+next:""}))}(string)||string).toLowerCase():hasCamel.test(string)?function(string){return string.replace(camelSplitter,(function(m,previous,uppers){return previous+" "+uppers.toLowerCase().split("").join(" ")}))}(string).toLowerCase():string.toLowerCase()},hasSpace=/\s/,hasSeparator=/(_|-|\.|:)/,hasCamel=/([a-z][A-Z]|[A-Z][a-z])/;var separatorSplitter=/[\W_]+(.|$)/g;var camelSplitter=/(.)([A-Z]+)/g;var toSpaceCase_1=function(string){return toNoCase_1(string).replace(/[\W_]+(.|$)/g,(function(matches,match){return match?" "+match:""})).trim()};var toSnakeCase_1=function(string){return toSpaceCase_1(string).replace(/\s/g,"_")};var toConstantCase_1=function(string){return toSnakeCase_1(string).toUpperCase()};function fromPredicate$1(F){return function(predicate,onFalse){return function(a){return F.fromEither(predicate(a)?right$1(a):left$1(onFalse(a)))}}}var separated=function(left,right){return{left:left,right:right}};function wiltDefault(T,C){return function(F){var traverseF=T.traverse(F);return function(wa,f){return F.map(traverseF(wa,f),C.separate)}}}function witherDefault(T,C){return function(F){var traverseF=T.traverse(F);return function(wa,f){return F.map(traverseF(wa,f),C.compact)}}}var map$2=function(f){return function(fa){return fa.map((function(a){return f(a)}))}},concatAll=function(M){return concatAll$1(M)(M.empty)},isEmpty=function(r){for(var k in r)if(has.call(r,k))return!1;return!0},keys_$1=function(O){return function(r){return Object.keys(r).sort(O.compare)}},empty={};function mapWithIndex(f){return function(r){var out={};for(var k in r)has.call(r,k)&&(out[k]=f(k,r[k]));return out}}function reduceWithIndex(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(2===args.length)return reduceWithIndex(Ord).apply(void 0,args);var keysO=keys_$1(args[0]);return function(b,f){return function(fa){for(var out=b,ks=keysO(fa),len=ks.length,i=0;i<len;i++){var k=ks[i];out=f(k,out,fa[k])}return out}}}function foldMapWithIndex(O){if("compare"in O){var keysO_1=keys_$1(O);return function(M){return function(f){return function(fa){for(var out=M.empty,ks=keysO_1(fa),len=ks.length,i=0;i<len;i++){var k=ks[i];out=M.concat(out,f(k,fa[k]))}return out}}}}return foldMapWithIndex(Ord)(O)}function reduceRightWithIndex(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(2===args.length)return reduceRightWithIndex(Ord).apply(void 0,args);var keysO=keys_$1(args[0]);return function(b,f){return function(fa){for(var out=b,ks=keysO(fa),i=ks.length-1;i>=0;i--){var k=ks[i];out=f(k,fa[k],out)}return out}}}function sequence$1(F){return _sequence(Ord)(F)}var _map$1=function(fa,f){return pipe$1(fa,function(f){return mapWithIndex((function(_,a){return f(a)}))}(f))},_reduce$1=function(O){var reduceO=reduce(O);return function(fa,b,f){return pipe$1(fa,reduceO(b,f))}},_foldMap$1=function(O){return function(M){var foldMapM=foldMap(O)(M);return function(fa,f){return pipe$1(fa,foldMapM(f))}}},_reduceRight$1=function(O){var reduceRightO=reduceRight(O);return function(fa,b,f){return pipe$1(fa,reduceRightO(b,f))}},_reduceWithIndex$1=function(O){var reduceWithIndexO=reduceWithIndex(O);return function(fa,b,f){return pipe$1(fa,reduceWithIndexO(b,f))}},_foldMapWithIndex$1=function(O){var foldMapWithIndexO=foldMapWithIndex(O);return function(M){var foldMapWithIndexM=foldMapWithIndexO(M);return function(fa,f){return pipe$1(fa,foldMapWithIndexM(f))}}},_reduceRightWithIndex$1=function(O){var reduceRightWithIndexO=reduceRightWithIndex(O);return function(fa,b,f){return pipe$1(fa,reduceRightWithIndexO(b,f))}},_traverse$1=function(O){var traverseWithIndexO=_traverseWithIndex$1(O);return function(F){var traverseWithIndexOF=traverseWithIndexO(F);return function(ta,f){return traverseWithIndexOF(ta,flow(SK,f))}}},_sequence=function(O){var traverseO=_traverse$1(O);return function(F){var traverseOF=traverseO(F);return function(ta){return traverseOF(ta,identity)}}},_traverseWithIndex$1=function(O){return function(F){var keysO=keys_$1(O);return function(ta,f){var ks=keysO(ta);if(0===ks.length)return F.of(empty);for(var fr=F.of({}),_loop_1=function(key){fr=F.ap(F.map(fr,(function(r){return function(b){return r[key]=b,r}})),f(key,ta[key]))},_i=0,ks_1=ks;_i<ks_1.length;_i++){_loop_1(ks_1[_i])}return fr}}};function reduce(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(1===args.length){var reduceWithIndexO_1=reduceWithIndex(args[0]);return function(b,f){return reduceWithIndexO_1(b,(function(_,b,a){return f(b,a)}))}}return reduce(Ord).apply(void 0,args)}function foldMap(O){if("compare"in O){var foldMapWithIndexO_1=foldMapWithIndex(O);return function(M){var foldMapWithIndexM=foldMapWithIndexO_1(M);return function(f){return foldMapWithIndexM((function(_,a){return f(a)}))}}}return foldMap(Ord)(O)}function reduceRight(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(1===args.length){var reduceRightWithIndexO_1=reduceRightWithIndex(args[0]);return function(b,f){return reduceRightWithIndexO_1(b,(function(_,b,a){return f(b,a)}))}}return reduceRight(Ord).apply(void 0,args)}var compact$1=function(r){var out={};for(var k in r)if(has.call(r,k)){var oa=r[k];isSome(oa)&&(out[k]=oa.value)}return out},separate$1=function(r){var left={},right={};for(var k in r)if(has.call(r,k)){var e=r[k];isLeft$1(e)?left[k]=e.left:right[k]=e.right}return separated(left,right)},URI$2="ReadonlyRecord";var Compactable$1={URI:URI$2,compact:compact$1,separate:separate$1};_reduce$1(Ord),_foldMap$1(Ord),_reduceRight$1(Ord),_reduce$1(Ord),_foldMap$1(Ord),_reduceRight$1(Ord),_reduceWithIndex$1(Ord),_foldMapWithIndex$1(Ord),_reduceRightWithIndex$1(Ord);var Traversable$1={URI:URI$2,map:_map$1,reduce:_reduce$1(Ord),foldMap:_foldMap$1(Ord),reduceRight:_reduceRight$1(Ord),traverse:_traverse$1(Ord),sequence:sequence$1};_reduce$1(Ord),_foldMap$1(Ord),_reduceRight$1(Ord),_reduceWithIndex$1(Ord),_foldMapWithIndex$1(Ord),_reduceRightWithIndex$1(Ord),_traverse$1(Ord),_traverseWithIndex$1(Ord);witherDefault(Traversable$1,Compactable$1),wiltDefault(Traversable$1,Compactable$1);_reduce$1(Ord),_foldMap$1(Ord),_reduceRight$1(Ord),_traverse$1(Ord),_reduce$1(Ord),_foldMap$1(Ord),_reduceRight$1(Ord),_traverse$1(Ord),_reduceWithIndex$1(Ord),_foldMapWithIndex$1(Ord),_reduceRightWithIndex$1(Ord),_traverseWithIndex$1(Ord);function sequence(F){return sequence$1(F)}var _map=_map$1,_reduce=_reduce$1,_foldMap=_foldMap$1,_reduceRight=_reduceRight$1,_reduceWithIndex=_reduceWithIndex$1,_foldMapWithIndex=_foldMapWithIndex$1,_reduceRightWithIndex=_reduceRightWithIndex$1,_traverse=_traverse$1,_traverseWithIndex=function(O){return function(F){var keysO=function(O){return function(r){return Object.keys(r).sort(O.compare)}}(O);return function(ta,f){var ks=keysO(ta);if(0===ks.length)return F.of({});for(var fr=F.of({}),_loop_1=function(key){fr=F.ap(F.map(fr,(function(r){return function(b){return r[key]=b,r}})),f(key,ta[key]))},_i=0,ks_1=ks;_i<ks_1.length;_i++){_loop_1(ks_1[_i])}return fr}}},compact=compact$1,separate=separate$1,URI$1="Record",getMonoid=function(S){return{concat:function(first,second){if(isEmpty(first))return second;if(isEmpty(second))return first;var r=Object.assign({},first);for(var k in second)has.call(second,k)&&(r[k]=has.call(first,k)?S.concat(first[k],second[k]):second[k]);return r},empty:empty}},Compactable={URI:URI$1,compact:compact,separate:separate};_reduce(Ord),_foldMap(Ord),_reduceRight(Ord),_reduce(Ord),_foldMap(Ord),_reduceRight(Ord),_reduceWithIndex(Ord),_foldMapWithIndex(Ord),_reduceRightWithIndex(Ord);var Traversable={URI:URI$1,map:_map,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),traverse:_traverse(Ord),sequence:sequence};_reduce(Ord),_foldMap(Ord),_reduceRight(Ord),_reduceWithIndex(Ord),_foldMapWithIndex(Ord),_reduceRightWithIndex(Ord),_traverse(Ord),_traverseWithIndex(Ord);witherDefault(Traversable,Compactable),wiltDefault(Traversable,Compactable);_reduce(Ord),_foldMap(Ord),_reduceRight(Ord),_traverse(Ord),_reduce(Ord),_foldMap(Ord),_reduceRight(Ord),_traverse(Ord),_reduceWithIndex(Ord),_foldMapWithIndex(Ord),_reduceRightWithIndex(Ord),_traverseWithIndex(Ord);var _nestedNodesConverter,fst=function(ea){return ea[0]},snd=function(ea){return ea[1]},bimap=function(f,g){return function(fa){return[g(fst(fa)),f(snd(fa))]}},left=left$1,right=right$1,chain=function(f){return function(ma){return isLeft(ma)?ma:f(ma.right)}},fromPredicate=fromPredicate$1({URI:"Either",fromEither:identity}),isLeft=isLeft$1,fold=function(onLeft,onRight){return function(ma){return isLeft(ma)?onLeft(ma.left):onRight(ma.right)}},tryCatch=function(f,onThrow){try{return right(f())}catch(e){return left(onThrow(e))}},firstRight=function(candidate,defaultT,resolvers){var S,firstRightSemi=(S=first(),{concat:function(x,y){return isLeft(y)?x:isLeft(x)?y:right(S.concat(x.right,y.right))}});return pipe$1(concatAll$1(firstRightSemi)(left(defaultT))(pipe$1(resolvers,map$2((function(r){return pipe$1(candidate,fromPredicate(r[0],(function(){return defaultT})),(f=r[1],function(fa){return isLeft(fa)?fa:right(f(fa.right))}));var f})))),fold(identity,identity))},valueM=getMonoid(first()),toListValue=function(values){return{values:values}},defaultValue={numberValue:void 0,nullValue:void 0,stringValue:void 0,boolValue:void 0},convertJsonToList=function(json){return pipe$1(json,map$2(convertJsonToValue),toListValue)},convertJsonToValue=function(json){return firstRight(json,_extends__default.default({},defaultValue,{nullValue:"NULL_VALUE"}),[[function(json){return"number"==typeof json},function(json){return _extends__default.default({},defaultValue,{numberValue:json})}],[function(json){return"string"==typeof json},function(json){return _extends__default.default({},defaultValue,{stringValue:json})}],[function(json){return"boolean"==typeof json},function(json){return _extends__default.default({},defaultValue,{boolValue:json})}],[function(json){return Array.isArray(json)},function(json){return _extends__default.default({},defaultValue,{listValue:convertJsonToList(json)})}],[function(json){return lodash.isObject(json)},function(json){return _extends__default.default({},defaultValue,{structValue:convertJsonToStruct(json)})}]])},convertJsonToStruct=flow(Object.entries,map$2(bimap(convertJsonToValue,identity)),map$2((function(_ref){var _ref2,k=_ref[0],v=_ref[1];return(_ref2={})[k]=v,_ref2})),concatAll(valueM),(function(fields){return{fields:fields}})),_excluded$4=["mediaId"],convertBlockDataToRicos=function(type,data){var _converters,newData=lodash.cloneDeep(data),converters=((_converters={})[VIDEO_TYPE]=convertVideoData$1,_converters[DIVIDER_TYPE]=convertDividerData$1,_converters[FILE_UPLOAD_TYPE]=convertFileData$1,_converters[GIPHY_TYPE]=convertGIFData$1,_converters[IMAGE_TYPE]=convertImageData$1,_converters[POLL_TYPE]=convertPollData$1,_converters[APP_EMBED_TYPE]=convertAppEmbedData$1,_converters[LINK_PREVIEW_TYPE]=convertLinkPreviewData$1,_converters.mention=convertMentionData$1,_converters[LINK_BUTTON_TYPE]=convertButtonData$1,_converters[ACTION_BUTTON_TYPE]=convertButtonData$1,_converters[COLLAPSIBLE_LIST_TYPE]=convertCollapsibleListData$1,_converters[HTML_TYPE]=convertHTMLData$1,_converters[MAP_TYPE]=convertMapData$1,_converters.EMBED=convertEmbedData$1,_converters.LINK=convertLinkData$1,_converters[TABLE_TYPE]=convertTableData$1,_converters[GALLERY_TYPE]=convertGalleryData$1,_converters.EXTERNAL=convertExternalData$1,_converters),blockType=type;(type===LINK_PREVIEW_TYPE&&data.html&&(blockType="EMBED"),newData.config&&"EXTERNAL"!==blockType&&convertContainerData$1(newData,blockType),blockType in converters)&&(0,converters[blockType])(newData,blockType);return function(data){var pluginDataMethods=TO_RICOS_DATA[blockType];return(null==pluginDataMethods?void 0:pluginDataMethods.fromJSON(data))||data}(newData)},convertContainerData$1=function(data,blockType){var _ref=data.config||{},size=_ref.size,alignment=_ref.alignment,width=_ref.width,spoiler=_ref.spoiler,height=_ref.height,_ref$textWrap=_ref.textWrap,textWrap=void 0===_ref$textWrap?"wrap":_ref$textWrap,_ref2=spoiler||{},enabled=_ref2.enabled,description=_ref2.description,buttonContent=_ref2.buttonContent,newSpoiler=spoiler&&{enabled:enabled||!1,description:description,buttonText:buttonContent};data.containerData={alignment:null==alignment?void 0:alignment.toUpperCase(),spoiler:newSpoiler,textWrap:"nowrap"!==textWrap},"number"==typeof height&&(data.containerData.height={custom:height}),"number"==typeof width?data.containerData.width={custom:width}:size&&(data.containerData.width={size:toConstantCase_1(size)}),blockType!==ACTION_BUTTON_TYPE&&blockType!==LINK_BUTTON_TYPE||!data.containerData.width.size||(data.containerData.width.size="ORIGINAL")},convertVideoData$1=function(data){if("string"==typeof data.src){data.video={src:{url:data.src}};var _ref3=data.metadata||{},thumbnail_url=_ref3.thumbnail_url,width=_ref3.width,height=_ref3.height,title=_ref3.title;title&&(data.title=title),data.thumbnail={src:{url:thumbnail_url},width:width,height:height}}else"object"==typeof data.src&&(data.video={src:{id:data.src.pathname}},data.thumbnail={src:{id:data.src.thumbnail.pathname},width:data.src.thumbnail.width,height:data.src.thumbnail.height})},convertGalleryData$1=function(data){var styles;lodash.has(data,"items")&&(data.items=data.items.map((function(item){return function(item){var url=item.url,_item$metadata=item.metadata,_item$metadata$type=_item$metadata.type,type=void 0===_item$metadata$type?"image":_item$metadata$type,poster=_item$metadata.poster,height=_item$metadata.height,width=_item$metadata.width,link=_item$metadata.link,title=_item$metadata.title,altText=_item$metadata.altText;if(item[type]={media:{src:{url:url},height:height,width:width}},title&&(item.title=title),altText&&(item.altText=altText),"video"===type&&poster){var src={url:poster.url||poster};item.video.thumbnail={src:src,height:poster.height||height,width:poster.width||width}}return"image"===type&&link&&(item.image.link=link),item}(item)}))),lodash.has(data,"styles")&&(data.options=((styles=data.styles).layout={},styles.item={},styles.thumbnails={},lodash.has(styles,"galleryLayout")&&(styles.layout.type=styles.galleryLayout),lodash.has(styles,"oneRow")&&(styles.layout.horizontalScroll=styles.oneRow),lodash.has(styles,"isVertical")&&(styles.layout.orientation=styles.isVertical?"COLUMNS":"ROWS"),lodash.has(styles,"numberOfImagesPerRow")&&(styles.layout.numberOfColumns=styles.numberOfImagesPerRow),lodash.has(styles,"gallerySizePx")&&(styles.item.targetSize=styles.gallerySizePx),lodash.has(styles,"cubeRatio")&&(styles.item.ratio=styles.cubeRatio),lodash.has(styles,"cubeType")&&(styles.item.crop=styles.cubeType.toUpperCase()),lodash.has(styles,"imageMargin")&&(styles.item.spacing=styles.imageMargin),lodash.has(styles,"galleryThumbnailsAlignment")&&(styles.thumbnails.placement=styles.galleryThumbnailsAlignment.toUpperCase()),lodash.has(styles,"thumbnailSpacings")&&(styles.thumbnails.spacing=2*styles.thumbnailSpacings),styles))},convertDividerData$1=function(data){var _data$type,_data$config,_data$config$size,_data$config2,_data$config2$alignme;lodash.has(data,"type")&&(data.lineStyle=null===(_data$type=data.type)||void 0===_data$type?void 0:_data$type.toUpperCase()),lodash.has(data,"config.size")&&(data.width=null===(_data$config=data.config)||void 0===_data$config||null===(_data$config$size=_data$config.size)||void 0===_data$config$size?void 0:_data$config$size.toUpperCase()),lodash.has(data,"config.alignment")&&(data.alignment=null===(_data$config2=data.config)||void 0===_data$config2||null===(_data$config2$alignme=_data$config2.alignment)||void 0===_data$config2$alignme?void 0:_data$config2$alignme.toUpperCase()),data.containerData.width={size:"CONTENT"}},convertExternalData$1=function(data){data.fields=convertJsonToStruct(data).fields},convertImageData$1=function(data){var _data$metadata,_data$metadata2,_ref4=data.src||{},file_name=_ref4.file_name,width=_ref4.width,height=_ref4.height,_ref5=data.config||{},link=_ref5.link,anchor=_ref5.anchor;data.image={src:{id:file_name},width:width,height:height},data.link=(link||anchor)&&createLink(_extends__default.default({},link,{anchor:anchor})),data.altText=null===(_data$metadata=data.metadata)||void 0===_data$metadata?void 0:_data$metadata.alt,data.caption=null===(_data$metadata2=data.metadata)||void 0===_data$metadata2?void 0:_data$metadata2.caption},convertGIFData$1=function(data){var _ref6=data.gif||{},originalUrl=_ref6.originalUrl,originalMp4=_ref6.originalMp4,stillUrl=_ref6.stillUrl,downsizedUrl=_ref6.downsizedUrl,downsizedSmallMp4=_ref6.downsizedSmallMp4,downsizedStillUrl=_ref6.downsizedStillUrl,height=_ref6.height,width=_ref6.width;data.original={gif:originalUrl,mp4:originalMp4,still:stillUrl},data.downsized={gif:downsizedUrl,mp4:downsizedSmallMp4,still:downsizedStillUrl},data.height=height,data.width=width,delete data.gif},convertPollData$1=function(data){if(lodash.has(data,"layout.poll.type")&&(data.layout.poll.type=data.layout.poll.type.toUpperCase()),lodash.has(data,"layout.poll.direction")&&(data.layout.poll.direction=data.layout.poll.direction.toUpperCase()),lodash.has(data,"layout.option")&&(data.layout.options=data.layout.option,delete data.layout.option),lodash.has(data,"design")){var _regex$exec,_regex$exec2,_data$design=data.design,_data$design$poll=_data$design.poll,poll=void 0===_data$design$poll?{}:_data$design$poll,_data$design$option=_data$design.option,option=void 0===_data$design$option?{}:_data$design$option,backgroundType=poll.backgroundType,background=poll.background,regex=/(\d*)px/;data.design={poll:{background:_extends__default.default({type:null==backgroundType?void 0:backgroundType.toUpperCase()},function(background){var _background$start,_background$end,_background$charAt;return null!=background&&background.angle?{gradient:{angle:background.angle,startColor:null==background||null===(_background$start=background.start)||void 0===_background$start?void 0:_background$start.toUpperCase(),lastColor:null===(_background$end=background.end)||void 0===_background$end?void 0:_background$end.toUpperCase()}}:"#"===(null==background||null===(_background$charAt=background.charAt)||void 0===_background$charAt?void 0:_background$charAt.call(background,0))?{color:null==background?void 0:background.toUpperCase()}:{image:{src:{url:background}}}}(background)),borderRadius:parseInt((null===(_regex$exec=regex.exec(poll.borderRadius))||void 0===_regex$exec?void 0:_regex$exec[1])||"0")},options:{borderRadius:parseInt((null===(_regex$exec2=regex.exec(option.borderRadius))||void 0===_regex$exec2?void 0:_regex$exec2[1])||"0")}}}if(lodash.has(data,"poll.id")&&(data.poll.pollId=data.poll.id),lodash.has(data,"poll.createdBy")&&(data.poll.creatorId=data.poll.createdBy),lodash.has(data,"poll.mediaId")&&(data.poll.image={src:{url:data.poll.mediaId}}),lodash.has(data,"poll.options")&&(data.poll.options=data.poll.options.map((function(_ref7){var mediaId=_ref7.mediaId,rest=_objectWithoutPropertiesLoose__default.default(_ref7,_excluded$4);return _extends__default.default({image:{src:{url:mediaId}}},rest)}))),lodash.has(data,"poll.settings")){var _data$poll$settings=data.poll.settings,multipleVotes=_data$poll$settings.multipleVotes,voteRole=_data$poll$settings.voteRole,resultsVisibility=_data$poll$settings.resultsVisibility,votersDisplay=_data$poll$settings.votersDisplay,votesDisplay=_data$poll$settings.votesDisplay;data.poll.settings={permissions:{view:function(resultsVisibility){return"ALWAYS"===resultsVisibility?"EVERYONE":"VOTERS_ONLY"===resultsVisibility?"VOTERS":"CREATOR"}(resultsVisibility),vote:voteRole,allowMultipleVotes:multipleVotes},showVoters:votersDisplay,showVotesCount:votesDisplay}}lodash.has(data,"containerData.width.size")&&(data.containerData.width.size="CONTENT")},convertAppEmbedData$1=function(data){var _html$match,_html$match$,_data$type2,_data$selectedProduct=data.selectedProduct,id=_data$selectedProduct.id,name=_data$selectedProduct.name,imageSrc=_data$selectedProduct.imageSrc,description=_data$selectedProduct.description,pageUrl=_data$selectedProduct.pageUrl,scheduling=_data$selectedProduct.scheduling,location=_data$selectedProduct.location,html=_data$selectedProduct.html,durations=_data$selectedProduct.durations;if(data.url=pageUrl||html&&(data.url=null===(_html$match=html.match(/href="[^"]*/g))||void 0===_html$match||null===(_html$match$=_html$match[0])||void 0===_html$match$?void 0:_html$match$.slice(6)),data.itemId=id,data.name=name,data.imageSrc=imageSrc,"booking"===data.type)data.bookingData={durations:durations||description};else if("event"===data.type){var _description$match,_description$match2;data.eventData={location:location||description&&(null===(_description$match=description.match(/[^|]*$/))||void 0===_description$match?void 0:_description$match[0]),scheduling:scheduling||description&&(null===(_description$match2=description.match(/[^|]+/))||void 0===_description$match2?void 0:_description$match2[0])}}data.type=null===(_data$type2=data.type)||void 0===_data$type2?void 0:_data$type2.toUpperCase()},convertLinkPreviewData$1=function(data){var _data$config3,_data$config4;lodash.has(data,"thumbnail_url")&&(data.thumbnailUrl=data.thumbnail_url),(null===(_data$config3=data.config)||void 0===_data$config3?void 0:_data$config3.link)&&(data.link=createLink(null===(_data$config4=data.config)||void 0===_data$config4?void 0:_data$config4.link))},convertMentionData$1=function(data){var _data$mention,_data$mention2;data.name=null===(_data$mention=data.mention)||void 0===_data$mention?void 0:_data$mention.name,data.slug=null===(_data$mention2=data.mention)||void 0===_data$mention2?void 0:_data$mention2.slug,delete data.mention},convertFileData$1=function(data){var url=data.url,id=data.id,privacy=data.privacy,src={url:url,id:id,private:void 0!==privacy?"private"===privacy:void 0};data.src=src},convertCollapsibleListData$1=function(data){var _ref9=(data||{}).config||{},expandState=_ref9.expandState,expandOnlyOne=_ref9.expandOnlyOne,direction=_ref9.direction;data.initialExpandedItems=function(expandState){return"expanded"===expandState?"ALL":"collapsed"===expandState?"NONE":"FIRST"}(expandState),data.expandOnlyOne=expandOnlyOne,data.direction=null==direction?void 0:direction.toUpperCase()},convertButtonData$1=function(data,blockType){var _ref10=data.button||{},settings=_ref10.settings,_ref11=_ref10.design||{},borderRadius=_ref11.borderRadius,borderWidth=_ref11.borderWidth,background=_ref11.background,color=_ref11.color,borderColor=_ref11.borderColor,_ref12=settings||{},buttonText=_ref12.buttonText,url=_ref12.url,rel=_ref12.rel,target=_ref12.target;data.styles={colors:{text:color,border:borderColor,background:background},border:{radius:borderRadius,width:borderWidth}},data.type=blockType===ACTION_BUTTON_TYPE?"ACTION":"LINK",data.text=buttonText,url&&(data.link=createLink({url:url,rel:rel,target:target}))},convertHTMLData$1=function(data){var src=data.src;data[data.srcType]=src},convertMapData$1=function(data){var _data$mapSettings=data.mapSettings,isDraggingAllowed=_data$mapSettings.isDraggingAllowed,isMarkerShown=_data$mapSettings.isMarkerShown,isStreetViewControlShown=_data$mapSettings.isStreetViewControlShown,isZoomControlShown=_data$mapSettings.isZoomControlShown,locationDisplayName=_data$mapSettings.locationDisplayName,isViewControlShown=_data$mapSettings.isViewControlShown,zoom=_data$mapSettings.zoom,mode=_data$mapSettings.mode;data.mapSettings.draggable=isDraggingAllowed,data.mapSettings.marker=isMarkerShown,data.mapSettings.streetViewControl=isStreetViewControlShown,data.mapSettings.zoomControl=isZoomControlShown,data.mapSettings.locationName=locationDisplayName,data.mapSettings.initialZoom=zoom,data.mapSettings.mapType=null==mode?void 0:mode.toUpperCase(),lodash.has(data.mapSettings,"isViewControlShown")&&(data.mapSettings.viewModeControl=isViewControlShown)},convertEmbedData$1=function(data){var _data$config5,_data$config5$link,url=null===(_data$config5=data.config)||void 0===_data$config5||null===(_data$config5$link=_data$config5.link)||void 0===_data$config5$link?void 0:_data$config5$link.url;url&&(data.src=url),data.oembed={type:"rich",thumbnailUrl:data.thumbnail_url,title:data.title,description:data.description,html:data.html}},convertLinkData$1=function(data){data.link=createLink(data)},convertTableData$1=function(data){var _data$config6=data.config,colsWidth=_data$config6.colsWidth,rowsHeight=_data$config6.rowsHeight,colsMinWidth=_data$config6.colsMinWidth,rowHeader=_data$config6.rowHeader;data.dimensions={colsWidthRatio:colsWidth,rowsHeight:rowsHeight,colsMinWidth:colsMinWidth},data.header=rowHeader},getEntity=function(key,entityMap){var _data$config,_advancedPluginsAddit,_extends2;if(!entityMap[key])return console.error("Invalid entity key '"+key+"' -- entry does not exist."),null;var _entityMap$key=entityMap[key],type=_entityMap$key.type,data=_entityMap$key.data,blockType=type===LINK_PREVIEW_TYPE&&data.html?"EMBED":type,dataFieldName=TO_RICOS_DATA_FIELD[blockType];if(void 0===dataFieldName)return console.error('Unknown entity type "'+blockType+'"!'),null;var advancedPluginsAdditionalData=((_advancedPluginsAddit={})[COLLAPSIBLE_LIST_TYPE]={pairs:null==data?void 0:data.pairs},_advancedPluginsAddit[TABLE_TYPE]={rows:null==data||null===(_data$config=data.config)||void 0===_data$config?void 0:_data$config.rows},_advancedPluginsAddit);return _extends__default.default(((_extends2={type:TO_RICOS_PLUGIN_TYPE[blockType]})[dataFieldName]=convertBlockDataToRicos(blockType,data),_extends2),advancedPluginsAdditionalData[blockType]||{})},getTextStyle=function(blockData){var _ref=blockData||{},textAlignment=_ref.textAlignment,lineHeight=(_ref.dynamicStyles||{})["line-height"];return{textAlignment:null==textAlignment?void 0:textAlignment.toUpperCase(),lineHeight:lineHeight}},getNodeStyle=function(blockData){var _ref4=(blockData||{}).dynamicStyles||{},paddingTop=_ref4["padding-top"],paddingBottom=_ref4["padding-bottom"],backgroundColor=_ref4.backgroundColor,style=lodash.pickBy({paddingTop:paddingTop,paddingBottom:paddingBottom,backgroundColor:backgroundColor},lodash.identity);return Object.values(style).length>0?style:void 0},_excluded$3=["offset","length"],isDecorationType=function(decorationType){return void 0!==TO_RICOS_DECORATION_TYPE[decorationType]||Object.keys(dynamicDecorationGetters).some((function(dynamicType){return decorationType.includes(dynamicType)}))},dynamicDecorationGetters={FG:function(value){return{type:"COLOR",colorData:{foreground:value}}},BG:function(value){return{type:"COLOR",colorData:{background:value}}},"font-size":function(value){var values=value.split(/(px)/g).length>=2?value.split(/(px)/g):value.split(/(em)/g);return{type:"FONT_SIZE",fontSizeData:{unit:values[1].toUpperCase(),value:parseInt(values[0])}}}},getTextNodes=function(block,entityMap,_temp){var ignoreUnsupportedValues=(void 0===_temp?{}:_temp).ignoreUnsupportedValues,createTextNodeWithDecorations=function(_ref2){var text=_ref2.text,_ref2$styles=_ref2.styles,styles=void 0===_ref2$styles?[]:_ref2$styles,_ref2$keys=_ref2.keys,keys=void 0===_ref2$keys?[]:_ref2$keys,textNode=function(text,decorations){return void 0===decorations&&(decorations=[]),createNode("TEXT",{nodes:[],id:"",data:{text:text,decorations:decorations}})}(text),decorations=[],keysDecorations=keys.map((function(key){return getEntity(key,entityMap)})).filter((function(x){return x})),stylesDecorations=function(decorations){var colorDecorations=decorations.filter((function(decoration){return"COLOR"===decoration.type})),otherDecorations=decorations.filter((function(decoration){return"COLOR"!==decoration.type}));return colorDecorations.length>0?otherDecorations.concat([lodash.merge.apply(void 0,[{}].concat(colorDecorations))]):otherDecorations}(styles.map((function(style){return getDecoration(style)})));return decorations=[].concat(decorations,keysDecorations,stylesDecorations),!lodash.isEmpty(decorations)&&textNode.textData&&(textNode.textData.decorations=decorations),textNode},getDecoration=function(style){var decoration;try{var styleObj=JSON.parse(style),type=Object.keys(styleObj)[0],value=Object.values(styleObj)[0];decoration=dynamicDecorationGetters[type](value)}catch(_unused){if(!isDecorationType(style)&&!ignoreUnsupportedValues)throw Error('Unknown decoration type "'+style+'"!');decoration=TO_RICOS_INLINE_STYLE_TYPE[style]||{type:TO_RICOS_DECORATION_TYPE[style]}}return decoration},text=block.text,inlineStyleRanges=block.inlineStyleRanges,entityRanges=block.entityRanges;if(0===text.length)return[];var supportedInlineStyleRanges=ignoreUnsupportedValues?function(inlineStyleRanges){return inlineStyleRanges.filter((function(range){return isDecorationType(range.style)}))}(inlineStyleRanges):inlineStyleRanges,rangeMap={};[].concat(supportedInlineStyleRanges,function(entityRanges,entityMap){return entityRanges.filter((function(range){return!["EMOJI_TYPE",EMOJI_TYPE].includes(entityMap[range.key].type)}))}(entityRanges,entityMap)).forEach((function(_ref3){var offset=_ref3.offset,length=_ref3.length,props=_objectWithoutPropertiesLoose__default.default(_ref3,_excluded$3);rangeMap[offset]=[].concat(rangeMap[offset]||[],[_extends__default.default({action:"start"},props)]),rangeMap[offset+length]=[].concat(rangeMap[offset+length]||[],[_extends__default.default({action:"end"},props)])}));var textNodes=[],styles=[],keys=[];rangeMap[0]||(rangeMap[0]=[]);var numbers=Object.keys(rangeMap).map(Number);return numbers.forEach((function(point,i){numbers[i]<text.length&&(rangeMap[point].forEach((function(_ref4){var action=_ref4.action,key=_ref4.key,style=_ref4.style;"start"===action?style?styles.push(style):keys.push(key):style?styles=styles.filter((function(s){return s!==style})):keys=keys.filter((function(s){return s!==key}))})),textNodes.push(createTextNodeWithDecorations({text:Array.from(text).slice(numbers[i],numbers[i+1]).join(""),styles:styles,keys:keys})))})),textNodes},nestedNodesConverters=((_nestedNodesConverter={}).COLLAPSIBLE_LIST=function(entity){return entity.pairs.map((function(pair){return{id:pair.key,type:"COLLAPSIBLE_ITEM",nodes:[{id:generateId(),type:"COLLAPSIBLE_ITEM_TITLE",nodes:fromDraft(pair.title).nodes},{id:generateId(),type:"COLLAPSIBLE_ITEM_BODY",nodes:fromDraft(pair.content).nodes}]}}))},_nestedNodesConverter.TABLE=function(entity){return Object.entries(entity.rows).map((function(_ref){var row=_ref[1];return{id:generateId(),type:"TABLE_ROW",nodes:Object.entries(row.columns).map((function(_ref2){var _cell$style,_cell$style$verticalA,_cell$style2,_cell$style2$backgrou,_cell$border,_cell$border$top,_cell$border2,_cell$border2$left,_cell$border3,_cell$border3$right,_cell$border4,_cell$border4$bottom,cell=_ref2[1];return{id:generateId(),type:"TABLE_CELL",tableCellData:{cellStyle:{verticalAlignment:null===(_cell$style=cell.style)||void 0===_cell$style||null===(_cell$style$verticalA=_cell$style.verticalAlign)||void 0===_cell$style$verticalA?void 0:_cell$style$verticalA.toUpperCase(),backgroundColor:null===(_cell$style2=cell.style)||void 0===_cell$style2||null===(_cell$style2$backgrou=_cell$style2.backgroundColor)||void 0===_cell$style2$backgrou?void 0:_cell$style2$backgrou.toUpperCase()},borderColors:{top:null===(_cell$border=cell.border)||void 0===_cell$border||null===(_cell$border$top=_cell$border.top)||void 0===_cell$border$top?void 0:_cell$border$top.toUpperCase(),left:null===(_cell$border2=cell.border)||void 0===_cell$border2||null===(_cell$border2$left=_cell$border2.left)||void 0===_cell$border2$left?void 0:_cell$border2$left.toUpperCase(),right:null===(_cell$border3=cell.border)||void 0===_cell$border3||null===(_cell$border3$right=_cell$border3.right)||void 0===_cell$border3$right?void 0:_cell$border3$right.toUpperCase(),bottom:null===(_cell$border4=cell.border)||void 0===_cell$border4||null===(_cell$border4$bottom=_cell$border4.bottom)||void 0===_cell$border4$bottom?void 0:_cell$border4$bottom.toUpperCase()}},nodes:fromDraft(cell.content).nodes}}))}}))},_nestedNodesConverter),cssToRicosDecoration={color:function(style){return{type:"COLOR",colorData:{foreground:style}}},"background-color":function(style){return{type:"COLOR",colorData:{background:style}}},"font-weight":function(style){return{type:"BOLD",fontWeightValue:"bold"===style?700:400}},"font-style":function(style){return{type:"ITALIC",italicData:"italic"===style}},"text-decoration":function(style){return{type:"UNDERLINE",underlineData:"underline"===style}},"font-size":function(style){return{type:"FONT_SIZE",fontSize:style}}},convertHeaderToInlineStyles=function(styles){return Object.entries(styles).map((function(_ref){var key=_ref[0],style=_ref[1];return cssToRicosDecoration[key](style)}))},parseDocStyle=function(documentStyle){return documentStyle&&Object.entries(documentStyle).forEach((function(_ref2){var header=_ref2[0],styles=_ref2[1];header&&(documentStyle[header]={decorations:convertHeaderToInlineStyles(styles)})})),documentStyle},fromDraft=function(draftJSON,opts){void 0===opts&&(opts={});var _cloneDeep=lodash.cloneDeep(draftJSON),blocks=_cloneDeep.blocks,entityMap=_cloneDeep.entityMap,documentStyle=_cloneDeep.documentStyle,id=_cloneDeep.ID,nodes=[],parseAtomicBlock=function(_ref3){var key=_ref3.key,data=_ref3.data,entityRanges=_ref3.entityRanges;if(entityRanges&&entityRanges.length){var entity=getEntity(entityRanges[0].key,entityMap);if(entity){var _nestedNodesConverter,_nodes=(null===(_nestedNodesConverter=nestedNodesConverters[entity.type])||void 0===_nestedNodesConverter?void 0:_nestedNodesConverter.call(nestedNodesConverters,entity))||[];return _extends__default.default({id:key,nodes:_nodes,style:getNodeStyle(data)},entity)}}return null},parseQuoteBlock=function(block){return{id:block.key,type:"BLOCKQUOTE",nodes:[parseTextBlock(block)],style:getNodeStyle(block.data)}},parseCodeBlock=function(block){return{id:block.key,type:"CODE_BLOCK",nodes:getTextNodes(block,entityMap,opts),style:getNodeStyle(block.data),codeBlockData:{textStyle:getTextStyle(block.data)}}},parseHeadingBlock=function(block){return{id:block.key,type:"HEADING",headingData:{level:function(blockType){if(Object.keys(HeaderLevel).includes(blockType))return HeaderLevel[blockType];throw Error('ERROR! Unknown header level "'+blockType+'"!')}(block.type),indentation:block.depth||void 0,textStyle:getTextStyle(block.data)},nodes:getTextNodes(block,entityMap,opts),style:getNodeStyle(block.data)}},parseTextBlock=function(block){var paragraphNode=function(nodes,data,style){return void 0===nodes&&(nodes=[]),createNode("PARAGRAPH",{nodes:nodes,data:_extends__default.default({textStyle:{textAlignment:"AUTO"}},data),style:style})}([],{textStyle:getTextStyle(block.data)},getNodeStyle(block.data));switch(block.type){case BlockType.Unstyled:paragraphNode.id=block.key;case BlockType.Blockquote:case BlockType.OrderedListItem:case BlockType.UnorderedListItem:paragraphNode.paragraphData&&(paragraphNode.paragraphData.indentation=block.depth)}var nodes=getTextNodes(block,entityMap,opts);return lodash.isEmpty(nodes)||(paragraphNode.nodes=nodes),paragraphNode},createListItem=function(block){return{id:block.key,type:"LIST_ITEM",nodes:[parseTextBlock(block)]}},parseListBlocks=function parseListBlocks(listStartIndex){for(var _blocks$listStartInde=blocks[listStartIndex],listType=_blocks$listStartInde.type,depth=_blocks$listStartInde.depth,listNodes=[],searchIndex=listStartIndex,nextBlock=blocks[searchIndex];nextBlock&&void 0!==FROM_DRAFT_LIST_TYPE[nextBlock.type]&&nextBlock.depth>=depth;){if(nextBlock.depth>depth||nextBlock.type!==listType){var _parseListBlocks2=parseListBlocks(searchIndex),node=_parseListBlocks2.node,nextIndex=_parseListBlocks2.nextIndex;listNodes[listNodes.length-1].nodes.push(node),searchIndex=nextIndex}else listNodes.push(createListItem(nextBlock)),searchIndex++;nextBlock=blocks[searchIndex]}return{node:{id:generateId(),type:FROM_DRAFT_LIST_TYPE[listType],nodes:listNodes},nextIndex:searchIndex}};!function parseBlocks(index){void 0===index&&(index=0);var block=blocks[index];if(block)switch(block.type){case BlockType.Atomic:var atomicBlock=parseAtomicBlock(block);atomicBlock&&nodes.push(atomicBlock),parseBlocks(index+1);break;case BlockType.Blockquote:nodes.push(parseQuoteBlock(block)),parseBlocks(index+1);break;case BlockType.CodeBlock:nodes.push(parseCodeBlock(block)),parseBlocks(index+1);break;case BlockType.HeaderOne:case BlockType.HeaderTwo:case BlockType.HeaderThree:case BlockType.HeaderFour:case BlockType.HeaderFive:case BlockType.HeaderSix:nodes.push(parseHeadingBlock(block)),parseBlocks(index+1);break;case BlockType.OrderedListItem:case BlockType.UnorderedListItem:var _parseListBlocks=parseListBlocks(index),node=_parseListBlocks.node,nextIndex=_parseListBlocks.nextIndex;nodes.push(node),parseBlocks(nextIndex);break;case BlockType.Unstyled:nodes.push(parseTextBlock(block)),parseBlocks(index+1);break;default:if(!opts.ignoreUnsupportedValues)throw Error('ERROR! Unknown block type "'+block.type+'"!');parseBlocks(index+1)}}();var content={nodes:nodes,metadata:initializeMetadata({id:id}),documentStyle:parseDocStyle(documentStyle)};return RichContent_fromJSON(content)},toVersion=function(versionString){return versionString.split(".").map((function(literal){var numeric=parseInt(literal,10);return lodash.isNaN(numeric)?0:numeric})).slice(0,3)},compareVersions=function(left,right){var leftVersion=toVersion(left),rightVersion=toVersion(right);return leftVersion.map((function(left,idx){return Math.sign(left-rightVersion[idx])})).find((function(num){return 0!==num}))||0},evaluations={"<":function(left,right){return compareVersions(left,right)<0},">":function(left,right){return compareVersions(left,right)>0},"=":function(left,right){return 0===compareVersions(left,right)},"<=":function(left,right){return compareVersions(left,right)<=0},">=":function(left,right){return compareVersions(left,right)>=0}},Version={lessThan:function(left,right){return compareVersions(left,right)<0},greaterThan:function(left,right){return compareVersions(left,right)>0},equal:function(left,right){return 0===compareVersions(left,right)},compare:compareVersions,currentVersion:"8.63.7",evaluate:function(tested,semver){var _$exec=/([<>=]{0,2})(.*)/gm.exec(semver),operator=_$exec[1],version=_$exec[2];return evaluations[operator||"="](tested,version)}},toCamelCase_1=function(string){return toSpaceCase_1(string).replace(/\s(\w)/g,(function(matches,letter){return letter.toUpperCase()}))};var GalleryLayout,isBoolValue=function(val){return"boolean"==typeof val.boolValue},isStringValue=function(val){return"string"==typeof val.stringValue},isNumberValue=function(val){return"number"==typeof val.numberValue},isArrayValue=function(val){var _val$listValue;return lodash.isObject(val.listValue)&&Array.isArray(null===(_val$listValue=val.listValue)||void 0===_val$listValue?void 0:_val$listValue.values)},isStructValue=function(val){var _val$structValue;return lodash.isObject(val.structValue)&&lodash.isObject(null===(_val$structValue=val.structValue)||void 0===_val$structValue?void 0:_val$structValue.fields)},isNullValue=function(val){return"NULL_VALUE"===val.nullValue},mergeJsonMap=getMonoid(first()),toRecord=function(_ref){var _ref2,k=_ref[0],v=_ref[1];return(_ref2={})[k]=v,_ref2},convertStructToJson=function(message){return pipe$1(message.fields,Object.entries,map$2(bimap(convertValueToJson,identity)),map$2(toRecord),concatAll(mergeJsonMap))},convertValueToJson=function(message){return firstRight(message,null,[[isBoolValue,function(_ref3){return _ref3.boolValue}],[isNumberValue,function(_ref4){return _ref4.numberValue}],[isStringValue,function(_ref5){return _ref5.stringValue}],[isNullValue,function(){return null}],[isArrayValue,function(m){return convertListToJson(m.listValue||{values:[]})}],[isStructValue,function(m){return convertStructToJson(m.structValue||{fields:{}})}]])},convertListToJson=function(message){return pipe$1(message.values,map$2(convertValueToJson))},_excluded$2=["image"],_excluded2$1=["VERSION","ID"],_excluded3$1=["VERSION","ID"],_excluded4$1=["alignment"],_excluded5$1=["VERSION","ID"],convertNodeToDraftData=function(node){var type=node.type,draftPluginType=FROM_RICOS_ENTITY_TYPE[type],dataFieldName=TO_RICOS_DATA_FIELD[draftPluginType];return dataFieldName||console.error("No data field name | Plugin Name: "+draftPluginType),convertNodeDataToDraft(type,node[dataFieldName]||{},node.nodes)},convertDecorationToDraftData=function(decoration){var type=decoration.type,dataFieldName=TO_RICOS_DECORATION_DATA_FIELD[FROM_RICOS_DECORATION_TYPE[type]];return convertDecorationDataToDraft(type,decoration[dataFieldName])},convertNodeDataToDraft=function(nodeType,data,nodes){var _converters;if(!data)return console.error("No data for "+nodeType),{};var newData=lodash.cloneDeep(data),converters=((_converters={}).VIDEO=convertVideoData,_converters.DIVIDER=convertDividerData,_converters.FILE=convertFileData,_converters.GIF=convertGIFData,_converters.IMAGE=convertImageData,_converters.POLL=convertPollData,_converters.APP_EMBED=convertAppEmbedData,_converters.LINK_PREVIEW=convertLinkPreviewData,_converters.BUTTON=convertButtonData,_converters.COLLAPSIBLE_LIST=convertCollapsibleListData,_converters.HTML=convertHTMLData,_converters.MAP=convertMapData,_converters.EMBED=convertEmbedData,_converters.GALLERY=convertGalleryData,_converters.TABLE=convertTableData,_converters.EXTERNAL=convertExternalData,_converters);(newData.containerData&&convertContainerData(newData,nodeType),nodeType in converters)&&(0,converters[nodeType])(newData,nodes);return JSON.parse(JSON.stringify(newData))},convertDecorationDataToDraft=function(decorationType,data){var _converters2,converters=((_converters2={}).MENTION=convertMentionData,_converters2.LINK=convertLinkData,_converters2);if(decorationType in converters){var convert=converters[decorationType],newData=lodash.cloneDeep(data);return convert(newData),newData}return data},convertContainerData=function(data,nodeType){var _ref=data.containerData||{},width=_ref.width,alignment=_ref.alignment,spoiler=_ref.spoiler,height=_ref.height,_ref$textWrap=_ref.textWrap,textWrap=void 0===_ref$textWrap||_ref$textWrap,_ref2=spoiler||{},_ref2$enabled=_ref2.enabled,enabled=void 0!==_ref2$enabled&&_ref2$enabled,description=_ref2.description,buttonText=_ref2.buttonText;data.config=Object.assign({},data.config,(null==width?void 0:width.size)&&{size:toCamelCase_1(width.size)},(null==width?void 0:width.custom)&&{width:parseInt(width.custom)},(null==height?void 0:height.custom)&&{height:parseInt(height.custom)},alignment&&{alignment:null==alignment?void 0:alignment.toLowerCase()},spoiler&&{spoiler:{enabled:enabled,description:description,buttonContent:buttonText}},{textWrap:textWrap?"wrap":"nowrap"}),"IMAGE"!==nodeType&&"BUTTON"!==nodeType||null==width||!width.custom?"BUTTON"===nodeType?(data.config.size="small",data.config.width="fit-content"):"MAP"===nodeType&&null!=width&&width.custom&&(data.config.size="content"):data.config.size="inline",delete data.containerData},convertVideoData=function(data){var _data$video,videoSrc=null===(_data$video=data.video)||void 0===_data$video?void 0:_data$video.src,_ref3=data.thumbnail||{},src=_ref3.src,width=_ref3.width,height=_ref3.height;null!=videoSrc&&videoSrc.url?(data.src=videoSrc.url,data.metadata={thumbnail_url:null==src?void 0:src.url,width:width,height:height,title:data.title}):(null!=videoSrc&&videoSrc.id||null!=videoSrc&&videoSrc.custom)&&(data.src={pathname:(null==videoSrc?void 0:videoSrc.id)||(null==videoSrc?void 0:videoSrc.custom),thumbnail:{pathname:(null==src?void 0:src.id)||(null==src?void 0:src.custom),width:width,height:height}}),delete data.video,delete data.title,delete data.thumbnail},convertExternalData=function(data){var draftData=convertStructToJson(data);Object.entries(draftData).forEach((function(_ref4){var k=_ref4[0],v=_ref4[1];data[k]=v})),delete data.fields},convertDividerData=function(data){var _data$lineStyle,_data$width,_data$alignment;(data.type=null===(_data$lineStyle=data.lineStyle)||void 0===_data$lineStyle?void 0:_data$lineStyle.toLowerCase(),delete data.lineStyle,data.config=data.config||{},lodash.has(data,"width"))&&(data.config.size=null===(_data$width=data.width)||void 0===_data$width?void 0:_data$width.toLowerCase(),delete data.width);lodash.has(data,"alignment")&&(data.config.alignment=null===(_data$alignment=data.alignment)||void 0===_data$alignment?void 0:_data$alignment.toLowerCase(),delete data.alignment);delete data.containerData};!function(GalleryLayout){GalleryLayout[GalleryLayout.COLLAGE=0]="COLLAGE",GalleryLayout[GalleryLayout.MASONRY=1]="MASONRY",GalleryLayout[GalleryLayout.GRID=2]="GRID",GalleryLayout[GalleryLayout.THUMBNAIL=3]="THUMBNAIL",GalleryLayout[GalleryLayout.SLIDER=4]="SLIDER",GalleryLayout[GalleryLayout.SLIDESHOW=5]="SLIDESHOW",GalleryLayout[GalleryLayout.PANORAMA=6]="PANORAMA",GalleryLayout[GalleryLayout.COLUMN=7]="COLUMN",GalleryLayout[GalleryLayout.MAGIC=8]="MAGIC",GalleryLayout[GalleryLayout.FULLSIZE=9]="FULLSIZE"}(GalleryLayout||(GalleryLayout={}));var _ricosDecorationToCss,convertGalleryData=function(data){var options,styles;lodash.has(data,"items")&&(data.items=data.items.map((function(item){return function(item){var type=lodash.has(item,"image")?"image":"video",_item$type$media=item[type].media,url=_item$type$media.src.url,height=_item$type$media.height,width=_item$type$media.width;if(item.url=url,item.metadata={height:height,width:width,type:type},lodash.has(item,"title")&&(item.metadata.title=item.title),lodash.has(item,"altText")&&(item.metadata.altText=item.altText),lodash.has(item,"video.thumbnail")){var _item$video$thumbnail=item.video.thumbnail,_url=_item$video$thumbnail.src.url,_height=_item$video$thumbnail.height,_width=_item$video$thumbnail.width;item.metadata.poster={url:_url,height:_height,width:_width}}return lodash.has(item,"image.link")&&(item.metadata.link=item.image.link),delete item.video,delete item.image,delete item.title,delete item.altText,item}(item)}))),lodash.has(data,"options")&&(data.styles=(options=data.options,styles={},lodash.has(options,"layout.type")&&(styles.galleryLayout=parseInt(GalleryLayout[options.layout.type])),lodash.has(options,"layout.horizontalScroll")&&(styles.oneRow=options.layout.horizontalScroll),lodash.has(options,"layout.orientation")&&(styles.isVertical="COLUMNS"===options.layout.orientation),lodash.has(options,"layout.numberOfColumns")&&(styles.numberOfImagesPerRow=options.layout.numberOfColumns),lodash.has(options,"item.targetSize")&&(styles.gallerySizePx=options.item.targetSize),lodash.has(options,"item.ratio")&&(styles.cubeRatio=options.item.ratio),lodash.has(options,"item.crop")&&(styles.cubeType=options.item.crop.toLowerCase()),lodash.has(options,"item.spacing")&&(styles.imageMargin=options.item.spacing),lodash.has(options,"thumbnails.placement")&&(styles.galleryThumbnailsAlignment=options.thumbnails.placement.toLowerCase()),lodash.has(options,"thumbnails.spacing")&&(styles.thumbnailSpacings=options.thumbnails.spacing/2),styles)),delete data.options},convertImageData=function(data){var _links$link,link=data.link,config=data.config,image=data.image,altText=data.altText,caption=data.caption,_ref5=image||{},src=_ref5.src,width=_ref5.width,height=_ref5.height,id=(null==src?void 0:src.id)||(null==src?void 0:src.custom);data.src=id?{id:id,file_name:id,width:width,height:height}:{url:null==src?void 0:src.url,source:"static"};var links=null!=link&&link.anchor?{anchor:null==link?void 0:link.anchor}:{link:link&&parseLink(link)};if(null!==(_links$link=links.link)&&void 0!==_links$link&&_links$link.customData){var _links$link2,parsedCustomData=parseLinkCustomData(null===(_links$link2=links.link)||void 0===_links$link2?void 0:_links$link2.customData);lodash.merge(links.link,parsedCustomData),parsedCustomData.customData||delete links.link.customData}data.config=_extends__default.default({},config||{},links),data.metadata=(altText||caption)&&{caption:caption,alt:altText},delete data.image,delete data.link,delete data.caption,delete data.altText},convertGIFData=function(data){var _data$original=data.original,original=void 0===_data$original?{}:_data$original,_data$downsized=data.downsized,downsized=void 0===_data$downsized?{}:_data$downsized,height=data.height,width=data.width;data.gif={originalUrl:original.gif,originalMp4:original.mp4,stillUrl:original.still,downsizedUrl:downsized.gif,downsizedSmallMp4:downsized.mp4,downsizedStillUrl:downsized.still,height:height,width:width},delete data.original,delete data.downsized,delete data.height,delete data.width},convertPollData=function(data){if(lodash.has(data,"layout.poll.type")&&(data.layout.poll.type=data.layout.poll.type.toLowerCase()),lodash.has(data,"layout.poll.direction")&&(data.layout.poll.direction=data.layout.poll.direction.toLowerCase()),lodash.has(data,"layout.options")&&(data.layout.option=data.layout.options,delete data.layout.options),lodash.has(data,"design")){var _background$type,_data$design=data.design,_data$design$poll=_data$design.poll,poll=void 0===_data$design$poll?{}:_data$design$poll,_data$design$options=_data$design.options,options=void 0===_data$design$options?{}:_data$design$options,background=poll.background,borderRadius=poll.borderRadius;data.design={poll:{backgroundType:null==background||null===(_background$type=background.type)||void 0===_background$type?void 0:_background$type.toLowerCase(),background:function(background){var _background$gradient,_background$gradient2,_background$gradient3,_background$color,_background$color$cha,_background$image,_background$image$src;return null!=background&&background.gradient?{angle:null==background||null===(_background$gradient=background.gradient)||void 0===_background$gradient?void 0:_background$gradient.angle,start:null==background||null===(_background$gradient2=background.gradient)||void 0===_background$gradient2?void 0:_background$gradient2.startColor,end:null==background||null===(_background$gradient3=background.gradient)||void 0===_background$gradient3?void 0:_background$gradient3.lastColor}:"#"===(null==background||null===(_background$color=background.color)||void 0===_background$color||null===(_background$color$cha=_background$color.charAt)||void 0===_background$color$cha?void 0:_background$color$cha.call(_background$color,0))?null==background?void 0:background.color:null==background||null===(_background$image=background.image)||void 0===_background$image||null===(_background$image$src=_background$image.src)||void 0===_background$image$src?void 0:_background$image$src.url}(background),borderRadius:borderRadius+"px"},option:{borderRadius:options.borderRadius+"px"}}}if(lodash.has(data,"poll.pollId")&&(data.poll.id=data.poll.pollId),delete data.poll.pollId,lodash.has(data,"poll.creatorId")&&(data.poll.createdBy=data.poll.creatorId),delete data.poll.creatorId,lodash.has(data,"poll.image.src.url")&&(data.poll.mediaId=data.poll.image.src.url),delete data.poll.image,lodash.has(data,"poll.options")&&(data.poll.options=data.poll.options.map((function(_ref6){var _image$src,image=_ref6.image,rest=_objectWithoutPropertiesLoose__default.default(_ref6,_excluded$2);return _extends__default.default({mediaId:null==image||null===(_image$src=image.src)||void 0===_image$src?void 0:_image$src.url},rest)}))),lodash.has(data,"poll.settings")){var _data$poll$settings=data.poll.settings,showVotesCount=_data$poll$settings.showVotesCount,showVoters=_data$poll$settings.showVoters,_ref7=_data$poll$settings.permissions||{},view=_ref7.view,vote=_ref7.vote,allowMultipleVotes=_ref7.allowMultipleVotes;data.poll.settings={resultsVisibility:function(view){return"EVERYONE"===view?"ALWAYS":"VOTERS"===view?"VOTERS_ONLY":"ONLY_ME"}(view),multipleVotes:allowMultipleVotes,voteRole:vote,votersDisplay:showVoters,votesDisplay:showVotesCount}}data.config.size="large",data.config.width="full-width"},convertAppEmbedData=function(data){var type=data.type,itemId=data.itemId,name=data.name,imageSrc=data.imageSrc,url=data.url,bookingData=data.bookingData,eventData=data.eventData;data.type=type.toLowerCase();var selectedProduct=_extends__default.default({id:itemId,name:name,imageSrc:imageSrc,pageUrl:url},bookingData||{},eventData||{});data.selectedProduct=selectedProduct,delete data.id,delete data.itemId,delete data.name,delete data.imageSrc,delete data.url,bookingData&&delete data.bookingData,eventData&&delete data.eventData},convertLinkPreviewData=function(data){data.thumbnailUrl&&(data.thumbnail_url=data.thumbnailUrl,delete data.thumbnailUrl),data.link&&(data.config.link=parseLink(data.link),delete data.link)},convertMentionData=function(data){data.mention={slug:data.slug,name:data.name},delete data.name,delete data.slug},convertFileData=function(data){var _ref8=data.src||{},url=_ref8.url,id=_ref8.id,custom=_ref8.custom,isPrivate=_ref8.private;data.url=url,data.id=id||custom,function(target,isPrivate){var privacy=void 0!==isPrivate?isPrivate?"private":"public":void 0;target.privacy=privacy}(data,isPrivate),delete data.src},convertCollapsibleListData=function(data,nodes){var _ref9=data||{},initialExpandedItems=_ref9.initialExpandedItems,expandOnlyOne=_ref9.expandOnlyOne,direction=_ref9.direction,config={expandState:function(initialExpandedItems){return"ALL"===initialExpandedItems?"expanded":"NONE"===initialExpandedItems?"collapsed":"first_expanded"}(initialExpandedItems),expandOnlyOne:expandOnlyOne,direction:null==direction?void 0:direction.toLowerCase()};data.config=_extends__default.default({},data.config,config),data.pairs=nodes.map((function(node){var _toDraft=toDraft(node.nodes[0]);_toDraft.VERSION,_toDraft.ID;var title=_objectWithoutPropertiesLoose__default.default(_toDraft,_excluded2$1),_toDraft2=toDraft(node.nodes[1]);_toDraft2.VERSION,_toDraft2.ID;var content=_objectWithoutPropertiesLoose__default.default(_toDraft2,_excluded3$1);return{key:node.id,title:title,content:content}})),delete data.initialExpandedItems,delete data.expandOnlyOne,delete data.direction,delete data.config.alignment},convertButtonData=function(data){var link=data.link,text=data.text,_ref10=data.styles||{},colors=_ref10.colors,_ref11=_ref10.border||{},width=_ref11.width,radius=_ref11.radius,convertedLink=link?parseLink(link):{};data.button={settings:_extends__default.default({buttonText:text},convertedLink),design:{borderRadius:radius,borderWidth:width,background:null==colors?void 0:colors.background,color:null==colors?void 0:colors.text,borderColor:null==colors?void 0:colors.border}},delete data.link,delete data.text,delete data.type,delete data.styles},convertHTMLData=function(data){var html=data.html,url=data.url,_data$config=data.config,config=void 0===_data$config?{}:_data$config,srcType=html?"html":"url";data.srcType=srcType,data.src=html||url,delete data[srcType],config.size&&delete data.config.size},convertMapData=function(data){var _data$mapSettings=data.mapSettings,draggable=_data$mapSettings.draggable,marker=_data$mapSettings.marker,streetViewControl=_data$mapSettings.streetViewControl,zoomControl=_data$mapSettings.zoomControl,locationName=_data$mapSettings.locationName,viewModeControl=_data$mapSettings.viewModeControl,initialZoom=_data$mapSettings.initialZoom,mapType=_data$mapSettings.mapType;data.mapSettings.isDraggingAllowed=draggable,data.mapSettings.isMarkerShown=marker,data.mapSettings.isStreetViewControlShown=streetViewControl,data.mapSettings.isZoomControlShown=zoomControl,data.mapSettings.locationDisplayName=locationName,data.mapSettings.zoom=initialZoom,data.mapSettings.mode=null==mapType?void 0:mapType.toLowerCase(),delete data.mapSettings.draggable,delete data.mapSettings.marker,delete data.mapSettings.streetViewControl,delete data.mapSettings.zoomControl,delete data.mapSettings.locationName,delete data.mapSettings.initialZoom,delete data.mapSettings.mapType,viewModeControl&&(data.mapSettings.isViewControlShown=viewModeControl,delete data.mapSettings.viewModeControl)},convertEmbedData=function(data){data.config=_extends__default.default({},(null==data?void 0:data.config)||{},{alignment:"center",size:"content",link:{url:data.src,target:"_blank",rel:"noopener"}});var _data$oembed=data.oembed,html=_data$oembed.html,thumbnailUrl=_data$oembed.thumbnailUrl,title=_data$oembed.title,description=_data$oembed.description;data.html=html,thumbnailUrl&&(data.thumbnail_url=thumbnailUrl),title&&(data.title=title),description&&(data.description=description),delete data.oembed,delete data.src},convertLinkData=function(data){if(data.link){var _parseLink=parseLink(data.link),url=_parseLink.url,target=_parseLink.target,rel=_parseLink.rel,customData=_parseLink.customData;if(data.url=url,target&&(data.target=target),rel&&(data.rel=rel),customData){var customDataObj=parseLinkCustomData(customData);lodash.merge(data,customDataObj)}delete data.link}},parseLinkCustomData=function(customData){try{return{customData:JSON.parse(customData)}}catch(e){return console.error("failed to parse customData",customData),{customData:customData}}},convertTableData=function(data,nodes){var _ref12=data||{},_ref12$dimensions=_ref12.dimensions,colsWidthRatio=_ref12$dimensions.colsWidthRatio,rowsHeight=_ref12$dimensions.rowsHeight,colsMinWidth=_ref12$dimensions.colsMinWidth,header=_ref12.header,_data$config2=data.config;_data$config2.alignment;var rest=_objectWithoutPropertiesLoose__default.default(_data$config2,_excluded4$1);data.config=_extends__default.default({},rest,{colsWidth:colsWidthRatio,rowsHeight:rowsHeight,colsMinWidth:colsMinWidth,rowHeader:header});var rows={};nodes.forEach((function(row,i){rows[i]={columns:{}},row.nodes.forEach((function(cell,j){var _cellStyle$verticalAl,_cellStyle$background,_borderColors$top,_borderColors$left,_borderColors$right,_borderColors$bottom,_toDraft3=toDraft(cell);_toDraft3.VERSION,_toDraft3.ID;var content=_objectWithoutPropertiesLoose__default.default(_toDraft3,_excluded5$1),_ref13=cell.tableCellData||{},_ref13$cellStyle=_ref13.cellStyle,cellStyle=void 0===_ref13$cellStyle?{}:_ref13$cellStyle,_ref13$borderColors=_ref13.borderColors,borderColors=void 0===_ref13$borderColors?{}:_ref13$borderColors;rows[i].columns[j]={content:content,style:{verticalAlign:null===(_cellStyle$verticalAl=cellStyle.verticalAlignment)||void 0===_cellStyle$verticalAl?void 0:_cellStyle$verticalAl.toLowerCase(),backgroundColor:null===(_cellStyle$background=cellStyle.backgroundColor)||void 0===_cellStyle$background?void 0:_cellStyle$background.toLowerCase()},border:{top:null===(_borderColors$top=borderColors.top)||void 0===_borderColors$top?void 0:_borderColors$top.toLowerCase(),left:null===(_borderColors$left=borderColors.left)||void 0===_borderColors$left?void 0:_borderColors$left.toLowerCase(),right:null===(_borderColors$right=borderColors.right)||void 0===_borderColors$right?void 0:_borderColors$right.toLowerCase(),bottom:null===(_borderColors$bottom=borderColors.bottom)||void 0===_borderColors$bottom?void 0:_borderColors$bottom.toLowerCase()}}}))})),data.config.rows=rows,delete data.dimensions,delete data.header},createAtomicEntityData=function(node,entityKey){var _getNodeEntityData=function(node){var _node$buttonData,type=node.type,draftPluginType=FROM_RICOS_ENTITY_TYPE[type];"BUTTON"===type?draftPluginType="ACTION"===(null===(_node$buttonData=node.buttonData)||void 0===_node$buttonData?void 0:_node$buttonData.type)?ACTION_BUTTON_TYPE:LINK_BUTTON_TYPE:"EMBED"===type&&(draftPluginType=LINK_PREVIEW_TYPE);var data=convertNodeToDraftData(node);if(void 0===data)throw Error('ERROR! Unknown entity type "'+type+'"!');return{type:draftPluginType,data:data}}(node),type=_getNodeEntityData.type,data=_getNodeEntityData.data;return createEntity(entityKey,{type:type,mutability:"IMMUTABLE",data:data})},createTextBlockData=function(node){var indentation=(node[RICOS_NODE_TYPE_TO_DATA_FIELD[node.type]]||{}).indentation,_getDynamicStyles=function(node){var _ref2=(node[RICOS_NODE_TYPE_TO_DATA_FIELD[node.type]]||{}).textStyle||{},textAlignment=_ref2.textAlignment,lineHeight=_ref2.lineHeight,_ref3=node.style||{};return{textAlignment:textAlignment,lineHeight:lineHeight,paddingTop:_ref3.paddingTop,paddingBottom:_ref3.paddingBottom}}(node),textAlignment=_getDynamicStyles.textAlignment,lineHeight=_getDynamicStyles.lineHeight,paddingTop=_getDynamicStyles.paddingTop,paddingBottom=_getDynamicStyles.paddingBottom;return JSON.parse(JSON.stringify({textAlignment:"AUTO"!==textAlignment?null==textAlignment?void 0:textAlignment.toLowerCase():void 0,dynamicStyles:(paddingTop||paddingBottom||lineHeight)&&{"padding-top":paddingTop,"padding-bottom":paddingBottom,"line-height":lineHeight},depth:indentation}))},createEntity=function(key,_ref5){var _ref6,type=_ref5.type,mutability=_ref5.mutability,data=_ref5.data;return(_ref6={})[key.toString()]={type:type,mutability:mutability,data:data},_ref6},emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])?|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g,_excluded$1=["colorData"],_excluded2=["fontSizeData"],_excluded3=["fontWeightValue"],_excluded4=["italicData"],_excluded5=["underlineData"],isInlineStyleDecoration=function(decorationType){return void 0===TO_RICOS_DECORATION_DATA_FIELD[decorationType]},parseEntityDecorations=function(decorations,latestEntityKey){var _decorations$reduce=decorations.reduce((function(_ref4,decoration){var entityRanges=_ref4.entityRanges,entityMap=_ref4.entityMap,newEntityKey=_ref4.latestEntityKey+1,newEntityMap=function(decoration,entityKey){var type=decoration.type,data=decoration.emojiData||convertDecorationToDraftData(_extends__default.default({},decoration,{type:TO_RICOS_DECORATION_TYPE[type]}));if(void 0===data)throw Error('ERROR! Unknown entity type "'+type+'"!');var mutability=ENTITY_DECORATION_TO_MUTABILITY[type];return createEntity(entityKey,{type:type,mutability:mutability,data:data})}(decoration,newEntityKey);return{entityRanges:[].concat(entityRanges,[{key:newEntityKey,offset:decoration.start,length:decoration.end-decoration.start}]),entityMap:_extends__default.default({},entityMap,newEntityMap),latestEntityKey:newEntityKey}}),{entityRanges:[],entityMap:{},latestEntityKey:latestEntityKey});return{entityRanges:_decorations$reduce.entityRanges,entityMap:_decorations$reduce.entityMap,latestEntityKey:_decorations$reduce.latestEntityKey}},convertDecorationTypes=function(decorations){return decorations.flatMap((function(decoration){return function(arg){for(var _len=arguments.length,fns=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)fns[_key-1]=arguments[_key];return fns.reduce((function(v,fn){return fn(v)}),arg)}(decoration,toDraftDecorationType,convertFontSize,convertFontWeight,convertItalic,convertUnderline,splitColorDecoration)}))},ricosDecorationToCss=((_ricosDecorationToCss={}).BOLD=function(_ref5){var fontWeightValue=_ref5.fontWeightValue;return{"font-weight":!fontWeightValue||fontWeightValue>=700?"bold":"normal"}},_ricosDecorationToCss.ITALIC=function(_ref6){var italicData=_ref6.italicData;return{"font-style":italicData||void 0===italicData?"italic":"normal"}},_ricosDecorationToCss.UNDERLINE=function(_ref7){var underlineData=_ref7.underlineData;return{"text-decoration":underlineData||void 0===underlineData?"underline":"none"}},_ricosDecorationToCss.FONT_SIZE=function(_ref8){var fontSizeData=_ref8.fontSizeData;return{"font-size":fontSizeData.value+(fontSizeData.unit||"px")}},_ricosDecorationToCss.COLOR=function(_ref9){var colorData=_ref9.colorData,foreground=colorData.foreground,background=colorData.background,colors={};return foreground&&(colors.color=foreground),background&&(colors["background-color"]=background),colors},_ricosDecorationToCss),createEmojiDecorations=function(text){for(var match,result=[];null!==(match=emojiRegex.exec(text));){var _match=match,emojiUnicode=_match[0],start=_match.index,decoration={type:"EMOJI_TYPE",emojiData:{emojiUnicode:emojiUnicode},start:start,end:start+Array.from(emojiUnicode).length};result.push(decoration)}return result},toDraftDecorationType=function(decoration){var type=lodash.omit(FROM_RICOS_DECORATION_TYPE,["BOLD","ITALIC","UNDERLINE"])[decoration.type];return type?_extends__default.default({},decoration,{type:type}):decoration},splitColorDecoration=function(_ref10){var colorData=_ref10.colorData,decoration=_objectWithoutPropertiesLoose__default.default(_ref10,_excluded$1);if(!colorData)return decoration;var foreground=colorData.foreground,background=colorData.background;return[foreground&&{FG:foreground},background&&{BG:background}].filter((function(x){return x})).map((function(type){return _extends__default.default({},decoration,{type:JSON.stringify(type)})}))},convertFontSize=function(_ref11){var _fontSizeData$value,_fontSizeData$unit,fontSizeData=_ref11.fontSizeData,decoration=_objectWithoutPropertiesLoose__default.default(_ref11,_excluded2);return fontSizeData?_extends__default.default({},decoration,{type:JSON.stringify({"font-size":(null===(_fontSizeData$value=fontSizeData.value)||void 0===_fontSizeData$value?void 0:_fontSizeData$value.toString())+((null===(_fontSizeData$unit=fontSizeData.unit)||void 0===_fontSizeData$unit?void 0:_fontSizeData$unit.toLowerCase())||"px")})}):decoration},convertFontWeight=function(_ref12){var fontWeightValue=_ref12.fontWeightValue,decoration=_objectWithoutPropertiesLoose__default.default(_ref12,_excluded3);return"BOLD"===decoration.type?_extends__default.default({},decoration,{type:!fontWeightValue||fontWeightValue>=700?"BOLD":"NOT_BOLD"}):decoration},convertItalic=function(_ref13){var italicData=_ref13.italicData,decoration=_objectWithoutPropertiesLoose__default.default(_ref13,_excluded4),isItalicDataUndefined=void 0===italicData;return"ITALIC"===decoration.type?_extends__default.default({},decoration,{type:isItalicDataUndefined||italicData?"ITALIC":"NOT_ITALIC"}):decoration},convertUnderline=function(_ref14){var underlineData=_ref14.underlineData,decoration=_objectWithoutPropertiesLoose__default.default(_ref14,_excluded5),isUnerlineDataUndefined=void 0===underlineData;return"UNDERLINE"===decoration.type?_extends__default.default({},decoration,{type:isUnerlineDataUndefined||underlineData?"UNDERLINE":"NOT_UNDERLINE"}):decoration},decorationComparator=function(a,b){return"start"in a&&"start"in b?a.start-b.start:a[0].start-b[0].start},keyToId=function(v){return void 0!==(null==v?void 0:v.key)?_extends__default.default({id:v.key},v):v},bulletToBulleted=function(v){return"BULLET_LIST"===v?"BULLETED_LIST":v},appEmbedIdToItemId=function(v){return null!=v&&v.id&&null!=v&&v.imageSrc?_extends__default.default({},v,{itemId:v.id}):v},pollIdToOptionId=function(v){return null!=v&&v.id&&null!=v&&v.latestVoters?_extends__default.default({},v,{optionId:v.id}):v},idToPollId=function(v){return null!=v&&v.id&&null!=v&&v.options?_extends__default.default({},v,{pollId:v.id}):v},preprocess=flow(function(replacer,space){return void 0===space&&(space=2),function(a){return tryCatch((function(){var s=JSON.stringify(a,replacer,space);if("string"!=typeof s)throw new Error("Converting unsupported structure to JSON");return s}),identity)}}((function(_,v){return pipe$1(v,keyToId,bulletToBulleted,appEmbedIdToItemId,pollIdToOptionId,idToPollId)})),chain((function(s){return tryCatch((function(){return JSON.parse(s)}),identity)})),fold((function(){return{}}),(function(res){return res}))),_excluded=["depth"],toDraft=flow(preprocess,(function(ricosContent){var _ricosContent$metadat,nodes=ricosContent.nodes,documentStyle=ricosContent.documentStyle,draftContent={blocks:[],entityMap:{}},latestEntityKey=-1,usedKeys={},parseAtomicNode=function(node){var entityMap=createAtomicEntityData(node,latestEntityKey+=1);addBlock({key:node.id,type:BlockType.Atomic,text:" ",entityRanges:[{offset:0,length:1,key:latestEntityKey}]}),draftContent.entityMap=_extends__default.default({},draftContent.entityMap,entityMap)},parseListNode=function parseListNode(node,indentation){void 0===indentation&&(indentation=0),node.nodes.forEach((function(listItem){var _listItem$nodes=listItem.nodes,paragraph=_listItem$nodes[0],childNode=_listItem$nodes[1];parseTextNodes(paragraph,{type:TO_DRAFT_LIST_TYPE[node.type],key:listItem.id,indentation:indentation}),childNode&&parseListNode(childNode,indentation+1)}))},parseTextNodes=function(node,_ref){var type=_ref.type,key=_ref.key,indentation=_ref.indentation,_mergeTextNodes=function(nodes){var length=0;return nodes.reduce((function(_ref,currNode){var text=_ref.text,decorationMap=_ref.decorationMap,accText=text;if(currNode.textData){var _currNode$textData=currNode.textData,currText=_currNode$textData.text,currDecorations=_currNode$textData.decorations,textLength=Array.from(currText).length;accText+=currText,currDecorations&&convertDecorationTypes(currDecorations).forEach((function(decoration){decorationMap[decoration.type]||(decorationMap[decoration.type]=[]),decorationMap[decoration.type]=[].concat(decorationMap[decoration.type],[_extends__default.default({},decoration,{start:length,end:length+textLength})])})),length+=textLength}return{text:accText,decorationMap:decorationMap}}),{text:"",decorationMap:{}})}(node.nodes),text=_mergeTextNodes.text,_parseDecorations=function(decorationMap,text){var decorations=Object.values(decorationMap).sort(decorationComparator).reduce((function(decorations,currentDecorations){if(currentDecorations.length>0){var mergedDecorations=[currentDecorations.shift()];return currentDecorations.forEach((function(decoration){var lastDecoration=mergedDecorations.pop();decoration.start===lastDecoration.end?mergedDecorations.push(_extends__default.default({},lastDecoration,{end:decoration.end})):mergedDecorations.push(lastDecoration,decoration)})),[].concat(decorations,mergedDecorations.sort(decorationComparator))}return decorations}),[]),allDecorations=[].concat(decorations,createEmojiDecorations(text)),entityDecorations=allDecorations.filter((function(_ref2){var type=_ref2.type;return!isInlineStyleDecoration(type)})).sort(decorationComparator);return{inlineStyleDecorations:allDecorations.filter((function(_ref3){var type=_ref3.type;return isInlineStyleDecoration(type)})),entityDecorations:entityDecorations}}(_mergeTextNodes.decorationMap,text),inlineStyleDecorations=_parseDecorations.inlineStyleDecorations,entityDecorations=_parseDecorations.entityDecorations,inlineStyleRanges=inlineStyleDecorations.reduce((function(inlineStyleRanges,decoration){return[].concat(inlineStyleRanges,[{style:decoration.type,offset:decoration.start,length:decoration.end-decoration.start}])}),[]),_parseEntityDecoratio=parseEntityDecorations(entityDecorations,latestEntityKey),entityRanges=_parseEntityDecoratio.entityRanges,entityMap=_parseEntityDecoratio.entityMap,newLatestEntityKey=_parseEntityDecoratio.latestEntityKey;latestEntityKey=newLatestEntityKey;var _createTextBlockData=createTextBlockData(node),depth=_createTextBlockData.depth,data=_objectWithoutPropertiesLoose__default.default(_createTextBlockData,_excluded);addBlock({key:key,type:type,text:text,depth:indentation||depth,inlineStyleRanges:inlineStyleRanges,entityRanges:entityRanges,data:data}),draftContent.entityMap=_extends__default.default({},draftContent.entityMap,entityMap)},addBlock=function(blockProps){var newBlock=lodash.merge({key:generateId(),type:BlockType.Unstyled,text:"",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},blockProps);if(usedKeys[newBlock.key]&&""!==newBlock.key)throw Error('ERROR! Duplicate block key "'+newBlock.key+'"!');usedKeys[newBlock.key]=!0,draftContent.blocks=[].concat(draftContent.blocks,[newBlock])};return function parseNodes(index){void 0===index&&(index=0);var node=nodes[index];if(node){switch(node.type){case"BLOCKQUOTE":parseTextNodes(function(node){if("PARAGRAPH"===node.nodes[0].type)return node.nodes[0];throw Error("Expected a paragraph node but found "+node.nodes[0].type)}(node),{type:BlockType.Blockquote,key:node.id});break;case"CODE_BLOCK":parseTextNodes(node,{type:BlockType.CodeBlock,key:node.id});break;case"HEADING":if(!node.headingData)throw Error("ERROR! Heading node with no data!");parseTextNodes(node,{type:HeaderLevel[node.headingData.level],key:node.id});break;case"ORDERED_LIST":case"BULLETED_LIST":parseListNode(node);break;case"PARAGRAPH":parseTextNodes(node,{type:BlockType.Unstyled,key:node.id});break;default:if(!RICOS_NODE_TYPE_TO_DATA_FIELD[node.type])throw Error('ERROR! Unknown node type "'+node.type+'"!');parseAtomicNode(node)}parseNodes(index+1)}}(),documentStyle&&(draftContent.documentStyle=function(documentStyle){var draftDocStyle={};return Object.entries(documentStyle).forEach((function(_ref2){var header=_ref2[0],decorations=_ref2[1].decorations;draftDocStyle[header]=function(decorations){var draftBlockStyles={};return decorations.forEach((function(decoration){draftBlockStyles=_extends__default.default({},draftBlockStyles,ricosDecorationToCss[decoration.type](decoration))})),draftBlockStyles}(decorations)})),draftDocStyle}(documentStyle)),draftContent.VERSION=Version.currentVersion,draftContent.ID=(null===(_ricosContent$metadat=ricosContent.metadata)||void 0===_ricosContent$metadat?void 0:_ricosContent$metadat.id)||uuid.v4(),draftContent}));exports.convertBlockDataToRicos=convertBlockDataToRicos,exports.convertDecorationDataToDraft=convertDecorationDataToDraft,exports.convertDecorationToDraftData=convertDecorationToDraftData,exports.convertNodeDataToDraft=convertNodeDataToDraft,exports.convertNodeToDraftData=convertNodeToDraftData,exports.ensureDraftContent=function(content){return"nodes"in content?toDraft(content):content},exports.ensureRicosContent=function(content){return"blocks"in content?fromDraft(content):content},exports.fromDraft=fromDraft,exports.toDraft=toDraft;
