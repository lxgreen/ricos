"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=require("@babel/runtime/helpers/extends"),_objectWithoutPropertiesLoose=require("@babel/runtime/helpers/objectWithoutPropertiesLoose");require("lodash");var uuid=require("uuid");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var _extends__default=_interopDefaultLegacy(_extends),_objectWithoutPropertiesLoose__default=_interopDefaultLegacy(_objectWithoutPropertiesLoose),initializeMetadata=function(_temp){var _ref2=void 0===_temp?{}:_temp,version=_ref2.version,_ref2$id=_ref2.id,id=void 0===_ref2$id?uuid.v4():_ref2$id,createdTimestamp=_ref2.createdTimestamp,updatedTimestamp=_ref2.updatedTimestamp;return{version:version||1,createdTimestamp:createdTimestamp||new Date,updatedTimestamp:updatedTimestamp||new Date,id:id}},_excluded=["metadata"];exports.ensureContentId=function(content){var _content$metadata,metadata;return content?null!==(_content$metadata=content.metadata)&&void 0!==_content$metadata&&_content$metadata.id?content:function(_ref){var metadata=_ref.metadata,rest=_objectWithoutPropertiesLoose__default.default(_ref,_excluded);return _extends__default.default({},rest,{metadata:initializeMetadata(_extends__default.default({},metadata||{},{id:uuid.v4()}))})}(content):{nodes:[],metadata:initializeMetadata(metadata)}},exports.extractIdFromContent=function(content){var _content$metadata2;return null===(_content$metadata2=content.metadata)||void 0===_content$metadata2?void 0:_content$metadata2.id};
